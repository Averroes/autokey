#summary One-sentence summary of this page.
<h1>Autokey-users From Google</h1>
<br /> <br />
<p>This file consists of 244  Google Autokey-users threads and is up to date as of 7:22 pm EDT September 29th, 2011.</p>
<p>During all the manipulation required to import this from Google's Autokey-users, all of the accents and special characters got trashed.</p>
<p>Anyone who is bothered by this can collect the correct accents--on a sentence by sentence basis--and arrange to email them to me using the AK forum and I will replace them.  Otherwise the export to HTML format is readable, much more searchable using Ctrl + F in your browser and can be saved to your hard drive for use off-line.  I am trying to write the new documentation for the new version of Autokey and will be much to busy with that to do more than add the accents and MAJOR corrections that may be sent or pointed out to me.</p>
<p>The text extracted from Google's Autokey-users forum was a HUGE mess.  I think I got most of it at least in a readable format, but if there are any major errors, please post them on the AK forum.</p>
<p>Any suggestions are welcome.</p>
<p>Keith Daniels,  <br />September 29, 7:22 pm</p>
<br />
<br /><hr /><br /><br /><h1><font color="#225588">How to re-import pre-v0.80 settings</font></h1>
<p></p>
1 post by 1 author.
<h3><font color="#FF4500">Chris D  said…</font></h3>
<p>For those who have experienced problems with importing their old
scripts and phrases, here are instructions on how to trigger a re-
import following upgrading to v0.80.1 (which should hopefully resolve
and upgrade issues):  </p>
<pre>
 1. Quit AutoKey.

 2. Move ~/.config/autokey/data to somewhere else in your home folder
 (this will back up any new items you've created since upgrading to v0.80.0).

 3. Delete ~/.config/autokey/autokey.json and ~/.config/autokey/autokey.json~.

 4. Rename ~/.config/autokey/autokey.json<oldver> to ~/.config/autokey/autokey.json.

 5. Upgrade your installation using apt or your preferred method.

 6. Next time you start AutoKey the upgrade/import will be performed again.
</pre>
<p>Chris</p>
<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: resize window</font></h1>

4 posts by 3 authors.

<h3><font color="#FF4500">cedardoc</font></h3>

Sep 23, 2011.

I have this code:

<pre>
window.resize_move("today.png", xOrigin=-1, yOrigin=-1, width=600, height=600)
</pre>
That doesn't seem to work.

I also tried what was in the API window page:

<pre>
Usage: window.close(title, xOrigin=-1, yOrigin=-1, width=-1, height=-1)
</pre>
But assumed that was a typo, and also didn't work.

Am I doing something wrong with the code here?

Thanks.  Dave.

<h3><font color="#FF4500">Visuex said…</font></h3>

Sep 23, 2011.

Why use autoey to resize a window when there are built in functions for that in linux…i am not at my computer so I don't have the details at my disposal but you can use wmctrl in a terminal  Use the following for options:

<pre>
Command: wmctrl --help
</pre>
There is also built in functions for finding window data using xwininfo.

<h3><font color="#FF4500">cedardoc said…</font></h3>

Sep 23, 2011.

Thanks. here's what worked (in context):

<pre>
import subprocess
subprocess.call(['xdg-open', '/home/david/Dropbox/GaitscansDB/today.png'])
time.sleep(1)
system.exec_command("wmctrl -r 'today.png' -e 0,0,0,1100,1000",False)
</pre>
It didn't work at first until I put the time.sleep thing in there, so its' possible the build in command might have worked after all if I'd put that pause with it as well:

<h3><font color="#FF4500">Evan Edwards said…</font></h3>

Sep 23, 2011.

<pre>
On Fri, Sep 23, 2011 at 11:07 AM, Visuex wrote:
> Why use autoey to resize a window when there are built in functions for that
> in linux.
</pre>
Because autokey firing off python calls is less memory intensive and faster than execing a bunch of outside applications.

That said, I use wmctrl and xdotool quite a bit myself, as the benefit is that you can also call the same script from the commandline as well as via autokey.  Okay, you could also call a python script, but I tend to script in bash or Bourne, depending on the complexity of the script.  Luckily, with autokey, you can do whatever is comfortable.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Beta testers wanted</font></h1>

6 posts by 3 authors.

<h3><font color="#FF4500">Chris D said…</font></h3>

Sep 16, 2011.

The new version of AutoKey is now complete enough for some testing to begin.  I have done as much testing as I can but it would be good to get some upgrade testing done before releasing to the PPA etc.  I will post a list of changes and improvements in this thread shortly.  In the mean time, anyone who would like to test the new version can get in touch with me and I'll send you the packages to test.

Thanks.  Chris.

<h3><font color="#FF4500">Slaveriq said…</font></h3>

Sep 16, 2011.

I would like to test the new version.  I use it in my daily work so i would quickly see bugs.

David.

<h3><font color="#FF4500">Chris D said…</font></h3>

Sep 16, 2011.

Here is the (rather extensive) change list:

• Rewrite persistence layer - use a real filesystem layout of folders and files  to persist configuration and allow direct editing in other programs.

• Create conversion path from previous single configuration file.

• Add inotify-based file monitoring and reload configuration in real~time if  modified externally.

• Deprecate and remove the KDE GUI.

• Stop building transitional 'autokey' package.

• Remove nogui code and documentation - it's been broken for a long time.

• Redesigned application icon.

• Fix drag and drop in the tree view.

• Silence various GTK builder warnings.

• Add F2 as an accelerator for Rename.

• Completely rework item naming and renaming by adding a separate dialog to perform this function.

• Fix for `issue 137` - add locks around display for grab/ungrab during phrase send.

• Implement `issue 110` - add option to clone a phrase/script.

• Implement `issue 133` - add scripting function to click mouse relative to current location.

• Make delete nicer by not prompting for every single selected item.

• Fix problem where having two identically-named top-level folders was impossible.

• Fix divergence between list of folders in configmanager and treemodel.

<h3><font color="#FF4500">Chris D said…</font></h3>

Sep 18, 2011.

An update…several days more testing and development have yielded a number of further improvements:

• AutoKey can now handle keymap changes.  You can have multiple keyboard mappings and switch between them using any means you wish, and it should work seamlessly.

• Much better/less buggy handling of characters that are not in the current keyboard map.  Users that previously had problems pasting phrases that contain e.g.  Russian characters should find it works perfectly now.

• AutoKey is now compatible with VirtualBox, and more buggy QT4 apps can be added to the list by simply editing the config file.

<h3><font color="#FF4500">MW said…</font></h3>

Sep 21, 2011.

I'd also like to test the new version (very interested in the better character support).

<h3><font color="#FF4500">Chris D said…</font></h3>

Sep 21, 2011.

I think the beta has reached a state where it is stable enough for a public beta.  Anyone interested can download the source from here:

<tt>http://dl.dropbox.com/u/1229367/autokey-0.80.0-beta1.tar.gz</tt>

Use at your own risk, of course, and always back-up.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: The future of AutoKey</font></h1>

21 posts by 13 authors.

<h3><font color="#FF4500">Chris D said…</font></h3>

May 27, 2011.

Greetings.

I'm interested in getting some feedback from list members as to possible future directions for AutoKey.

My first consideration is IronAHK.  As a direct re-implementation of AutoHotkey, it seems natural to let AutoKey die and transition existing users to IronAHK.  I'd love to hear from anyone that has tried or is using IronAHK.

As an alternative I am considering an almost complete redesign (but making use of a lot of the backend code from the current version).  It would eliminate the current GUI mainly to reduce maintenance overhead of maintaining two versions of the GUI.  I would most likely build a very limited UI with QT (but no KDE dependency).  It would work a lot more like AutoHotkey where you have scripts in separate files.  The current 'phrase' functionality would not exist any more, but there could be shortcut functions to help achieve the same things.  I would also be removing a lot of the restrictions on how you can use AutoKey which are enforced by the GUI, to allow more flexible hotkeys, responding to mouse clicks etc etc.

Looking forward to hearing from you folks.

Chris.

<h3><font color="#FF4500">keith said…</font></h3>

May 28, 2011.

I would rather you stayed with AutoKey for purely selfish reasons.: IronAHK is an unknown to me as well as what kind of maintainer and community support might develop.  You and AutoKey are a good thing as well as the AutoKey community here.  AutoKey without you would not be a good thing.

I have no objection to less GUI nor to separate files.

I use it almost exclusively to insert text phrases.  Code snippets mostly and to send control characters to the application.  Anything that removed that would be bad for me.

So could you speculate further on what kind of 'functionality' we would lose with phrases if you re-wrote AutoKey and what kind of workarounds could be used to replace them?

I just bought a WarMouse 18 button mouse and I am planning on using it with AutoKey as much as possible.  I came to the conclusion that if you need macros your also need more mouse buttons.

Keith.

<h3><font color="#FF4500">Andreas Schamanek said…</font></h3>

May 29, 2011.

Can't add much to the discussion but I am sure curious about the future of AutoKey.  When I switched my desktop from Windows to Ubuntu assigning macros/phrases/shortcuts/etc. to hotkeys like with AutoHotKey was what I missed most.  When I discovered AutoKey it was a great relief.

I, too, hear about IronAHK for the first time.  I guess it's an alternative.  But isn't Mono a bit of a heavy dependency?  I don't know but I do know I never liked .NET.

If you rewrite AutoKey, go ahead, I don't mind the GUI :).

<h3><font color="#FF4500">Michael Tunnell said…</font></h3>

May 29, 2011.

I hate .NET and Silverlight so in turn I hate Mono and Moonlight.  I am a big fan of what the Mono and Moonlight people are doing to bridge the gap but the languages they are based around are just not very good so I can't really get behind that.

I have never used IronAHK so I dont know much about it but I have heard about it before now just not very much.

Chris, if it is worth it to rewrite AutoKey rather than going to IronAHK then I would prefer that but if it makes more sense to use IronAHK then I suppose it will do.

I probably won't use IAHK though because I don't use Mono or Moonlight on any of my Linux machines because it just slows them down and what they provide just doesnt merit the lag.

I would prefer the rewrite to be similar to AutoHotKey (on windows) with the individual programs structure.  I am a huge fan of that…in fact I even built a few AHK programs when I used to be a Windows user before switching completely to Linux.

As for the GUI, I don't care at all.  I would prefer the project have a gui even if it is very basic because there are more and more novice users switching to linux and terminal only programs are not going to do well in that kind of market but to start off, no gui is just fine.

So rewrite it please. :)

<h3><font color="#FF4500">Chris D said…</font></h3>

May 31, 2011.

I'm very surprised to hear that you were told IronAHK can't do abbreviation expansion.  Abbreviations are a core part of AutoHotkey and IronAHK is (supposed to be) a full implementation of that, to the fullest extent possible.

Anyway, with a full rewrite of AutoKey there is no reason that existing users couldn't stay with the current version until the new version matures enough to be useful to them.  I'm sure we could work out a way to make abbreviations work very easily without the current GUI.  However, making an application that is just for abbreviations like you described, is not something I'm planning, at least in the near future.  I'd like to move away from complex GUIs as they are a lot of work to build and maintain.

<pre>
On May 31, 9:53 am, Marsha Gilliland wrote:
> Chris, I would prefer you separate abbreviation expansion from the scripting
> functionality.  When I looked into IronAHK, I was told it did not do
> abbreviation expansion, which is the main reason I use AutoKey, plus it was
> insanity trying to install it - Autokey is easy.
>
> As someone who does production typing, replies to a lot of emails or deals
> with a lot of addresses, AutoKey is indispencible, especially when it can be
> used with any program (except for some reason it does not play nice with
> Abiword).
>
> I would love to see AutoKey streamlined for abbreviation expansion for
> phrases (and especially multiline phrases like addresses and multiple
> paragraphs) much like the many windows abbreviation expansion tools where
> you highlight the text you want to add and are prompted for an abbreviation
> to use for it.  The idea being you use abbreviations to trigger abbreviation
> expansion.  The ability to import a list of abbreviations and their expanded
> form (single line or multiple line) is essential as well.  Lots of people
> are looking for abbreviation expansion specifically.
>
> There is definitely also a need for an AutoHotKey type program for linux for
> script writing and a better way for keyboard shortcuts to trigger
> actions/apps/scripts.  I see the need for two separate programs.
>
> Please don't let abbreviation expansion across linux apps die.
>
> Marsha G.
</pre>
<h3><font color="#FF4500">qalisto said…</font></h3>

Jun 4, 2011.

Chris.

I tried to install iAHK.

The website is down half the time and poorly documented for novice Linux users.

I went to 3 different 3rd party Linux bloggers, installed various apps and could never get the code to compile.

(Couldn't they just create a .deb or .rpm binary????).

One of the great incremental scripts for AHK was one that would enable you to simply select some text, depress a hotkey and it would automatically display a box where you would insert the abbreviation, hit enter and…voila!…the expansion would be saved in your refreshed `*`.ahk file.

Dunno if AK does that, but…AHK `*`is`*` somewhat easier to use than AK.

That said, your work is greatly valued.

-Q

<h3><font color="#FF4500">cedardoc said…</font></h3>

Jun 20, 2011.

Hi Chris.

Sorry I'm late commenting, but I'll chime in that (as an amateur) I was unable to get IronAHK installed.  In theory it sounds nice.  I do work on both linux and windows computers and it would be nice to have the same scripts for all platforms, but I'm not sure how far off an easy to use version is.

If you're really thinking of changing to a "scripts as separate files" format, that would be nice, and in that vein, I've started using autokey to launch bash scripts which I can then edit outside of the autokey program.  But all that said, I'm pretty happy with Autokey as is, as long as it doesn't go away :-)

<h3><font color="#FF4500">exit said…</font></h3>

Jun 28, 2011.

lol cedardoc: i'm laterer.

Wow—not only am i quite late but i'm also quite surprised… i LOVE autokey.  i'm personally responsible for perhaps 25 other sysadmins (and also a few support techs, as workstations at my last job were migrated to ubuntu) becoming addicted to autokey—likely more, and clearly they each have their own sphere of influence.  i messed with iAHK a bit some time ago, despite the fact that (like michael tunnell above) i really think mono is best treated by a licensed physician, and never had any luck.  autokey took some getting used to (i was forced to work on windoze boxes and really dug AHK), but the fact that it speaks python takes it someplace even autohotkey couldn't go.

In fact, at my previous company i'm confident that the autokey users number in three digits at this point.  i guess my point here is that autokey is one of the FEW applications that i really consider irreplaceable at work, and that i am only one of many.

If you need to rewrite it, go nuts.  i do understand that maintaining 2 versions is a PITA.  i see that the last donation to your project on sourceforge was over a year ago; i'm not wealthy but will cough up a couple bux for you (better through sourceforge, or via another means?  if i don't hear from you I'll go through sf).  that will be for your work up until now.

Future rewrites, as long as they `*`do`*` continue to enable global text expansion (whether directly or via said shortcuts), would be fine.  no (or minimal) gui would be fine with me, too, as long as the python script debugging tool stuck around.  the only "improvement" i ever wanted to make was to have an editable script (like ahk), and it sounds like you may be thinking in that direction.

qalisto, the "Abbreviation from Selection" script in your "My Sample Scripts" does exactly what you requested: highlight some text and run that script (i do not recall if it comes configured with a hotkey combo; you probably need to configure that), and you'll be prompted for the abbreviation that will be set to expand to that text.

In closing: chris, i don't care what everybody says about you; you're alright in my book.

exit   <h3><font color="#FF4500">jflevi said…</font></h3>


Jul 10, 2011.

I almost fell off my chair !!!

When this machine was upgraded to Natty, I had a few messages about missing "ppa"; didn't pay too much attention since Autokey was working.  Today, having some time, I checked and found this thread : couldn't believe it;   had used Autokey for a long time - since v 0.4 IIRC.

In this little office we have 4 Ubuntu machines and we had been using Autokey as a main fixture.

Doing a lot of typing, the "abbreviations" saves a lot of time.  Actually that's what made the switch from windoze possible.

If the UI must go, that's OK; I remember the early versions, where the abbreviations were in a text file; worked well, was easy to edit and could be shared by all the machines in the office with no fuss.

Like the previous poster,  I would gladly donate  a few $$ to the project as I did a couple years ago.

<h3><font color="#FF4500">Chris D said…</font></h3>

Jul 11, 2011.

Thanks to everyone that has posted in this thread.  It can be difficult as a single programmer to work on a project like this over a long period.  It is hard stay motivated, especially when most of the feedback you get from users comes in the form of bug reports :)

I have mostly worked out what shape the new version would take and how to implement it, just really a matter now of finding the time to do it.

If anyone has made donations in recent months, I hope the money was returned to you because I certainly am not receiving it (Thanks.  SourceForge!).  Having said that I am not in it for money and would gladly accept help maintaining AutoKey over donations.

<h3><font color="#FF4500">Joe said…</font></h3>

Jul 26, 2011.

I have been looking for something like AK for at least two years.  Searching for "macro" languages or "Desktop Automation" turned up nothing.

Having just finally found it, I don't want it to go away!

I am a creature of habit and do a lot of repetitive tasks on my system every day.  I am planning to use AK for a lot of them.  I just have to learn python (which I've been wanting to do anyway).

For now, just having a hot key that types my email address is enough to justify the program for me!  And, eventually, I'll get it to do a lot more.

I do most things in my gui (kde4), but I have one desktop that's permanently filled with a terminal window, so, while I like the current gui as it is, I'd be comfortable with any text file configurations, separate script files, etc., that feel right to you as long as they come with adequate documentation.

Thanks.

Joe.

<h3><font color="#FF4500">Joe said…</font></h3>

Jul 26, 2011.

Another thought.  As a new AK user, one feature of the gui, record macro, really helps because it gives me a place to start with a new script without having to figure out all the syntax from scratch.  That I would miss if the gui went away.

Joe.

<h3><font color="#FF4500">Chris D said…</font></h3>

Sep 6, 2011.

I have been giving this rewrite a lot of thought and I'm about ready to start work on it.  However, I've come up with quite a different plan than I initially described in this thread and I am very keen to get some user feedback.  To summarise:

• Existing GUI will stay in it's current form, but only the GTK GUI will be involved in the rewrite.  KDE GUI will not be maintained and will be removed from the package. (I simply can't justify the amount of time involved in maintaining both).

• Scripts will become separate files that can be edited in your favourite text editor/IDE.

• Top-level folders can be created only from the GUI and can be pointed to a folder under your home directory.

• Any Python files you create in a folder are automatically added in the GUI, where you can configure abbreviations/hotkeys for the script as before.

• You can also create scripts from inside the GUI, and the file will automatically be created  • Any subfolders you create in a folder are also automatically added in the GUI, and you can also create them from the GUI.

• Phrases will stay exactly as they are  This is more or less what I plan to do for the next release, which will be designated 0.80.  After that, there will probably be several point releases to fix inevitable bugs.  Once the bug list starts to shrink I will then look at adding some other features people have been asking for.

Waiting to hear your thoughts!

Chris.

<h3><font color="#FF4500">Evan Edwards said…</font></h3>

Sep 6, 2011.

<pre>
On Tue, Sep 6, 2011 at 8:54 PM, Chris D wrote:
> Existing GUI will stay in it's current form, but only the GTK GUI
> will be involved in the rewrite. KDE GUI will not be maintained and
> will be removed from the package. (I simply can't justify the amount
> of time involved in maintaining both).
</pre>
Will it be possible for a KDE (or other interface) GUI to be written?  I.e., are you planning to separate the GUI and the back end and have them communicate, or will they be one monolithic process?  As it is, it doesn't much matter, but it would be nifty to have an actual System Settings entry for Autokey for KDE, assuming somebody stepped up to write one.

As an aside, I think it would be nice to have the option of just the daemon running, with the GUI loaded only when needed anyway (or a cli tool that you run to reparse files edited in vi).  Maintainer makes the call, of course.  In general, it sounds like a serious improvement from my "files and directories are good" viewpoint, so take this as what it is: discussing details.  The overall direction sounds great to me.

<h3><font color="#FF4500">Chris D said…</font></h3>

Sep 6, 2011.

<pre>
On Sep 7, 12:03 pm, Evan Edwards  wrote:
>     Will it be possible for a KDE (or other interface) GUI to be
> written?  I.e., are you planning to separate the GUI and the back end
> and have them communicate, or will they be one monolithic process?  As
> it is, it doesn't much matter, but it would be nifty to have an actual
> System Settings entry for Autokey for KDE, assuming somebody stepped
> up to write one.
</pre>
Someone could easily pick up the existing KDE code and work on that.  Because there are already 2 existing versions of the GUI, the back end code is sufficiently abstracted that it doesn't depend on GTK or KDE.  Everything does run as one single process, although a sufficiently knowledgeable coder would be able to separate the back end from the GUI with only a few hours effort.

<pre>
>     As an aside, I think it would be nice to have the option of just
> the daemon running, with the GUI loaded only when needed anyway (or a
> cli tool that you run to reparse files edited in vi).  Maintainer
> makes the call, of course.  In general, it sounds like a serious
> improvement from my "files and directories are good" viewpoint, so
> take this as what it is: discussing details.  The overall direction
> sounds great to me.

> Evan Edwards.
</pre>
You could achieve most of this right now by simply disabling the tray icon - the GUI window is created from scratch every time you open it so it doesn't sit in the background consuming memory.  It is my plan for the new version that it will watch your script files and automatically reload them when they are modified.

<h3><font color="#FF4500">Evan Edwards said…</font></h3>

Sep 6, 2011.

<pre>
On Tue, Sep 6, 2011 at 10:04 PM, Chris D wrote:
> Someone could easily pick up the existing KDE code and work on that.
</pre>
Ah, okay.  Given the changes and your earlier comments, I was thinking this was a radical refactor, nearly a rewrite, rather than than progressive updates where the basic code structure is being maintained.

By the way, thanks for being both so responsive and communicative with your community of users.  It's quite appreciated, having seen a bunch of open projects (some of which had serious problems with lack of communication).

—Evan Edwards.

<h3><font color="#FF4500">Visuex said…</font></h3>

Sep 6, 2011.

I like the new system especially of editing scrpts in my coding programs…that will be much nicer as I can use shortcits and snippets.

What about making the gui in illumination software creator…and the core code as normal so making gtk and kde won't be as hard…obviously that software isn't for massively in depth coding but It might work for just the gui   <h3><font color="#FF4500">GrouchyGaijin said…</font></h3>


Sep 7, 2011.

Chris, this sounds interesting.  One question I have, since I know next to nothing about programming or script writing, will all of my current phrases work in the new version?

Thank you.

John.

<h3><font color="#FF4500">Chris D said…</font></h3>

Sep 7, 2011.

The goal is that if you don't want to change the way you use the program, you will be able to do so and the changes should be totally transparent to you.

<h3><font color="#FF4500">MW said…</font></h3>

Sep 17, 2011.

I'm running a project in which a web frontend is taking care of all hotkey management (title/content/categorization), which has a function that outputs a json tree in the format used by autokey-0.71.3.  Will the autokey-0.80 branch still support regular changing of the old-~tyle configuration file or would we have to handle synchronization of the new-style data structure with our web frontend ourselves through another script?

<h3><font color="#FF4500">Chris D said…</font></h3>

Sep 17, 2011.

This sounds very interesting and I'd love to hear more about it (email me directly if you want).

Strictly speaking, the new version doesn't support using configuration in the old format any more, however there is code to upgrade from an existing single JSON file to the new format.  You might be able to take advantage of this code to do the leg work for you.  The new format gives so much more flexibility that it is well worth the disruption :)

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Capslock as a modifier</font></h1>

10 posts by 5 authors.

<h3><font color="#FF4500">Dovydas Sabonis said…</font></h3>

Sep 7, 2011.

Hello.

I was wondering if it would be possible to use capslock as a modifier?  I want to transform jkli into arrow keys when capslock is pressed.  At the moment I map capslock to a win key using xmodmap and it works however I would like to keep win key for other purposes.

<h3><font color="#FF4500">Chris D said…</font></h3>

Sep 7, 2011.

Right now it's not possible, but watch this space:

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

Sep 8, 2011.

2011/9/8 Chris D:

By manipulating the evdev files in <tt>/usr/share/X11/xkb/symbols</tt> and <tt>/usr/share/X11/xkb/rules</tt>, you can even make your left and right shift key behave as different buttons, so also with your left and right Ctrl and Alt keys.  That way you could use your right Ctrl key, for example, instead of the Caps Lock key.

Kind Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">Evan Edwards said…</font></h3>

Sep 8, 2011.

<pre>
On Thu, Sep 8, 2011 at 10:36 AM, Johnny Rosenberg wrote:
> By manipulating the evdev files in /usr/share/X11/xkb/symbols and
> /usr/share/X11/xkb/rules, you can even make your left and right shift
> key behave as different buttons, so also with your left and right Ctrl
> and Alt keys. That way you could use your right Ctrl key, for example,
> instead of the Caps Lock key.
</pre>
If you are running KDE (or, I would imagine, most desktops these days), there's an interface to it in System Settings under Hardware -> Input Devices -> Keyboard.  You can remap your keyboard, and since it's X, it works in all programs, not just KDE.  You can also have multiple alternate layouts and use the LEDs to indicate which layout you are in.

One of the handy things about such systems is that they have a layer between your settings and the codes, so not only do you not have to look up obscure keys using xev, but they will automatically work between input devices (bluetooth keyboard and built in laptop keyboard in my case), even if the code is different (because they are aware of things like Apple's funky keys and do the juggling for them).

Well, that and the fact that there are big friendly interfaces for blinding obvious things like "Use Caps Lock as…", allowing you to quickly reclaim an otherwise annoying key as something like Hyper (so you have a whole new set of key combos).

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

Sep 8, 2011.

2011/9/8 Evan Edwards:

<pre>
> On Thu, Sep 8, 2011 at 10:36 AM, Johnny Rosenberg wrote:
>> By manipulating the evdev files in /usr/share/X11/xkb/symbols and
>> /usr/share/X11/xkb/rules, you can even make your left and right shift
>> key behave as different buttons, so also with your left and right Ctrl
>> and Alt keys. That way you could use your right Ctrl key, for example,
>> instead of the Caps Lock key.
>
>    If you are running KDE (or, I would imagine, most desktops these
> days), there's an interface to it in System Settings under Hardware ->
> Input Devices -> Keyboard.  You can remap your keyboard, and since
> it's X, it works in all programs, not just KDE.
</pre>
What's the name of that keyboard mapping program (how do I start it from a terminal)?

Kind Regards.

Johnny Rosenberg.

<pre>
> You can also have
> multiple alternate layouts and use the LEDs to indicate which layout
> you are in.
>
>    One of the handy things about such systems is that they have a
> layer between your settings and the codes, so not only do you not have
> to look up obscure keys using xev, but they will automatically work
> between input devices (bluetooth keyboard and built in laptop keyboard
> in my case), even if the code is different (because they are aware of
> things like Apple's funky keys and do the juggling for them).
>
>    Well, that and the fact that there are big friendly interfaces for
> blinding obvious things like "Use Caps Lock as…", allowing you to
> quickly reclaim an otherwise annoying key as something like Hyper (so
> you have a whole new set of key combos).
>
> Evan Edwards.
</pre>
<h3><font color="#FF4500">Evan Edwards said…</font></h3>

Sep 8, 2011.

<pre>
On Thu, Sep 8, 2011 at 12:59 PM, Johnny Rosenberg  wrote:
> What's the name of that keyboard mapping program (how do I start it
> from a terminal)?
</pre>
It completely depends, as each desktop environment will have it's own version.  Failing that, you can edit the files directly (as Johnny. suggested).  If you're using KDE, to open the System Settings (all of them as a panel) the command is simply:

<pre>
systemsettings
</pre>
Or you can go directly to the X keyboard configuration by using:

<pre>
kcmshell4
kcm_keyboard
</pre>
Note that this second command takes you to the same place, just removing the other options and taking you directly to the keyboard hardware configuration.  Incidentally, if you `*`are`*` using KDE, there are many other keyboard options that you might want to consider.  You can poke around the System Settings and find ways to use hotkeys to launch apps, do various tasks, etc.  The reason I'm referring to this specific panel in Hardware -> Input Devices -> Keyboard is because it actually affects X itself (which is what the topic was about).  Within System Settings, other places to configure key commands (assuming you're running KDE) are under "Accessibility" and "Shortcuts and Gestures".

—Evan Edwards.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

Sep 9, 2011.

2011/9/9 Evan Edwards:

<pre>>
 On Thu, Sep 8, 2011 at 12:59 PM, Johnny Rosenberg wrote:
>> What's the name of that keyboard mapping program (how do I start it
>> from a terminal)?
>
>    It completely depends, as each desktop environment will have it's
> own version.  Failing that, you can edit the files directly (as Johnny.
> suggested).  If you're using KDE, to open the System Settings (all of
> them as a panel) the command is simply:
>
> systemsettings
>
>    Or you can go directly to the X keyboard configuration by using:
>
> kcmshell4 kcm_keyboard
</pre>
Can't find it in the software center.

Kind Regards.

Johnny Rosenberg.

<pre>
>    Note that this second command takes you to the same place, just
> removing the other options and taking you directly to the keyboard
> hardware configuration.   Incidentally, if you `*`are`*` using KDE, there
> are many other keyboard options that you might want to consider.  You
> can poke around the System Settings and find ways to use hotkeys to
> launch apps, do various tasks, etc.  The reason I'm referring to this
> specific panel in Hardware -> Input Devices -> Keyboard is because it
> actually affects X itself (which is what the topic was about).  Within
> System Settings, other places to configure key commands (assuming
> you're running KDE) are under "Accessibility" and "Shortcuts and
> Gestures".
>
> Evan Edwards.
</pre>
<h3><font color="#FF4500">Evan Edwards said…</font></h3>

Sep 10, 2011.

<pre>
On Fri, Sep 9, 2011 at 12:44 PM, Johnny Rosenberg wrote:
> Can't find it in the software center.
</pre>
It is a core part of KDE.  If you have it installed, you have it.

—Evan Edwards.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

Sep 11, 2011.

2011/9/10 Evan Edwards:

<pre>
> On Fri, Sep 9, 2011 at 12:44 PM, Johnny Rosenberg wrote:
>> Can't find it in the software center.
>
>    It is a core part of KDE.  If you have it installed, you have it.
</pre>
I see, thanks.  No, I don't have KDE.  I guess there 's nothing like it for Gnome.  If it was, I would probably already have found it.  But it's not that hard to edit the evdev text files, so that's probably what I'm going to continue doing.

Kind Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">Evan Edwards said…</font></h3>

<pre>
On Sun, Sep 11, 2011 at 3:12 AM, Johnny Rosenberg wrote:
> I guess there 's nothing like it for Gnome. If it was, I would
> probably already have found it.
</pre>
I would have guessed something like it existed, but it may well not.  Sorry about that.  In most cases I prefer editing config files directly anyway, but this one case I've always found it easier to use a tool that knows the various odd keycodes like media keys—and can map them on the fly when a new keyboard is attached or you sync your config files to another computer, rather than having to figure out new ones.  You can certainly still do it by hand, but it involves enough work so that a smart tool providing an extra layer of indirection is handy.

—Evan Edwards.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: problem with autokey and libreoffice</font></h1>

10 posts by 5 authors.

<h3><font color="#FF4500">MAWSpitau said…</font></h3>

Sep 6, 2011.

Hi outthere.

I do have a problem with autokey and libreoffice.  In every application autokey works fine, but libreoffice.  To see what I mean, I did a screenshot which will explain what happens.  I guess it is more a problem of LOffice, but is there a workaorund or something?

Some how after typing "kk" LOffice gives my a weird text with all letters inside, but i a completly different sequenz.

Thanks for helping.  Marcel.

—Lehrer, Querdenker und Medienjunkie

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>


Sep 6, 2011.

2011/9/6 Marcel Spitau:

<pre>
> Hi outthere,
>
> I do have a problem with autokey and libreoffice. In every application
> autokey works fine, but libreoffice. To see what I mean, I did a
> screenshot which will explain what happens. I guess it is more a
> problem of LOffice, but is there a workaorund or something?
>
> Some how after typing "kk" LOffice gives my a weird text with all
> letters inside, but i a completly different sequenz.
>
> Thanks for helping.
> Marcel
</pre>
I tried a few of my phrases in LibreOffice and all of them worked fine.  Can you tell me exactly what your phase (if it is a phrase) looks like, all settings included?

Just a thought though: Could it be that you added that phrase to LibreOffice's auto correction too (Tools > Options for auto correction. > Click first tab, select the right language)?  Could probably be some kind of conflict in that case.  If so, remove the one in LibreOffice and it should work fine.

Kind Regards.

Johnny Rosenberg.

<pre>
LibreOffice 3.3.4
Ubuntu 10.10
</pre>
<h3><font color="#FF4500">MAWSpitau said…</font></h3>

Sep 6, 2011.

Hi Johnny.

thanks for answering.

I have not put anything like that into the autocorrection of LibreOffice (LO).  LO won't interpret one of my shortcuts correctly ~it screws up everthing.

More screenshots attached for explaination.

Regards.  Marcel.

2011/9/6 Johnny Rosenberg:

—Lehrer, Querdenker und Medienjunkie

<h3><font color="#FF4500">MAWSpitau said…</font></h3>


Sep 6, 2011.

Sry:

<pre>
Kubuntu 11.04
LibreOffice 3.3.3
</pre>

2011/9/6 Johnny Rosenberg:

—Lehrer, Querdenker und Medienjunkie   <h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

Sep 6, 2011.

<pre>
2011/9/6 Marcel Spitau:> Sry:
>
> Kubuntu 11.04
> LibreOffice 3.3.3
</pre>
Okay, is this the LibreOffice version that came with Kubuntu?  If so I need to tell you that I have hade quite a few issues with Ubuntu's versions of LibreOffice (and previously OpenOffice.org).  If it is, I would uninstall it completely and then install LibreOffice 3.3.4 from <tt>http://www.libreoffice.org/</tt>.

The easiest way to install that version is to use a terminal.  First select your operating system, in your case Linux x86 (deb) or Linux x64 (deb), then select your language.

At the moment you can choose between 3.3.4 and 3.4.3, I would go for 3.3.4 at the moment, but you might find 3.4.3 to be the better choice, or not, I don't know.

Down load all the files (in my case there are three of them: The big one in English, a language pack for my language and the Help translations for my language) to your desktop (or to another place of your choice, I usually remove them after installing, but maybe you don't).  Right click all of the files you downloaded (when they are downloaded completely), select "Extract here".  One folder per file is created.  Right click the one called something like "LibO_3.3.4_Linux_x86_install-deb_en-US.tar.gz" and select "Open in terminal", if you have that feature installed, otherwise you need to open the terminal manually.

Go to the DEB folder (cd DEB) and type:

<pre>
sudo dpkg -i `*`deb
</pre>
Enter your password, then Enter.

This takes a while, but when it's finished, do:

<pre>
cd desktop-integration
</pre>
and then the same command again:

<pre>
sudo dpkg -i `*`deb
</pre>
Then do the same for the other folders (if there are any, which depends on your language).

If you use macros you need to set the macro security thing all over again and things like that, but it's not very complicated.

Kind Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">MAWSpitau said…</font></h3>

Sep 6, 2011.

Mhm - all done, but still not working:

2011/9/6 Johnny Rosenberg:

—Lehrer, Querdenker und Medienjunkie   <h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

Sep 7, 2011.

2011/9/6 Marcel Spitau:

<pre>
> Mhm - all done, but still not working:
</pre>
So obviously that was not the problem in this case.

You showed me a picture earlier of your Phare settings.  If you click the "Set" button to the right of the abbreviation line, there will appear a dialogue with a few check boxes:

<pre>
 • Remove typed abbreviation<br />

 • Omit trigger character<br />

 • Match phrase case to typed abbreviation<br />

 • Ignore case of typed abbreviation<br />

 • Trigger when typed as part of a word<br />

 • Trigger immediately (don't require a trigger character)<br />
</pre>
Which of these check boxes are checked in your case?  Just so I can test it myself under the same conditions as your case.

Kind Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">MAWSpitau said…</font></h3>

Sep 7, 2011.

Hi Johnny.

2011/9/7 Johnny Rosenberg:

<pre>
> 2011/9/6 Marcel Spitau:
> So obviously that was not the problem in this case.
</pre>
No. ;).

<pre>
> You showed me a picture earlier of your Phare settings. If you clic
> the "Set" button to the right of the abbreviation line, there will
> appear a dialogue with a few check boxes:
>
> Remove typed abbreviationk
</pre>
This one! (Take a look at the screeny.)

It tried it on my netbook, same configuration - same problem :( Weird.  In no other application I've noticed this behavior.

Thanks for searching for a solution:

Marcel

—Lehrer, Querdenker und Medienjunkie   <h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

Sep 7, 2011.

2011/9/7 Marcel Spitau:

<pre>
> Hi Johnny.
>
> 2011/9/7 Johnny Rosenberg:
>> 2011/9/6 Marcel Spitau:
>> So obviously that was not the problem in this case.
>
> No. ;)
>
>> You showed me a picture earlier of your Phare settings. If you click
>> the "Set" button to the right of the abbreviation line, there will
>> appear a dialogue with a few check boxes:
>>
>> Remove typed abbreviation
>
> This one! (Take a look at the screeny.)
>
> It tried it on my netbook, same configuration - same problem :(
> Weird. In no other application I've noticed this behavior.
>
> Thanks for searching for a solution:
</pre>
I'm sorry, but I created a phrase just like yours (even the same German words), but for me it works perfectly in LibreOffice Writer.

We don't have the exact same configuration, though: You have Kubuntu, I have Ubuntu (that is you have KDE, I have Gnome).  You have version 11.04, I have 10.10.  Seems like we have the same version of LibreOffice now, though.

Maybe someone else experience the same problem, but I don't, as I understand.  Well, one more thing.  What interface are you using?  Edit > Preferences > Interfaces  I used X Evdev but had some issues with it (I'm not sure I had THAT issue, though) a while ago, so I switched to X Record.

<h3><font color="#FF4500">MAWSpitau said…</font></h3>

Sep 8, 2011.

Hi Johnny.

<pre>
2011/9/7 Johnny Rosenberg:
> I'm sorry, but I created a phrase just like yours (even the same
> German words), but for me it works perfectly in LibreOffice Writer.
</pre>
This is not the only Phrase, that is not working.  EVERY phrase doesn't work.

<pre>
> Maybe someone else experience the same problem, but I don't, as I understand.
> Well, one more thing. What interface are you using? Edit > Preferences
> > Interfaces
> I used X Evdev but had some issues with it (I'm not sure I had THAT
> issue, though) a while ago, so I switched to X Record.
</pre>
I tried it wiht both  X Evdev and X Record.  So it seems to be a KDE-Problem?  Can't be, or?  It is working in every KDE-App.  That stuff is driving my crazy.

Thanks for helping, but may be there is someone having the same issue, so we can search together for the solution.

Marcel

—Lehrer, Querdenker und Medienjunkie

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

Sep 8, 2011.

2011/9/8 Marcel Spitau:

Another difference is probably that I use autokey-gtk, but I'm not sure of that should matter in this case.  Could it be that we also have different versions of Python installed?  Well, sorry, seems like most of what I can come up with right now are long-shots.

I have a laptop with Ubuntu 11.04, but it's not here at home right now (I use it at work).  I can do some testing on it tomorrow, I guess.

Kind Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">Joe said…</font></h3>

Sep 8, 2011.

I run kubuntu lucid.  I can't log off right now because things are running that I don't want to stop, but it seems to me that part of the Login menu allows you to choose your desktop environment.  It's one of those tiny unlabeled icons at the bottom of the login dialog.

If this is still the case (and if you already have the gnome libraries installed or if you install them), you can choose the gnome desktop when you login and test how autokey works for you there.  This might help narrow down the problem.

Aside from adding a few megs of programs to your hard disk, this shouldn't cause you any problems.  The next time you login, just tell it you want kde and you should be back to normal again.

I haven't played with it in a long time, but I remember that there's a setting which tells it what desktop environment to use by default.  It can be set to kde, gnome, etc., or to the one that was used last time.

HTH

Joe.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Strange window filter behavior:</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">Dovydas Sabonis said…</font></h3>

Sep 7, 2011.

Hello.

I have noticed that whenever I enable window filter e.g .`*`gedit then the hotkey is not swallowed by autokey.  That is, such script: keyboard.send_keys(`<F11>`) with the following hotkey assigned (F2) should simulate only F11 when F2 is pressed.  In my case both of the keys are sent to the application F2 AND F11.  Turning window filter off makes it work as it should: I'm running Ubuntu 11.04.

Anyone else witnessed similar behavior?

<h3><font color="#FF4500">Chris D said…</font></h3>

Sep 7, 2011.

This is actually the intended behaviour.  If you specify a window filter then the hotkey is 'swallowed' only for windows (and children of windows) matching the regex.  Having said that, it doesn't always seem to work very well.  Perhaps an option to still do a global grab of the hotkey even with a filter specified might be a good thing to have.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Time lag</font></h1>

3 posts by 2 authors.

<h3><font color="#FF4500">clooney48 said…</font></h3>

Aug 12, 2011.

Hello.

I have this test script which sends - depending on the windows title ~different expressions.  The script is assigned to the hotkey F1.  The script basically works but it needs always about 10 seconds to fire in Firefox 5.0 or in LibreOffice.  With "gedit" (Ubuntu 10.04) it works prompt.  Has anybody an idea what the reason could be?

<pre>
if window.wait_for_focus(".`*`Doku`*`."):
    keyboard.send_keys("GPE<tab>peter<enter>")
elif window.wait_for_focus(".`*`Google`*`."):
    keyboard.send_keys("test")
else:
    keyboard.send_keys("yes")
</pre>
Many thanks in advance clooney48

<h3><font color="#FF4500">Chris D said…</font></h3>

Aug 16, 2011.

Hi there.

At least part of the problem lies in incorrect use of regular expressions.  To match anything, it is always .`*`, not `*`.  So you should have ".`*`Doku.`*`" and ".`*`Google.`*`"

Chris.

<h3><font color="#FF4500">clooney48 said…</font></h3>

Aug 22, 2011.

Hi Chris!

Many Thanks.  But this doesn't really speed up the procedure.  That's really a pitty because it would be very usefull!

Regards. clooney48.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: AutoHotKey as a rebinding tool.</font></h1>

7 posts by 5 authors.

<h3><font color="#FF4500">vitoshka said…</font></h3>

Aug 16, 2011.

Hi Chris and Others.

I just discovered the AutoKey.  It's  amazing, this is the only software which is able to rebind the key combinations properly.  Thanks Chris, it's the best.

A couple of notes:

1.  I would like to rebind C-n and C-p to send <down> and <up> globally.  As an emacs user, these shortcuts are just stuck in my head.

It works properly almost everywhere, except for the drop-down menus in firefox and opera.  I mean those menus which popup at address bar or search bars when you start typing something.  In case of those menus it look like the application grabs the key before the autokey does.  Any ideas?

2.  For emacs users out there.  Have anyone attempted implementing the basic emacs editing and window management commands in autokey?

Particularly capitalization, transient mark (C-space activates the shift), transposing lines, killing line, switching to other window etc.

Obviously one would need composite shortcuts for the full power (like "C-x 2" for splinting window horizontally).  Autokey is not supporting them yet, but would definitely be an unique feature.

3.  In line with simplification discussion on the mailing list.  You can implement any phrase as just 'keyboard.send_keys("blabla")', right?  So why would one need phrases?

Also Chris, I perfectly agree that you should spend your valuable time and knowledge on developing the internals of autokey and not the GUIs.  And if there is anyone interested on developing the GUI let him do it as separate application.

The way I see the configuration file is plain python with functions to construct the hierarchy of keys and scripts.  It looks like almost everything is already there in the engine class.

Many Thanks.  Vitalie.

<h3><font color="#FF4500">Evan Edwards said…</font></h3>

Aug 16, 2011.

<pre>
On Tue, Aug 16, 2011 at 4:18 AM, Vitalie Spinu wrote:
> Obviously one would need composite shortcuts for the full power (like
> "C-x 2" for splinting window horizontally).  Autokey is not supporting
> them yet, but would definitely be an unique feature.
</pre>
I had suggested it at one point, but went off on a trip with limited net access right afterwards and didn't really follow up when Chris asked for more information.  I'm glad to see somebody else mentioning it.

In combination with a good window manager, it would be an impressively powerful desktop setup.

—Evan Edwards.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

Aug 16, 2011.

2011/8/16 Evan Edwards:

I think it's possible to do this without AutoKey, by editing some EvDev files.  I created my own keyboard layout that way, but I didn't change any Ctrl sequences, on the other hand, but I think it's possible.

As a first hint, the files are located in: <tt>/usr/share/X11/xkb/</tt>  Symbols are defined in the symbols folder (<tt>/usr/share/X11/xkb/symbols</tt>).  There are a lot of files for different languages and countries.  You can edit them or create new ones.  If you make new ones or create new layouts by adding layouts to the existing file, you also need to edit two files in the rules folder (<tt>/usr/share/X11/xkb/ruiles</tt>):

<pre>
evdev.lst
evdev.xml
</pre>
Take a look in them and you'll hopefully realise how they work, but you won't need them if you only edit the symbols of an existing layout.  Don't forget to make backups of the original files in case your do something bad.

Kind Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">Evan Edwards said…</font></h3>

Aug 16, 2011.

<pre>
On Tue, Aug 16, 2011 at 9:59 AM, Johnny Rosenberg  wrote:
> I think it's possible to do this without AutoKey, by editing some
> EvDev files. I created my own keyboard layout that way,
</pre>
EvDev isn't application context sensitive, and it also cannot trigger code (AFAIK - it's been awhile since I poked at it).  I believe that, while you can remap, you can not do things that autokey can do—like fire off DBUS calls, launch apps, execute snippets of code, or have exceptions to the map based on which application has focus.

You could work around it with a program…but by that point, you're rewriting AK.

—Evan Edwards.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

Aug 16, 2011.

2011/8/16 Evan Edwards:

<pre>
> On Tue, Aug 16, 2011 at 9:59 AM, Johnny Rosenberg wrote:
>> I think it's possible to do this without AutoKey, by editing some
>> EvDev files. I created my own keyboard layout that way,
>
>   EvDev isn't application context sensitive, and it also cannot
> trigger code (AFAIK - it's been awhile since I poked at it).  I
> believe that, while you can remap, you can not do things that autokey
> can do — like fire off DBUS calls, launch apps, execute snippets of
> code, or have exceptions to the map based on which application has
> focus.
</pre>
Well, I didn't say you should replace AutoKey with some EvDev hacking, I do both.  But as I said, I'm not sure you can remap Ctrl sequences.

If I understood you correctly, the OP wanted to remap Ctrl+n to Page Down and Ctrl+p to Page Up since Emacs works like that, but as far as I remember, Emacs also accepts Page Up and Page Down, so remapping them permanently wouldn't do that much of harm, but on the other hand, Ctrl+n means New Window in some application, so maybe it wasn't such a good idea after all.

Regards.

Johnny Rosenberg.

<pre>
>   You could work around it with a program…but by that point,
> you're rewriting AK.
>
> Evan Edwards.
>
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

Aug 16, 2011.

Hi Vitalie.

<pre>
On Aug 16, 7:18 pm, Vitalie Spinu wrote:
> Hi Chris and Others,
>
> I just discovered the AutoKey. It's  amazing, this is the only
> software which is able to rebind the key combinations properly.
> Thanks Chris, it's the best.
</pre>
Glad you think so :)

A couple of notes:

<pre>
>
> 1. I would like to rebind C-n and C-p to send <down> and <up>
> globally. As an emacs user, these shortcuts are just stuck in my head.
>
> It works properly almost everywhere, except for the drop-down menus in
> firefox and opera. I mean those menus which popup at address bar or
> search bars when you start typing something.
> In case of those menus it look like the application grabs the key
> before the autokey does. Any ideas?
</pre>
The grabbing of keys doesn't always seem to work very consistently, it appears because the creation of some windows does not generate a Mapped event which is how AutoKey detects these.  This is definitely an AutoKey bug but one that I'm not really sure how to resolve at this point.

<pre>
> 2. For emacs users out there. Have anyone attempted implementing the
> basic emacs editing and window management commands in autokey?
>
> Particularly capitalization, transient mark (C-space activates the
> shift), transposing lines, killing line, switching to other window
> etc.
>
> Obviously one would need composite shortcuts for the full power (like
> "C-x 2" for splinting window horizontally).  Autokey is not supporting
> them yet, but would definitely be an unique feature.
</pre>
This is definitely something that I would consider implementing in the future especially if I go ahead with the rewrite.

<pre>
> 3. In line with simplification discussion on the mailing list. You can
> implement any phrase as just 'keyboard.send_keys("blabla")', right? So
> why would one need phrases?
</pre>
That is correct, but phrases had some extra features (although most of these are now gone).  They are more of a legacy thing than anything else.

<pre>
> Also Chris, I perfectly agree that you should spend your valuable time
> and knowledge on developing the internals of autokey and not the GUIs.
>  And if there is anyone interested on developing the GUI let him do it
> as separate application.
>
> The way I see the configuration file is plain python with functions to
> construct the hierarchy of keys and scripts. It looks like almost
> everything is already there in the engine class.
</pre>
This is more or less the way I'm heading, although it will still be trying to make it easier for the user and more similar to the way AutoHotKey works (although not implementing the same syntax).

<pre>
> Many Thanks.
> Vitalie.
</pre>
<h3><font color="#FF4500">vitoshka said…</font></h3>

Aug 17, 2011.

<pre>
>> 2. For emacs users out there. Have anyone attempted implementing the
>> basic emacs editing and window management commands in autokey?
>>
>> Particularly capitalization, transient mark (C-space activates the
>> shift), transposing lines, killing line, switching to other window
>> etc.
>>
>> Obviously one would need composite shortcuts for the full power (like
>> "C-x 2" for splinting window horizontally).  Autokey is not supporting
>> them yet, but would definitely be an unique feature.
>
> This is definitely something that I would consider implementing in the
> future especially if I go ahead with the rewrite.
>
</pre>
Would be great. I am thinking along the lines of stumpWM window manager  <tt>http://www.nongnu.org/stumpwm/manual/stumpwm_2.html#SEC7</tt>  Also discovered this post:
<pre>
http://askubuntu.com/questions/5017/way-to-automatically-resize-2-windows-to-take-up-half-of-the-screen/5026#5026
</pre>
with a couple of nice window tiling/manipulation applications which might be useful with autokey.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Autokey stops working after a couple of hours or more</font></h1>

22 posts by 7 authors.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

8/11/10.

This is probably not an Autokey bug, but I just thought that some of you guys here seems to know stuff about not only Autokey.

So if I leave my laptop on over the night it's likely that my Autokey phrases (and possible the few scripts I have that I almost never use, but I didn't try them, but I will next time.) doesn't work after that.  I have two laptops and this happens for both of them, and I am sure this has nothing to do with my own keyboard layout since it's have never even been near one of my laptops.

Autokey itself works.  I can open its main window and add phrases and so on, but my abbreviations doesn't work.

The reason why I think that it's not Autokeys fault, is that closing and restarting Autokey doesn't help.  Loggin out from Ubuntu and logging in again also doesn't help.  Restarting my computer always helps, of course.

So why am I writing here?  Well, I don't know anywhere else to write.  What would happen if I wrote to some Ubuntu list?  Well, they would probably advice me not to use Autokey, and we don't want that, do we.?

So I was just wondering if anyone here could tell me some hints on how to figure out what goes wrong here.  It seems like something in my system crash eventually, maybe Autokey causes it, maybe not.  But I am a guitarist, not a computer "expert" (neither am I a beginner, though) so I just need a little help here, I think.

Thanks  Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/11/10.

Which version of Ubuntu, and which interface within AutoKey are you using?

<h3><font color="#FF4500">Visuex said…</font></h3>

8/11/10.

Johnny.  Just to clarify, it only happens when you leave your computer on overnight and not if you say turn it on in the morning and then try again at night like for example 12 hours later.  Is that correct?

If so, I wonder are you putting your machine to sleep or in hibernation mode during the night or are you just leaving it running like normal?

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

8/11/10.

2010/8/11 Chris Dekter:

<pre>
> Which version of Ubuntu, and which interface within AutoKey are you using?
</pre>
Ooops, sorry.  Just assumed that everyone always use the latest updates.

<pre>
Here are my info:
Packard Bell EasyNote MX-66 204D â€" 1,6 GHz T2050, 2 GiB
Kernel: Linux 2.6.32-24-generic
Gnome 2.30.2
Ubuntu 10.04
AutoKey GTK 0.71.0

Eee PC 900 â€" 900 MHz Intel Celeron M processor, 993,7 MiB
Kernel: Linux 2.6.32-24-generic
Gnome 2.30.2
Ubuntu 10.04 (NOT the "netbook remix" version)
AutoKey GTK 0.70.4
</pre>
Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/11/10.

When I said which interface, I meant as in Record/Evdev/etc:

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

8/11/10.

2010/8/11 Visuex:

<pre>
> Johnny.
> Just to clarify, it only happens when you leave your computer on
> overnight and not if you say turn it on in the morning and then try
> again at night like for example 12 hours later. Is that correct?
</pre>
Right.  However I am not sure if it happens only if I don't do anything for a couple of hours or if it would happen if I constantly work with it for that time.  I guess that could be figured out too, but it doesn't happen very often that I sit here for so many hours in a row.

What I've seen so far, is that when my computer has been on for a long time, my AutoKey abbreviations don't work anymore and it doesn't help to restart AutoKey.  That's why I think that something crashed in my system.  I guess this would be documented in one of the many log files, but it's hard to know where to start looking.  They are in /var somewhere, aren't they?

<pre>
> If so, I wonder are you putting your machine to sleep or in
> hibernation mode during the night or are you just leaving it running
> like normal?
</pre>
Leaving it running.  For example last time it happened, this morning, I ran a backup script (a bash script that I made myself â€" nothing fancy, it just runs rsync with some common parameters) and since I expected it to take quite some time I left it on and went to bed.

Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

8/11/10.

2010/8/11 Chris Dekter:

<pre>
> When I said which interface, I meant as in Record/Evdev/etc:
</pre>
He he he. ok, misunderstanding there.  Evdev on both machines.

<h3><font color="#FF4500">Derek said…</font></h3>

8/11/10.

I wonder if this is related to Issue 43.  I haven't found any more insight into it, but since I leave my computer on at night, I quit AutoKey each evening.  Otherwise, it consumes a lot of memory and the computer is bogged down the next day.  This is on Ubuntu 10.04 with recent versions of AutoKey with the X Record interface.  I don't know how far back it goes, though I never experienced the problem on Hardy.

Derek.

Johnny Rosenberg said the following on 08/10/2010 11:52 PM:

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

8/11/10.

2010/8/11 Derek:

<pre>
> I wonder if this is related to Issue 43.  I haven't found any more insight
> into it, but since I leave my computer on at night, I quit AutoKey each
> evening.  Otherwise, it consumes a lot of memory and the computer is bogged
> down the next day.  This is on Ubuntu 10.04 with recent versions of AutoKey
> with the X Record interface.  I don't know how far back it goes, though I
> never experienced the problem on Hardy.
>
> Derek.
</pre>
I'm not sure it's the same, but maybe related somehow.  By the way, I have had my computer running for a couple of hours now and AutoKey still works, and last time I checked, a minute or two ago, it consumed 14,5 MiB.

Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

8/20/10.

2010/8/11 Johnny Rosenberg:

Okay, now when I came back after being out for some hours running and doing some more stuff, abbreviations didn't work any more.  The same thing happened a few days ago and this is what I did back then after that:

First I quit AutoKey, then I ran autokey-gtk -l.  Typing elsewhere and clicking with the mouse didn't lead to any kind of activity in the terminal, it seemed like autokey-gtk didn't receive any information from the system, or however it works.  Suddenly when I clicked somewhere things stareed to happen in the terminal again and everything worked perfectly after a while.  At first it was a bit slow with long delays between typing and replacing my abbreviations with phrases, but efter a while it work perfectly.

Today, however, I did the same thing but I can't really get it to work this time.  First I quit AutoKey, then started autokey-gtk -l from a terminal again, just like the other day.  The following fills the screen (just like the other day):

<pre>
$ autokey-gtk -l
INFO - root - Initialising application
INFO - config-manager - Loading config from existing file:
/home/guraknugen/.config/autokey/autokey.json
INFO - config-manager - Configuration changed - rebuilding in-memory structures
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - config-manager - Finished persisting configuration - no errors
INFO - root - Initialise global hotkeys
INFO - config-manager - Successfully loaded configuration file
DEBUG - config-manager - Global settings: {'showTrayIcon': True,
'windowDefaultSize': [1020, 522], 'undoUsingBackspace': False,
'enableQT4Workaround': False, 'promptToSave': False, 'interfaceType':
u'XEvDev', 'showToolbar': True, 'serviceRunning': True,
'columnWidths': [150, 50, 100], 'isFirstRun': False,
'sortByUsageCount': True, 'notificationIcon':
u'/usr/share/pixmaps/akicon.png', u'inputSavings': 7883,
'hPanePosition': 563, 'menuTakesFocus': False}
INFO - service - Starting service
Xlib.protocol.request.QueryExtension
DEBUG - interface - Modifier masks: {'<alt_gr>': 128, '<numlock>': 16,
'<ctrl>': 4, '<shift>': 1, '<alt>': 8, '<super>': 64}
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'k'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>', u'<shift>'] u'k'
DEBUG - interface - Grabbing hotkey: [u'<alt>', u'<ctrl>', u'<shift>'] u'y'
DEBUG - interface - Grabbing hotkey: [u'<alt>', u'<ctrl>', u'<shift>'] u'm'
DEBUG - interface - Alt-Grid: XK_ISO_Level3_Shift, 65027
DEBUG - interface - [(92, 0), (108, 0), (92, 2), (108, 2)]
DEBUG - interface - X Server Keymap
DEBUG - interface - [\] : [(20, 4)]
DEBUG - interface - [|] : [(94, 4)]
DEBUG - interface - No mapping for [`]
DEBUG - interface - [1] : [(10, 0), (10, 2)]
DEBUG - interface - [2] : [(11, 0), (11, 2)]
DEBUG - interface - [3] : [(12, 0), (12, 2)]
DEBUG - interface - [4] : [(13, 0), (13, 2)]
DEBUG - interface - [5] : [(14, 0), (14, 2)]
DEBUG - interface - [6] : [(15, 0), (15, 2)]
DEBUG - interface - [7] : [(16, 0), (16, 2)]
DEBUG - interface - [8] : [(17, 0), (17, 2)]
DEBUG - interface - [9] : [(18, 0), (18, 2)]
DEBUG - interface - [0] : [(19, 0), (19, 2)]
DEBUG - interface - [-] : [(61, 0), (61, 2)]
DEBUG - interface - [=] : [(19, 1), (19, 3)]
DEBUG - interface - No mapping for [~]
DEBUG - interface - [!] : [(10, 1), (10, 3)]
DEBUG - interface - [@] : [(11, 4), (24, 4)]
DEBUG - interface - [#] : [(12, 1), (12, 3)]
DEBUG - interface - [$] : [(13, 4)]
DEBUG - interface - [%] : [(14, 1), (14, 3)]
DEBUG - interface - No mapping for [^]
DEBUG - interface - [&] : [(15, 1), (15, 3), (45, 5)]
DEBUG - interface - [`*`] : [(51, 1), (51, 3)]
DEBUG - interface - [(] : [(187, 0), (17, 1), (187, 2), (17, 3)]
DEBUG - interface - [)] : [(188, 0), (18, 1), (188, 2), (18, 3)]
DEBUG - interface - [q] : [(24, 0), (24, 2)]
DEBUG - interface - [w] : [(25, 0), (25, 2)]
DEBUG - interface - [e] : [(26, 0), (26, 2)]
DEBUG - interface - [r] : [(27, 0), (27, 2)]
DEBUG - interface - [t] : [(28, 0), (28, 2)]
DEBUG - interface - [y] : [(29, 0), (29, 2)]
DEBUG - interface - [u] : [(30, 0), (30, 2)]
DEBUG - interface - [i] : [(31, 0), (31, 2)]
DEBUG - interface - [o] : [(32, 0), (32, 2)]
DEBUG - interface - [p] : [(33, 0), (33, 2)]
DEBUG - interface - [[] : [(17, 4)]
DEBUG - interface - []] : [(18, 4)]
DEBUG - interface - [a] : [(38, 0), (38, 2)]
DEBUG - interface - [s] : [(39, 0), (39, 2)]
DEBUG - interface - [d] : [(40, 0), (40, 2)]
DEBUG - interface - [f] : [(41, 0), (41, 2)]
DEBUG - interface - [g] : [(42, 0), (42, 2)]
DEBUG - interface - [h] : [(43, 0), (43, 2)]
DEBUG - interface - [j] : [(44, 0), (44, 2), (44, 4)]
DEBUG - interface - [k] : [(45, 0), (45, 2)]
DEBUG - interface - [l] : [(46, 0), (46, 2)]
DEBUG - interface - [;] : [(59, 1), (59, 3)]
DEBUG - interface - ['] : [(51, 0), (51, 2)]
DEBUG - interface - [z] : [(52, 0), (52, 2)]
DEBUG - interface - [x] : [(53, 0), (53, 2)]
DEBUG - interface - [c] : [(54, 0), (54, 2)]
DEBUG - interface - [v] : [(55, 0), (55, 2)]
DEBUG - interface - [b] : [(56, 0), (56, 2)]
DEBUG - interface - [n] : [(57, 0), (57, 2), (57, 4)]
DEBUG - interface - [m] : [(58, 0), (58, 2)]
DEBUG - interface - [,] : [(59, 0), (59, 2)]
DEBUG - interface - [.] : [(60, 0), (60, 2)]
DEBUG - interface - [/] : [(16, 1), (16, 3)]
DEBUG - interface - [Q] : [(24, 1), (24, 3)]
DEBUG - interface - [W] : [(25, 1), (25, 3)]
DEBUG - interface - [E] : [(26, 1), (26, 3)]
DEBUG - interface - [R] : [(27, 1), (27, 3)]
DEBUG - interface - [T] : [(28, 1), (28, 3)]
DEBUG - interface - [Y] : [(29, 1), (29, 3)]
DEBUG - interface - [U] : [(30, 1), (30, 3)]
DEBUG - interface - [I] : [(31, 1), (31, 3)]
DEBUG - interface - [O] : [(32, 1), (32, 3)]
DEBUG - interface - [P] : [(33, 1), (33, 3)]
DEBUG - interface - [{] : [(16, 4)]
DEBUG - interface - [}] : [(19, 4)]
DEBUG - interface - [A] : [(38, 1), (38, 3)]
DEBUG - interface - [S] : [(39, 1), (39, 3)]
DEBUG - interface - [D] : [(40, 1), (40, 3)]
DEBUG - interface - [F] : [(41, 1), (41, 3)]
DEBUG - interface - [G] : [(42, 1), (42, 3)]
DEBUG - interface - [H] : [(43, 1), (43, 3)]
DEBUG - interface - [J] : [(44, 1), (44, 3), (44, 5)]
DEBUG - interface - [K] : [(45, 1), (45, 3)]
DEBUG - interface - [L] : [(46, 1), (46, 3)]
DEBUG - interface - [:] : [(60, 1), (60, 3)]
DEBUG - interface - ["] : [(11, 1), (11, 3)]
DEBUG - interface - [Z] : [(52, 1), (52, 3)]
DEBUG - interface - [X] : [(53, 1), (53, 3)]
DEBUG - interface - [C] : [(54, 1), (54, 3)]
DEBUG - interface - [V] : [(55, 1), (55, 3)]
DEBUG - interface - [B] : [(56, 1), (56, 3)]
DEBUG - interface - [N] : [(57, 1), (57, 3), (57, 5)]
DEBUG - interface - [M] : [(58, 1), (58, 3)]
DEBUG - interface - [<] : [(94, 0), (94, 2), (52, 5)]
DEBUG - interface - [>] : [(94, 1), (94, 3), (53, 5)]
DEBUG - interface - [?] : [(20, 1), (20, 3)]
DEBUG - iomediator - Set modifier <capslock> to False
DEBUG - iomediator - Set modifier <numlock> to True
INFO - interface - Attempting to establish connection to EvDev daemon
INFO - interface - EvDev daemon connected
INFO - interface - EvDev interface thread starting
INFO - service - Service now marked as running
INFO - root - Entering main()
</pre>
After this, nothing more happens in the terminal.  I quit and restarted AutoKey a couple of more times but no success, but after a few times I get the following error message every time I start AutoKey:

<pre>
Error starting Interface. Keyboard monitoring will be disabled.
Check your system/configuration.

Unable to connect to EvDev daemon:
[Errno 11] Resursen tillfÃ¤lligt otillgÃ¤nglig
</pre>
The last line is in Swedish, it means something like "The resource is temporarily unavailable".

I guess restarting my computer is the only way I can get it up running at the moment so that is what I'm going to do.

And as usual, this is my computer info:

<pre>
AutoKey-gtk 0.71.0
Ubuntu 10.04
Keyboard layout: The Swedish default layout
</pre>
(My own layout is completely removed from the system since long ago, so don't worry about that.  I miss it very much so I will bring it back as soon as possible, but not before this problem is solved or at least addressed, I think.).

J.R.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

8/20/10.

2010/8/20 Johnny Rosenberg:

Here's the terminal output when the EvDev error above occurs:

<pre>
Faraone.
$ autokey-gtk -l
INFO - root - Initialising application
INFO - config-manager - Loading config from existing file:
/home/guraknugen/.config/autokey/autokey.json
INFO - config-manager - Configuration changed - rebuilding in-memory structures
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - config-manager - Finished persisting configuration - no errors
INFO - root - Initialise global hotkeys
INFO - config-manager - Successfully loaded configuration file
DEBUG - config-manager - Global settings: {'showTrayIcon': True,
'windowDefaultSize': [1020, 522], 'undoUsingBackspace': False,
'enableQT4Workaround': False, 'promptToSave': False, 'interfaceType':
u'XEvDev', 'showToolbar': True, 'serviceRunning': False,

ERROR - root - Error starting interface: Unable to connect to EvDev daemon:

[Errno 11] Resursen tillfÃ¤lligt otillgÃ¤nglig
Traceback (most recent call last):
  File "/usr/lib/python2.6/dist-packages/autokey/gtkapp.py", line 125,
in initialise
    self.service.start()
  File "/usr/lib/python2.6/dist-packages/autokey/service.py", line 77, in start
    self.mediator = IoMediator(self)
  File "/usr/lib/python2.6/dist-packages/autokey/iomediator.py", line
142, in __init__
    self.interface = EvDevInterface(self, service.app)
  File "/usr/lib/python2.6/dist-packages/autokey/interface.py", line
708, in __init__
    self.__connect()
  File "/usr/lib/python2.6/dist-packages/autokey/interface.py", line
765, in __connect
    raise Exception("Unable to connect to EvDev daemon:\n" + str(e))
Exception: Unable to connect to EvDev daemon:

[Errno 11] Resursen tillfÃ¤lligt otillgÃ¤nglig
INFO - root - Entering main()
</pre>
J.R.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

8/20/10.

Looks like my system installed a kernel update while I was out, because when I was going to restart my laptop the text "Restart" was replaced by "Restart required" or something like that ("Omstart krÃ¤vs" in Swedish.).  Maybe this was the reason this time why AutoKey stopped working.  Maybe some parts of the system was just shut down for some reason that is connected to the update.

So maybe it was a false alarm this time, but still, this happens now and then.  On both of my computers, which are configured a lot different from each other.  The other one only has the most important software installed, because its SSD drive is very small (16 GiB).

Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

Jun 11, 2011.

This still happens now and then on both my computers.  Actually it happened right now.  After a while my phrases doesn't work at all.  Restarting Autokey does not help.  I also tried the other two interfaces, no luck at all.

I also tried to start AutoKey from a terminal with the -l option and got the following output:

<pre>
$ autokey-gtk -l
INFO - root - Initialising application
INFO - config-manager - Loading config from existing file:
/home/guraknugen/.config/autokey/autokey.json
INFO - config-manager - Configuration changed - rebuilding in-memory structures
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - config-manager - Finished persisting configuration - no errors
INFO - root - Initialise global hotkeys
INFO - config-manager - Successfully loaded configuration file
DEBUG - config-manager - Global settings: {'showTrayIcon': True,
'windowDefaultSize': [956, 517], 'undoUsingBackspace': False,

'enableQT4Workaround': False, 'promptToSave': False, 'interfaceType':
u'AT-SPI', 'showToolbar': True, 'serviceRunning': True,

'columnWidths': [150, 50, 100], 'isFirstRun': False,
'sortByUsageCount': True, 'notificationIcon':
u'/usr/share/pixmaps/akicon.png', u'inputSavings': 7883,
'hPanePosition': 528, 'menuTakesFocus': False}

INFO - service - Starting service
Xlib.protocol.request.QueryExtension
DEBUG - interface - Modifier masks: {'<alt_gr>': 128, '<numlock>': 16,
'<ctrl>': 4, '<shift>': 1, '<alt>': 8, '<super>': 64}
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'k'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>', u'<shift>'] u'k'
DEBUG - interface - Grabbing hotkey: [u'<alt>', u'<ctrl>', u'<shift>'] u'y'
DEBUG - interface - Grabbing hotkey: [u'<alt>', u'<ctrl>', u'<shift>'] u'm'
ERROR - root - Error starting interface: get_window_title() takes
exactly 1 argument (2 given)

Traceback (most recent call last):
  File "/usr/lib/python2.6/dist-packages/autokey/gtkapp.py", line 124,

in initialise
    self.service.start()
  File "/usr/lib/python2.6/dist-packages/autokey/service.py", line 76, in start

    self.mediator = IoMediator(self)
  File "/usr/lib/python2.6/dist-packages/autokey/iomediator.py", line
143, in __init__
    self.interface = AtSpiInterface(self, service.app)

  File "/usr/lib/python2.6/dist-packages/autokey/interface.py", line
82, in __init__
    self.__initMappings()

  File "/usr/lib/python2.6/dist-packages/autokey/interface.py", line
121, in __initMappings
    self.__grabHotkeys()

  File "/usr/lib/python2.6/dist-packages/autokey/interface.py", line
160, in __grabHotkeys
    self.__recurseTree(self.rootWindow, hotkeys)

  File "/usr/lib/python2.6/dist-packages/autokey/interface.py", line
165, in __recurseTree
    title = self.get_window_title(window)
TypeError: get_window_title() takes exactly 1 argument (2 given)
INFO - root - Entering main()
</pre>
I have done this before when Autokey stopped working, but this is the first time I get that error at the end.

Kind Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">GrouchyGaijin said…</font></h3>

Jun 11, 2011.

I had / have the same issue with Ubuntu 10.10 and 11.04.  The only way I figured to solve the problem is to have a cron job set to kill autokey once an hour then another job to restart it a couple of minutes later.

John.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

Jun 11, 2011.

2011/6/11 John Niendorf:

<pre>
> I had / have the same issue with Ubuntu 10.10 and 11.04.  The only way I
> figured to solve the problem is to have a cron job set to kill autokey once
> an hour then another job to restart it a couple of minutes later.
> John.
>
</pre>
If you start Autokey manually, does it work then?  For me it usually doesn't but sometimes (very few times) it does.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

Jun 11, 2011.

2011/6/11 Johnny Rosenberg:

Just found out that this error only happens with the AT-SPI interface.

Kind Regards.

Johnny Rosenberg.

<pre>
>>> INFO - root - Entering main()
>>>
>>> I have done this before when Autokey stopped working, but this is the
>>> first time I get that error at the end.
>>>
>>>
>>> Kind Regards.
>>>
>>> Johnny Rosenberg
>>>
>>
>>
>
</pre>
<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

Jun 11, 2011.

Maybe that message was very confusing.  This is what I mean:

<pre>
Autokey stopped working >
I cancelled Autokey >
I started Autokey >
Still no luck >
I changed to the X record interface >
Still no luck >
Changed to the AT-SPI interface >
Still no luck >
I cancelled Autokey
> I started Autokey >
Error message at Autokey startup >
I tried to restart several times, same error >
Restarted my computer >
Same error >
A couple of more restarts >
Same error > I cancelled Autokey >
I started Autokey >
I changed to another interface, X record I think >
No error >
Changed to the X Evdev interface >
Still no error
</pre>
Right now Autokey works since I restarted my computer recently, so I can't do any further tests at the moment.

Kind Regards.

Johnny Rosenberg.

<pre>
> Kind Regards.
>
> Johnny Rosenberg
>
>
>
>>>> INFO - root - Entering main()
>>>>
>>>> I have done this before when Autokey stopped working, but this is the
>>>> first time I get that error at the end.
>>>>
>>>>
>>>> Kind Regards.
>>>>
>>>> Johnny Rosenberg
>>>>
>>>
>>>
>>
>
</pre>
<h3><font color="#FF4500">Evan Edwards said…</font></h3>

Jun 11, 2011.

<pre>
On Sat, Jun 11, 2011 at 4:39 AM, John Niendorf wrote:
> I had / have the same issue with Ubuntu 10.10 and 11.04.  The only way I
> figured to solve the problem is to have a cron job set to kill autokey once
> an hour then another job to restart it a couple of minutes later.
</pre>
I find once a day is typically enough.  There is an odd issue, however.

<pre>
code start
#!/bin/sh

#%%about=ak - Restart AutoKey

if [ ! "$1" =  "" ]
then
  echo "Usage: ak"
  echo "  Restarts Autokey"
  exit
fi

killall autokey-qt
sleep .3
killall -9 autokey-qt 2>/dev/null
sleep .2
autokey-qt >/dev/null 2>&1 &

code end
</pre>

—Evan Edwards.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

Aug 8, 2011.

Today I left my computer for a couple of hours again and when I got back AutoKey-GTK didnâ€™t work.  This time I didnâ€™t restart my computer (which was the only way that I knew of before), instead I did the following:

<pre>
1. Change interface to X Record.
2. Try again â€" no success.
3. Cancel AutoKey-GTK.
4. Start AutoKey-GTK.
5. Try again â€" success.
6. Change interface back to X Evdev.
5. Try again â€" success.
</pre>
Does this give you guys any kinds of clues on whatâ€™s going on?  It doesnâ€™t seem to be something in my system that crashed, because the only thing I restarted was AutoKey-GTK.  Can it be a bug in Python?  I guess I wouldn't have asked that if I knew anything about Python, though.

So the possible steps here seems to be the following:

<pre>
1â€"2â€"3â€"4â€"5â€"6â€"5.
1â€"2â€"3â€"4â€"5 (if you donâ€™t mind X Record instead of X Evdev).
3â€"4â€"2 (which means that if you only do step 3 and 4, you will end up
at step 2 rather than step 5).
I didnâ€™t try 3â€"4â€"1 or 3â€"4â€"1â€"6 though.
</pre>
Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">Joe said…</font></h3>

Aug 8, 2011.

I have also had a problem with autokey 0.61.7 on kubuntu lucid becoming inactive recently.  I don't remember exactly what steps I took to get it to start working again, but it was more that just closing it and running it again.  This is just to say that more than one person is having this problem.

Joe.

<h3><font color="#FF4500">Chris D said…</font></h3>

Aug 11, 2011.

The best choice for interface type is always XRecord unless that doesn't work at all.  Try using that exclusively and see if it eliminates this problem.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

Aug 12, 2011.

2011/8/12 Chris D:

<pre>
> The best choice for interface type is always XRecord unless that
> doesn't work at all. Try using that exclusively and see if it
> eliminates this problem.
</pre>
Have done that since last time I wrote, I think, and as far as I remember I had no problems so far.  If it happens again, I will write back.

Still, I am curious why it fails sometimes when using the X evdev interface.  Where is the problem?  AutoKey, Python, Evdev?  I guess nobody knows at the moment, but if someone finds out I'd like to know.

Kind Regards.

Johnny Rosenberg.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Basic question</font></h1>

3 posts by 2 authors.

<h3><font color="#FF4500">clooney48 said…</font></h3>

Aug 8, 2011.

Hi.

I am quite new to Autokey.  After the installation of Autokey (Ubuntu 10.04, autokey-gtk) I got the following problem:

This code works:

<pre>
import datetime
output = system.exec_command("date +%d.%m.%Y")
keyboard.send_keys(output)
</pre>
But this code doesn't work:

<pre>
snip = clipboard.get_selection()
retCode, note = dialog.input_dialog("Note", "Enter note")
filename = '/home/snips.txt'
file = open(filename, 'a')
file.write(note+": "+snip+"\n\n")
 file.close()
</pre>

Even the first two lines which show the Inputbox don't work.  I have the impression that Python doesnÂ´t work although it is installed correctly.  Has anybody an idea for the reason??  Do I have to install another packages?

Many Thanks. clooney48.

<h3><font color="#FF4500">Chris D said…</font></h3>

Aug 9, 2011.

When you run this script, do you have some text selected with the mouse?  I believe clipboard.get_selection() will block if nothing is selected.

Otherwise, you can try running autokey in a terminal with autokey -l and take a look at the log output.

<h3><font color="#FF4500">clooney48 said…</font></h3>

Aug 11, 2011.

Hi Chris!

Thank you very much for this hint!

I always deselected the text before running the script.  That was the mistake.

Regards.

clooney48.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Help with script for Firefox</font></h1>

3 posts by 2 authors.

<h3><font color="#FF4500">Joe said…</font></h3>

Jul 26, 2011.  I have two accounts with passwords on one website.  Firefox remembers the password for one of them, but every time I enter the password for the other one, a "change password" pop-up appears.  It has the focus and if I have Autokey send it a <tab> I see it work.  If I type an ESC on the keyboard that gets rid of it, but, for some reason, having Autokey send it the <esc> does nothing - even after a delay.

Can anyone tell me how to get the password pop-up closed?

I'm just starting to learn python.  I'm an experienced programmer in other languages.  I don't know much about website programming.

TIA

Joe.

<pre>
# Postini-Rita
# Replace incorrect password
# Enter postini
# Get rid of change password dialog

import time

keyboard.send_keys("<tab><tab>password<enter>")
time.sleep(5.0)
keyboard.send_keys("<esc>")
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

Aug 9, 2011.

The correct key string for escape is "<escape>" - see here:

<pre>
https://code.google.com/p/autokey/wiki/SpecialKeys
</pre>
<h3><font color="#FF4500">Joe said…</font></h3>

Aug 10, 2011.

Thanks.  That works!

I don't know anything about Lifehacker, but autokey is an essential for me and I just started working with it!

Joe.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Autokey listed as Lifehacker "Best Linux Downloads"</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">Evan Edwards said…</font></h3>

Aug 6, 2011.

Autokey is in the Lifehacker pack of the best Linux downloads:

<pre>
http://lifehacker.com/5827968/lifehacker-pack-for-linux-our-list-of-the-best-linux-downloads
</pre>
(Like we didn't know that already)

—Evan Edwards.

<h3><font color="#FF4500">Chris D said…</font></h3>

Aug 9, 2011.

Thanks :) I'm a regular LH reader so I saw that.  I'm dubious that AutoKey is of high enough quality to qualify for that list but I'm happy nonetheless :)

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Fixing AutoKey tray icon under Ubuntu Unity</font></h1>
 1 post by 1 author
<h3><font color="#FF4500">Chris D said…</font></h3>

Jul 15, 2011.

Hi folks.

A kind user posted up a solution to the missing tray icon problem in Unity.  You can read about it here:

<pre>
http://ubuntu-install.blogspot.com/2011/06/autokey.html
</pre>
Chris.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Damned stranged problem</font></h1>

3 posts by 2 authors.

<h3><font color="#FF4500">Jeff Needle said…</font></h3>

Jul 13, 2011.

On a new install of autokey in an Ubuntu 10.04 Netbook environment, I have three phrases and one script entered.  Two of the phrases expand just fine, the third doesn't do anything.  The abbreviation just stays on screen, no expansion.

Is there some file I can send to analyze what's happening here?  Thanks.

<h3><font color="#FF4500">Chris D said…</font></h3>

Jul 14, 2011.

Make friends with the Troubleshooting wiki page - it has details on how to get debugging info.

<tt>http://code.google.com/p/autokey/wiki/Troubleshooting</tt>

<h3><font color="#FF4500">Jeff Needle said…</font></h3>

Jul 14, 2011.

Thanks.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Strange problem with copying settings from one computer to another</font></h1>

5 posts by 3 authors.

<h3><font color="#FF4500">Jeff Needle said…</font></h3>

Jun 29, 2011.  I've copied my autokey settings from my main computer to another computer.  I've copied the entire contents of the .config/autokey directory to the new computer.  When I display the contents of the autokey.json file, I can see all my data there.  But when I start autokey, it can't see any of it—it displays just the default settings.

What's happening here?

<h3><font color="#FF4500">Chris D said…</font></h3>

Jul 11, 2011.  Somehow this post went under my radar.  Did you manage to resolve the problem?

<h3><font color="#FF4500">exit said…</font></h3>

Jul 11, 2011.

dunno if this helps one way or another, but i've never had an issue sharing my configs among computers—as long as i export (and import) the "folders" one at a time.  this is a workaround, it's always done the trick for me.

exit   <h3><font color="#FF4500">Jeff Needle said…</font></h3>


Jul 11, 2011.

Nope, just ended up recreating my phrases and scripts.  No big deal.

Thanks.

<h3><font color="#FF4500">Jeff Needle said…</font></h3>

Jul 11, 2011.

Hmmm, I just did a straight copy of the autokey directory.  Maybe that was the problem?

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: window.set_property("windowname", below) ?</font></h1>

4 posts by 3 authors.

<h3><font color="#FF4500">cedardoc said…</font></h3>

Jun 20, 2011.

I'd like to switch to a VNC viewer to see the state of another computer, but not have the focus captured by it (until I click on it).

Here's the script that works, but not the windows.set_property as I just made that part up.

<pre>
if window.wait_for_exist(".`*`CLINICCOMPUTER.`*`", timeOut=.5):
    window.activate("CLINICCOMPUTER", switchDesktop=False)
    window.set_property("CLINICCOMPUTER", below)
else:
    system.exec_command("vinagre 192.168.0.109", False)
    window.set_property("CLINICCOMPUTER", below)
</pre>
Is there a legitimate way to do this?

Thanks.  Dave.

<h3><font color="#FF4500">furtypajohn said…</font></h3>

Jun 23, 2011.

I suggest you try using 'wmctrl'.

apt-get wmctrl  To toggle the below state of a Firefox window on Google use:

<pre>
wmctrl -r "Google - Mozilla Firefox" -b toggle,below
</pre>
Possible states values are: modal, sticky, maximized_vert, maximized_hort, shaded, skip_taskbar, skip_pager, hidden, fullscreen, above, below   <h3><font color="#FF4500">Chris D said…</font></h3>


Jun 23, 2011.

In fact wmctrl is what AutoKey uses under the covers, so  you would already have wmctrl installed.

<h3><font color="#FF4500">cedardoc said…</font></h3>

Jun 28, 2011.

thank you both.  It didn't work on its own, but I think its because I have something screwy with my compiz settings - I can't get rid of focus on mouse-over.  I did manage to get it to work by also putting the mouse way off to the side with this though:

<pre>
system.exec_command("xte 'mousemove 0 375'", False)
</pre>
Thanks again.  Dave.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Duplicate hotkeys</font></h1>

6 posts by 3 authors.

<h3><font color="#FF4500">furtypajohn said…</font></h3>

May 9, 2011.

Is there a reason that when checking for a unique hotkey it does not take into account the regular expression for the window title?

It would be nice to have one hotkey perform many different actions depending on the program it is executed within.

<h3><font color="#FF4500">Chris D said…</font></h3>

May 11, 2011.

Interesting…the only reason would be that I never thought of using it like that.  File an enhancement request on the tracker if you wish.

<h3><font color="#FF4500">Evan Edwards said…</font></h3>

May 11, 2011.

<pre>
On Wed, May 11, 2011 at 2:11 PM, Chris D wrote:
> Interesting…the only reason would be that I never thought of using
> it like that. File an enhancement request on the tracker if you wish.
</pre>
Similarly, if possible, a multi-key sequence would be awesome. emacs, screen or WordStar style sequences would be really nice: unless there's a super secret way of doing them that I don't know about?

Currently, I pop up a menu, so Super-C opens a list of console types (local, ssh to various servers, etc).  It would be great to hit S-C, e for connecting to eddie, or S-C, t to connect to tim.

—Evan Edwards.

<h3><font color="#FF4500">furtypajohn said…</font></h3>

May 19, 2011.

I also agree with Evan, having the ability to do Emacs like key commands would be incredible.

I will file a request on my original post. :)

<h3><font color="#FF4500">Chris D said…</font></h3>

May 27, 2011.

Interesting, could you explain this in a bit more detail?

<h3><font color="#FF4500">furtypajohn said…</font></h3>

Jun 14, 2011.

I'm not sure if you wanted me to explain my original post, or Evan to explain his..so I'll explain mine anyway.

Let's say you try to have the following two Phrases:

<pre>
Phrase1:  Window filter: .`*` - Mozilla Firefox

Phrase2:  Window filter: emacs@.`*`
</pre>
When you try to set BOTH Phrase1, and Phrase2 to the same Hotkey (say: <ctrl>+b) Autokey presents a warning saying that it has encountered a duplicate hotkey.  However, these hotkeys should only be found as duplicates if the window filters are not distinct sets.

It would be nice to have multiple phrases, each with the same hotkey, which perform different actions depending on which window they are performed within.

Let me know if you need more info.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Window Filter for jEdit?</font></h1>

9 posts by 4 authors.

<h3><font color="#FF4500">linux.guy said…</font></h3>

Jun 6, 2011.

I can not get the window filter to work for jEdit.  The heading at the top of my jedit window is, e.g.:

<pre>
    jEdit - window.filter.problem.txt

I've tried
    .`*`jedit
and
    .`*`jEdit
As well as a common part of a file name,
    .`*`html
</pre>
Might this happen because jedit is a java program?  I do not see "jedit" as listed as a running task but "java" starts when I run jEdit; it stops when I close jEdit.  A filter with java in it does not trigger an abbreviation either.

In any event, how do I create a filter for jedit?

Output to terminal (Ubuntu 10.04) for the definition of the filter and trying to "run it" appears below. (The abbreviation for the test phrase is "tt")

Roger.

<pre>
DEBUG - interface - New window mapped, grabbing hotkeys
DEBUG - service - Raw key: u'.', modifiers: [], Key: u'.'
DEBUG - service - No phrase/script matched hotkey
DEBUG - service - Input stack at end of handle_keypress: [u'.']
DEBUG - iomediator - <shift> pressed
DEBUG - service - Raw key: u'8', modifiers: ['<shift>'], Key: u'`*`'
DEBUG - service - No phrase/script matched hotkey
DEBUG - service - Input stack at end of handle_keypress: [u'.', u'`*`']
DEBUG - iomediator - <shift> released
DEBUG - service - Raw key: u'j', modifiers: [], Key: u'j'
DEBUG - service - No phrase/script matched hotkey
DEBUG - service - Input stack at end of handle_keypress: [u'.', u'`*`',
u'j']
DEBUG - service - Raw key: u'e', modifiers: [], Key: u'e'
DEBUG - service - No phrase/script matched hotkey
DEBUG - service - Input stack at end of handle_keypress: [u'.',
u'`*`',u'j', u'e']
DEBUG - service - Raw key: u'd', modifiers: [], Key: u'd'
DEBUG - service - No phrase/script matched hotkey
DEBUG - service - Input stack at end of handle_keypress: [u'.',
u'`*`',u'j', u'e', u'd']
DEBUG - service - Raw key: u'i', modifiers: [], Key: u'i'
DEBUG - service - No phrase/script matched hotkey
DEBUG - service - Input stack at end of handle_keypress: [u'.',
u'`*`',u'j', u'e', u'd', u'i']
DEBUG - service - Raw key: u't', modifiers: [], Key: u't'
DEBUG - service - No phrase/script matched hotkey
DEBUG - service - Input stack at end of handle_keypress: [u'.',
u'`*`',u'j', u'e', u'd', u'i', u't']
DEBUG - service - Received mouse click - resetting buffer
DEBUG - service - Received mouse click - resetting buffer
INFO - config-manager - Configuration changed - rebuilding in-memory
structures
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - config-manager - Finished persisting configuration - no errors
DEBUG - service - Received mouse click - resetting buffer
DEBUG - service - Received mouse click - resetting buffer
DEBUG - service - Raw key: u't', modifiers: [], Key: u't'
DEBUG - service - No phrase/script matched hotkey
DEBUG - service - Input stack at end of handle_keypress: [u't']
DEBUG - service - Raw key: u't', modifiers: [], Key: u't'
DEBUG - service - No phrase/script matched hotkey
DEBUG - service - Input stack at end of handle_keypress: [u't', u't']
DEBUG - service - Received mouse click - resetting buffer
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

Jun 7, 2011.

The problem stems from a slight misunderstanding in how the regular expression works.

What you had - .`*`jEdit - would match Anythinghere jEdit.  It would not match jEdit - anythinghere  Your regex should be jEdit.`*`

<h3><font color="#FF4500">linux.guy said…</font></h3>

Jun 8, 2011.

Chris.

Thanks for thinking on this.

You suggestions (already tried and tried again) do not work, i.e., none of the following variants work:

<pre>
    jedit.`*`
    jEdit.`*`
    .`*`jedit.`*`
    .`*`jEdit.`*`
</pre>
Given that I can construct window filters that work with other programs, e.g., .`*`gedit, I continue to believe there might be something else going on, given that jEdit executes as a java implementation. jEdit starts by calling a shell script which starts jEdit under java.  As noted before, jedit does not show up in my list of processes when started but java does and disappears upon exiting jEidt.  Filtes such as .`*`java do not work either.

Roger.

<pre>
On Jun 7, 7:37 pm, Chris D wrote:
> The problem stems from a slight misunderstanding in how the regular
> expression works.
>
> What you had - .`*`jEdit - would match Anythinghere jEdit. It would not
> match jEdit - anythinghere
>
> Your regex should be jEdit.`*`
</pre>
[snip]

<h3><font color="#FF4500">keith said…</font></h3>

Jun 9, 2011.

Hi  Have you tried it without the period before the `*` ???

In my case just using the first word in the window bar—without anything else—works.

I also had trouble getting wild cards to work:

Keith.

<h3><font color="#FF4500">linux.guy said…</font></h3>

Jun 9, 2011.

An initial asterisk won't do it. `*` means any number of preceeding characters while a period means any character. jEdit is the first word on the title bar for jEdit.  So:

<pre>
    .`*`jEdit
</pre>
means any number of any character before the string jEdit.

Asterisk is not a wildcard in regular expressions; it has the meaning described above.

<h3><font color="#FF4500">keith said…</font></h3>

Jun 10, 2011.

Actually my suggestion was for you to try just the asterisk in ALL the different configurations that you tried .`*` in—as you described in an earlier post  Yes I know what .`*` means in standard and PCRE regular expressions.  BUT that does not mean that AutoKey or Python is following the syntax of either of those—in this specific situation.  I have run into several apps that treated `*` as if it was .`*` when matching text strings internally—thus my suggestion.

Since the standard usage did not work all I was doing was suggesting that you experiment and see if a non-standard method would work.

A program does what it does.  Arguing about what it "should" do will not get it to do what you want it to.

Keith.

<h3><font color="#FF4500">Chris D said…</font></h3>

Jun 11, 2011.

I think your hunch that the problem might be caused by jEdit being a Java application might be on the money.  There is a good chance that Java doesn't set the window title/class attributes in X the same way GTK or KDE would.  If you look into a program called wmctrl, that should give you the necessary tools to find out what the window is really called under the covers.

<h3><font color="#FF4500">linux.guy said…</font></h3>

Jun 11, 2011.

Oh: and I thought we were so close!

Installed wmcrtl.

<tt>wmcrtl -lx</tt> said, for jedit…

<pre>
    sun-awt-X11-XFramePeer.org-gjt-sp-jedit-jEdit       N/A jEdit -
Untitled-1 (modified)
</pre>

This implies that .`*`jEdit should work.  It doesn't.  Nor does .`*`sun as a filter definition.

I guess I'll just have to give up - stop beating a nearly dead horse ~and use abbreviations which are unique for use with jEdit.

Thanks.  Chris.

Roger.

<h3><font color="#FF4500">Evan Edwards said…</font></h3>

Jun 12, 2011.

One last thought.  Just do:

.`*`JEdit.`*`

It will match—and may match others.  If it doesn't match, you're doing something wrong.

Failing that, try:

.`*`

That should match every window.  If not, then yep—it's something else that is the problem, not the filter.

—Evan Edwards.

<h3><font color="#FF4500">linux.guy said…</font></h3>

Jun 13, 2011.

Giving up: tried so many variants of regex that I'm beginning to dream them and it's screwing up my dreams `<grin>`.  And, as expected:  <tt>.`*`</tt> does match all windows.

Thanks to all for the suggestions.

Roger.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: The future of AutoKey</font></h1>

<h3><font color="#FF4500">marshag63 said…</font></h3>

Jun 1, 2011.

Chris.  I need to clarify.  IronAHK for linux is not nearly as far along in development.  I was told in the IRC channel the linux version of IronAHK is very buggy.

You've made AutoKey a very useful program, which is much sought after - thank you for all your hard work.

In the end, you will do what you feel you need to do, and I respect that.

AutoKey is the only program right now that can be used "across the board" with linux applications - - many applications have their own version of scripting and abbreviation expansion, but AutoKey beats them all.

Thanks again for all your hard work!

MarshaG.

Marsha Gilliland May 30 06:53PM -0500 ^

Chris, I would prefer you separate abbreviation expansion from the scripting functionality.  When I looked into IronAHK, I was told it did not do abbreviation expansion, which is the main reason I use AutoKey, plus it was insanity trying to install it - Autokey is easy.

As someone who does production typing, replies to a lot of emails or deals with a lot of addresses, AutoKey is indispencible, especially when it can be used with any program (except for some reason it does not play nice with Abiword).

I would love to see AutoKey streamlined for abbreviation expansion for phrases (and especially multiline phrases like addresses and multiple paragraphs) much like the many windows abbreviation expansion tools where you highlight the text you want to add and are prompted for an abbreviation to use for it.  The idea being you use abbreviations to trigger abbreviation expansion.  The ability to import a list of abbreviations and their expanded form (single line or multiple line) is essential as well.  Lots of people are looking for abbreviation expansion specifically.

There is definitely also a need for an AutoHotKey type program for linux for script writing and a better way for keyboard shortcuts to trigger actions/apps/scripts.  I see the need for two separate programs.

Please don't let abbreviation expansion across linux apps die.

Marsha G.

<h3><font color="#FF4500">Andreas Schamanek said…</font></h3>

May 29 09:08AM -0700 .

Can't add much to the discussion but I am sure curious about the future of AutoKey.  When I switched my desktop from Windows to Ubuntu assigning macros/phrases/shortcuts/etc. to hotkeys like with AutoHotKey was what I missed most.  When I discovered AutoKey it was a great relief.

I, too, hear about IronAHK for the first time.  I guess it's an alternative.  But isn't Mono a bit of a heavy dependency?  I don't know but I do know I never liked .NET.

If you rewrite AutoKey, go ahead, I don't mind the GUI :)

<h3><font color="#FF4500">Michael Tunnell said…</font></h3>

May 29 11:19AM -0500.

I hate .NET and Silverlight so in turn I hate Mono and Moonlight.  I am a big fan of what the Mono and Moonlight people are doing to bridge the gap but the languages they are based around are just not very good so I can't really get behind that.

I have never used IronAHK so I dont know much about it but I have heard about it before now just not very much.

Chris, if it is worth it to rewrite AutoKey rather than going to IronAHK then I would prefer that but if it makes more sense to use IronAHK then I suppose it will do.

I probably won't use IAHK though because I don't use Mono or Moonlight on any of my Linux machines because it just slows them down and what they provide just doesnt merit the lag.

I would prefer the rewrite to be similar to AutoHotKey (on windows) with the individual programs structure.  I am a huge fan of that…in fact I even built a few AHK programs when I used to be a Windows user before switching completely to Linux.

As for the GUI, I don't care at all.  I would prefer the project have a gui even if it is very basic because there are more and more novice users switching to linux and terminal only programs are not going to do well in that kind of market but to start off, no gui is just fine.

So rewrite it please. :)

<h3><font color="#FF4500">keith said…</font></h3>

May 28 01:39PM -0700 ^

I would rather you stayed with AutoKey for purely selfish reasons.: IronAHK is an unknown to me as well as what kind of maintainer and community support might develop.  You and AutoKey are a good thing as well as the AutoKey community here.  AutoKey without you would not be a good thing.

I have no objection to less GUI nor to separate files.

I use it almost exclusively to insert text phrases.  Code snippets mostly and to send control characters to the application.  Anything that removed that would be bad for me.

So could you speculate further on what kind of 'functionality' we would lose with phrases if you re-wrote AutoKey and what kind of workarounds could be used to replace them?

I just bought a WarMouse 18 button mouse and I am planning on using it with AutoKey as much as possible.  I came to the conclusion that if you need macros your also need more mouse buttons. `<grin>`

Keith   <br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Random suggestions</font></h1>


3 posts by 2 authors.

<h3><font color="#FF4500">furtypajohn said…</font></h3>

May 6, 2011.

I've been using AutoKey for about a week now and I must say I think it is great.  Good job!

Here are some thoughts I've had since installing it, including some features I think might be nice to have and that I'm going to play around with locally.

1.  Regular expression matching for abbreviations.

I was trying to make an abbreviation similar to the following:

Type: impthreading Replacement: import threading  Now, I could do that very easily :) but what I really want is (not to make hundreds of abbreviations) to be able to do "imp.`*`" and have it match "impthreading", "impdatetime", "impsocket", etc…I implemented this quickly and there are obvious issues.

Typing: important becomes import ortant…But that's more a fault of the designer of the abbreviation and not AutoKey itself. "imp-.`*`" would be a better abbreviation.

The next issue is that, to make this useful, the script writer (or abbreviation writer) needs to be provided with a way of using the matched text.  Easiest solution is to provide them access with whatever was typed (for scripts).  Then they can figure out the parsing on their own.  I am (I think) going to do this using the store, and just store it using a fixed key.

I think this would make AutoKey quite a bit more powerful.

2.  Ability to apply a Not to the window matching.

This would make a script/abbreviation apply to any window that DOESN'T match the specified text.  I had a specific use case for this in mind, which escapes me now but I'm was wonderful.

3.  Ability to use mouse presses in hotkey definitions.

Example: Press Control + Left Click to run this script:

My ultimate goal, if you will, is to use AutoKey to implement T9 text completion (anyone familiar with phone texting should understand this) for Linux.  Load in a dictionary, show you the most likely completion—allow you to cycle through the less likely completions, and then select one.  Ability to update the dictionary as you type and use the program so that it becomes tuned to your typing style.  It would also be nice to have a way of editing the dictionary entries (so you can delete the random misspelling that got entered, etc).  I wrote a program with this basic functionality already but feel that integrating it into AutoKey would be much better :)

<h3><font color="#FF4500">keith said…</font></h3>

May 6, 2011.

Hi furty  My 2 cents:

Item 1 - I'm sure it is possible to do but I think that it would be more time and trouble to manage the unintended consequences than you would gain by its use in abbreviation expansion.  Regular expressions work best on computer generated or highly structured data.  It is almost useless on un-edited human generated data.  Fixing unintended abbreviation expansions takes a lot of time and is a major distraction if you are in the middle of typing something.

Item 2 - I like the idea and I think it could be useful.  I have a few scripts that I use across several programs but DON'T want running in certain other programs.

Item 3 - I think the ability to use mouse presses like that could be very useful for certain  situations and would like to see it implemented BUT it "could" be a real pain to program it into AutoKey.  If it is easy to do, I like the idea a lot.

Keith.

<h3><font color="#FF4500">furtypajohn said…</font></h3>

May 6, 2011.

Doh.  It decided to post on its own.

Anyway—I just wrote these suggestions to see what people thought, and if anyone had any thoughts or contributions.

Thanks!

<h3><font color="#FF4500">Chris D said…</font></h3>

May 27, 2011.

These are excellent suggestions.  I've been thinking of a total rewrite for AutoKey and these types of things would fit into that.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: certain applications fail to respond to autokey</font></h1>

8 posts by 3 authors.

<h3><font color="#FF4500">brent said…</font></h3>

Mar 22, 2011.

hello  i am a frequent user of the scripts and text expansion features of autokey. now i find i can't use my computer comfortably without them!

I use debian sid. recently certain applications have ceased accepted instructions from autokey. i have installed epiphany-browser and gnome~termial from the experimental repository of debian. these two non apps are now non-responsive to autokey text expansions triggered by abbreviations or scripts triggered by hotkeys.

 running with autokey -l shows that autokey is sending the output    <pre>
DEBUG - service - Script runner executing: Script('insert YYYY-MM-DD')
DEBUG - interface - Send special key: ['<backspace>']
DEBUG - interface - Send special key: ['<backspace>']
DEBUG - interface - Send special key: ['<backspace>']
DEBUG - iomediator - Send via event interface DEBUG - interface - Sending string: u'2011-03-23'
DEBUG - service - Input stack at end of handle_keypress: []
</pre>
any ideas on what my be going wrong?

Regards.

brent   <h3><font color="#FF4500">Evan Edwards said…</font></h3>


Mar 23, 2011.

<pre>
On Tue, Mar 22, 2011 at 11:32 PM, brent wrote:
> instructions from autokey. i have installed epiphany-browser and gnome-
> termial from the experimental repository of debian. these two non apps
> are now non-responsive to autokey text expansions triggered by
</pre>
Which interface are you using?  It's sounds like you're savvy enough to test them out and figure out which works best for you.  Go to Settings -> Interface and try the options.  Note that the AT-SPI fallback option is greyed out for the autokey-qt (presumably, you need autokey-gtk).

Depending on your goals:  Before the great rewrite (which sounds like the voiceover at the start of a cheesy science fiction movie), I seem to recall that there was an option to use the clipboard.  You could do the same in a script, I suppose.  That's a nasty workaround, however.

(And thank you for using ISO dates).

—Evan Edwards.

<h3><font color="#FF4500">brent said…</font></h3>

May 15, 2011.

<pre>
On Mar 23, 3:15 pm, Evan Edwards wrote:
> On Tue, Mar 22, 2011 at 11:32 PM, brent wrote:
snip
>    Which interface are you using?  It's sounds like you're savvy
> enough to test them out and figure out which works best for you.  Go
> to Settings -> Interface and try the options.  Note that the AT-SPI
> fallback option is greyed out for the autokey-qt (presumably, you need
> autokey-gtk).
</pre>
So I had hoped that the problem of some applications being non responsive to autokey defined abbreviations and hotkeys would be temporary.  Unfortunately this has turned out not to be the case.  In fact the opposite has happened.  Now more applications than before are non responsive.

Autokey still works for some applications but as I continue to update to gnome 3 applications autokey quits working with them.  I have been using the X Record interface.  If I change to the X Evdev interface autokey is not able to make a connection to the daemon even after restarting the daemon with the init script.  When using the AT-SPI interface the result is the same as with the X Record interface.

There is something that all the applications have in common which don't work with autokey; they have libgtk-3-0 as a dependency.  All the applications I use autokey with that depend on qt4 or libgtk2.0-0 work as expected.

Is anyone on this list using applications that depend on gtk3 successfully with autokey?  Specifically evolution groupware, epiphany web browser, gnome-terminal, gedit text editor.  Can anyone suggest how I might further chase down this bug?

Regards.

Brent.

<h3><font color="#FF4500">Chris D said…</font></h3>

May 16, 2011.

This sounds very bad.  If your abbreviations/hotkeys are still triggering but not producing any output (and from the logs you posted it looks like this is the case) then it seems like GTK3 is somehow filtering the events coming from the X server and ignoring the ones from AutoKey.  You can test this theory by changing the phrase to use "Paste via clipboard" instead of "Paste via keyboard".  Another good test would be to create a script that sends a key using keyboard.fake_keypress() and see if that produces any output in the problem programs.

Chris.

<h3><font color="#FF4500">brent said…</font></h3>

May 16, 2011.

<pre>
On Mon, 2011-05-16 at 15:37 -0700, Chris D wrote:
> This sounds very bad. If your abbreviations/hotkeys are still
> triggering but not producing any output (and from the logs you posted
> it looks like this is the case) then it seems like GTK3 is somehow
> filtering the events coming from the X server and ignoring the ones
> from AutoKey. You can test this theory by changing the phrase to use
> "Paste via clipboard" instead of "Paste via keyboard". Another good
> test would be to create a script that sends a key using
> keyboard.fake_keypress() and see if that produces any output in the
> problem programs.
>
> Chris
</pre>
Thanks for the suggestions.

I created a phrase and tried two paste via clipboard options that were applicable (shift+insert, ctrl+v). they both produced the expected outcome when applied to the gtk2 applications and failed with the gtk3 applications.

I created a script with the contents:

keyboard.fake_keypress("<enter>",5)

this worked in the gtk2 apps as well as the gtk3 apps.  Progress!

Brent.

<h3><font color="#FF4500">Chris D said…</font></h3>

May 17, 2011.

I'm afraid that is not progress.  The fake_keypress() function works using the XTest extension of X.org.  Ask any X developer and they will tell you that this extension is for testing only, not for normal day~to-day use.  When I first started developing AutoKey I spent many hours working out the X event system so that I didn't need to use XTest any more.  It sounds like the GTK developers have decided to undo all that work for me…great.  I'm not sure where we will go from here.

<pre>
> On May 17, 11:50 am, Brent Russell Langille wrote:
</pre>
<h3><font color="#FF4500">Evan Edwards said…</font></h3>

May 17, 2011.

<pre>
On Tue, May 17, 2011 at 4:38 PM, Chris D wrote:
> It sounds like the GTK developers have decided to undo all that
> work for me…great. I'm not sure where we will go from here.
</pre>
Have you communicated with them?  It's plausable there's an easy fix (something like a GTK setting, or something like that).  It's also possible this is a Wayland migration issue.  I know X fairly well (mostly osmosis over the past couple decades), GTK a little, but I know nothing about Wayland, so I'm speculating wildly.

—Evan Edwards.

<h3><font color="#FF4500">Chris D said…</font></h3>

May 18, 2011.

Hmm…it seems unlikely to be a Wayland issue.  But it might be worth posting a message about this to the appropriate GTK-related mailing list:

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: how to prevent focus stealing</font></h1>

3 posts by 2 authors.

<h3><font color="#FF4500">cedardoc said…</font></h3>

May 12, 2011.

I have this script to get input for a google search that launches firefox in the background (or I want it to be in the background) while the user inputs text for the search, but in the middle of typing, the browser window comes up and steals focus.  The wmctrl thing is supposed to prevent that, but it doesn't seem to work (I also can't get compiz window rules to do it for me).  I know I could just be patient and launch firefox after the dialog, but I just want to get this to work (because I'll actually very impatient :).

<pre>
    import subprocess
    subprocess.Popen("firefox")
    retCode, gitem = dialog.input_dialog("search the web with
Firefox", "What would you like to search for?")
    system.exec_command("wmctrl -Fa 'search the web with Firefox'",
False)
    window.wait_for_exist(".`*`Firefox.`*`", timeOut=10)
    window.activate("Firefox", switchDesktop=False)
    keyboard.send_keys("<ctrl>+j")
    time.sleep(0.1)
    keyboard.send_keys(gitem)
    time.sleep(0.5)
    keyboard.send_keys("<enter>")
</pre>
I'v also tried it with the wmctrl line before the input line.

Is there a way to keep the input dialog in focus until a button on it (okay or cancel) is clicked?

Thanks.  Dave.

<h3><font color="#FF4500">Chris D said…</font></h3>

May 12, 2011.

Why not just start firefox after getting the search input?  The focus stealing is controlled by the window manager, you can't control that unless you change the window manager settings (and that seems to not work as you have indicated).

<h3><font color="#FF4500">cedardoc said…</font></h3>

May 12, 2011.

you're right of course - I was just wondering if there was a way to control the focus from within the python script.

Thanks   <br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Question on copying settings to another computer</font></h1>


3 posts by 2 authors.

<h3><font color="#FF4500">Jeff Needle said…</font></h3>

May 7, 2011.

I want to transfer all of my autokey settings to another computer.  I've installed autokey to the other computer.  How do I transfer my phrases and scripts to the other computer?  I use Linux Mint 9.

Thanks.

<h3><font color="#FF4500">Luke Faraone said…</font></h3>

May 7, 2011.

From the FAQ at <tt>http://code.google.com/p/autokey/wiki/FAQ:</tt>  "Where is my configuration information stored?  Can I move those to other machines?"

This information is stored in the user's home directory under the folder .config/autokey/autokey.json

—Luke Faraone.

<h3><font color="#FF4500">Jeff Needle said…</font></h3>

May 7, 2011.

Thank you.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Suggestion regarding Paste using clipboard</font></h1>

3 posts by 2 authors.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

May 3, 2011.

As it works now, it seems like the phrase is just copied into the clipboard and then pasted from there to wherever you type.  That means that whatever was there before is erased.  Wouldn't it be possible to solve this somehow?  I figure something like this:

The user types something that match one of his (or her) phrases.  Save the current clipboard contents somehow, somewhere.  Copy the phrase to the clipboard.  Paste the clipboard to wherever the user is typing.  Load the old clipboard contents back to the clipboard again.

I would really find this useful, maybe I'm not alone?  Would this make it all much slower?  If so, would it still be fast enough?

Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">Chris D said…</font></h3>

May 3, 2011.

This has been raised previously as an enhancement request.  It is relatively simple to do in theory, however because clipboard access is asynchronous in both the KDE and GTK versions, this means solving some thread safety issues making it more than a trivial amount of work.  It's definitely on the list to get done eventually.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

May 4, 2011.

Okay, sorry for not researching before posting.  Well, then I guess I am just one more that wants this feature. :)

Kind Regards.

Johnny Rosenberg.

2011/5/3 Chris D:

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Autokey email phrase problem</font></h1>

7 posts by 4 authors.

<h3><font color="#FF4500">Nikolay Georgiev said…</font></h3>

May 1, 2011.

Hello.

I created a phrase mpem (my personal email) which should translate into "myn…@server.com".

But when I press mpem I get only "mynameserver.com", without the @ symbol.

Do you know how can I autocomplete my email?

Greetings.  Nikolay.

<h3><font color="#FF4500">Kev said…</font></h3>

May 2, 2011.

Check your phrase to see if you have @ symbol.  I use shortcut eml all the time with no problems   <h3><font color="#FF4500">GrouchyGaijin said…</font></h3>


May 2, 2011.

Are you switching keyboard layouts?  My address drops the letter Ã¤ unless I switch the keyboard prior to launching autokey.

John.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

May 2, 2011.

2011/5/2 Nikolay Georgiev:

<pre>
> Hello.
>
> I created a phrase mpem (my personal email) which should translate
> into "myn…@server.com".
>
> But when I press mpem I get only "mynameserver.com", without the @
> symbol.
</pre>
I have the same problem.  It was solved by selecting "Paste using Clipboard (Ctrl+V)" rather than "Paste using keyboard".  That method also solved my issues when using Japanese characters and other "special characters".

Regards.

Johnny Rosenberg.

<pre>
> Do you know how can I autocomplete my email?
>
> Greetings.
> Nikolay.
</pre>
<h3><font color="#FF4500">GrouchyGaijin said…</font></h3>

May 2, 2011.

Johnny.

THANK YOU.

I didn't think of using Ctrl+V rather than the keyboard.  Now the Ã¤ in my address shows up AND I can paste in Japanese too.

John Niendorf.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

May 2, 2011.

2011/5/2 John Niendorf:

<pre>
> Johnny.
> THANK YOU.
> I didn't think of using Ctrl+V rather than the keyboard.
> Now the Ã¤ in my address shows up AND I can paste in Japanese too.
> John Niendorf.
</pre>
Ã¥Ã¤Ã¶Ã…Ã„Ã– works for me no matter what method I use.  The downside with the Ctrl+v method is that if you had something else in your clipboard, it will be replaced by that phrase.  A problem that probably can be solved by using some clipboard program like glipper or similar, I presume.

Regards.

Johnny Rosenberg.

<pre>> On Mon, May 2, 2011 at 4:51 PM, Johnny Rosenberg wrote:
>>
>> 2011/5/2 Nikolay Georgiev:
>> > Hello.
>> >
>> > I created a phrase mpem (my personal email) which should translate
>> > into "myn…@server.com".
>> >
>> > But when I press mpem I get only "mynameserver.com", without the @
>> > symbol.
>>
>> I have the same problem. It was solved by selecting "Paste using
>> Clipboard (Ctrl+V)" rather than "Paste using keyboard". That method
>> also solved my issues when using Japanese characters and other
>> "special characters".
>>
>> Regards.
>>
>> Johnny Rosenberg
>>
>>
>> > Do you know how can I autocomplete my email?
>> >
>> > Greetings.
>> > Nikolay.
</pre>
<h3><font color="#FF4500">Nikolay Georgiev said…</font></h3>

May 2, 2011.

Johnny.

"Paste using Clipboard (Ctrl+V)" works!  Thank you very much!

Nikolay.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: autokey keypress script</font></h1>

4 posts by 2 authors.

<h3><font color="#FF4500">John said…</font></h3>

Apr 23, 2011.

I am trying to create a script for use with minecraft but I have no knowledge of programming. what I am trying to get the script to do is press the "," key down but not release it.  I found keyboard.send_key(key, repeat=1) but I do not want it to repeat and I am not sure how to modify it.  I use a devorak keyboard so the forward key in the game is set to "," instead of "w" , since the game has no autorun feature I was hoping to accomplish this with autokey.  Can anyone help? (I have begun trying to learn python but I just started so hopefully soon I will be able to do this sort of thing on my own soon)

<h3><font color="#FF4500">Chris D said…</font></h3>

Apr 25, 2011.

If you look at the API documentation here:

<tt>http://autokey.googlecode.com/svn/trunk/doc/scripting/index.html</tt>  you will see that there is a keyboard.press_key() and keyboard.release_key() which does what you want.

<h3><font color="#FF4500">John said…</font></h3>

Apr 26, 2011.

wierd the page I was looking at that I had followed links to (<tt>http://autokey.sourceforge.net/apidoc/frames.html</tt>) only showed send_keys, send_key, and fake_keypress . thank you for the link that helped a lot   <h3><font color="#FF4500">Chris D said…</font></h3>


Apr 26, 2011.

Can you tell me where you followed this link from?  Unless it was from a search engine or another forum, I'll need to update the link.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Another Date Script Question</font></h1>

3 posts by 3 authors.

<h3><font color="#FF4500">GrouchyGaijin said…</font></h3>

Apr 26, 2011.

I think I saw this go by once on this list, but I must have deleted that message.  Is there a way to get the insert current date script to just insert the date and omit the time?

Thank you.

John.

<h3><font color="#FF4500">Evan Edwards said…</font></h3>

Apr 26, 2011.

<pre>
On Tue, Apr 26, 2011 at 2:02 PM, John Niendorf wrote:
> Is there a way to get the insert current date script to just insert the date
> and omit the time?
</pre>
Assuming you mean the sample one packaged with my Autokey, just change the date command.  You can use "man date" on the command line to get the options, but here's a cheatsheet:

<pre>
date '+%Y'
  inserts 2011


date '+%Y-%m-%d'
  inserts 2011-04-26

date '+%-m/%-d'
  inserts 4/26 (the minus means "no leading zero")
</pre>
There are a huge number of tokens available, from %A (Full day of week, aka "Tuesday") to %Z (which prints your time zone, "CDT" for me).  You can change case, pad with zeros or spaces and more.

Also see: <tt>http://unixhelp.ed.ac.uk/CGI/man-cgi?date</tt>.

—Evan Edwards.

<h3><font color="#FF4500">Chris D said…</font></h3>

Apr 26, 2011.

Furthermore, you can search the group's history for past posts on any topic you want by going to the group page at groups.google.com   <br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Insertion point</font></h1>


7 posts by 3 authors.

<h3><font color="#FF4500">LoriQuaid said…</font></h3>

Apr 8, 2011.

I am hoping to use Autokey to construct HTML tags when blogging.  I have been able to do something similar while using the Snippets Tool in gedit.  While constructing the snippet I use $0, $1, $2, etc to indicate the positions where I want to advance the insertion point through the snippet.  Once the snippet is constructed and I'm using it, I advance to these pre-defined points by tabbing from one insertion point to the next, and my final tab advances the insertion point just beyond the closing tag.

Is there anyway of doing this using Autokey abbreviations?

Kev said…id:

Apr 9, 2011.

I use a script in autokey and a small python script to do this.  Once you type keyword tags are displayed with cursor inside tags ready.

Can supply them if it would help   <h3><font color="#FF4500">keith said…</font></h3>


Apr 9, 2011.

Hi Lori  I have been doing HTML conversion on multi-megabyte files for years—so most of my experience and the tools I built relate to large files.

I use Kate as an editor because of its regular expression capabilities.  I use KDE3.5 because Kate's regular expression feature is STILL broken in KDE4.  The Autokey "HotKey" phrases that I created to insert HTML tags when editing small text files are written for Kate—but it should not be that hard to convert them to abbreviations for use with gedit—if you wanted to do that.

Since I have never used gedit's Snippets Tool your explanation didn't help me understand exactly how you are using it or how your work flow goes.

I occasionally do edit small files and I created about 15 phrases for the most common HTML tags  you use when writing or converting a small file.  Most of the time though I use the markup language (whose tags are inserted with Autokey) that I mentioned below and a script to covert the text file directly to a standalone HTML file which is not needed in a blog situation..

My "small file" HotKey phrases do things like: insert single tags at the cursor point, Insert tag pairs around a word, inert tag pairs around a line, delete to end or beginning of line from cursor and even do things like use one of my extra mouse buttons for an enter key.  They do not use Python scripts they instead use the commands that are a part of the editor, making it easier to rapidly change them when needed.

I also created a simple markup language that is used with a script I wrote to automatically convert and repair a really screwed-up OCR'ed text files into a "readable" HTML file that uses CSS for the formatting.  A small to medium sized text file only takes a minute or so until you have a finished HTML file.

If any of this is of any interest (or help) to you please give some more details on what you are trying to do "to the text" and I will tell you what I have that may help.

Keith.

<h3><font color="#FF4500">LoriQuaid said…</font></h3>

Apr 12, 2011.

Keith.

The anchor element is defined in gedit's Snippets like this:

<pre>
<a href="$1">$2</a>$0
</pre>

When editing an HTML file, I activate this Snippet by typing the letter "a" followed by a tab.  As soon as I do this, the following text appears in the editor. <a href=""></a> The insertion point is initially between the double quotes (i.e. at the $1 placeholder), waiting for the URL.  After typing or pasting in the URL, when I press tab again, the insertion point advances to the point between the opening and closing tags (i.e., the $2 placeholder).  So next I type the text that I want displayed for this link.  After typing that, one more tab advances me to the point beyond the anchor element.  It is very slick and easy to use without ever touching a mouse.

As to workflow (heh, heh, heh…it seems funny to use the word "work" in reference to my blogging),  I can use site-supplied buttons to enter markup on my articles, which is okay, but I'd rather be able to enter them from the keyboard the way I do when using gedit's Snippets, rather than using the mouse to click on buttons.  However when exchanging comments with friends at the same site, we are also allowed to enter HTML or BBcode, but the site provides no tools to support this.  So I was thinking, wouldn't it be nice to have Snippet-like functionality inside my browser so I could easily type HTML tags into the text input areas of any site?

However with my limited understanding of Autokey, I can create an abbreviation that will enter something like the following: <a href=""></a> But the insertion point will be after the closing tag.  So I have to use my mouse or arrow key to move the insertion point between the double quotes, then do the same again to move the insertion point between the tags, and once again to get beyond the closing tag of the anchor element.  So if there was someway I could trigger moves from one point to the next without manually positioning the cursor at the desired spot, that would be nice.

If I understand you correctly, you are using commands specific to the Kate editor and not autokey to enter the tags?  That would mean that I'd have to enter my text in the editor, then copy and paste it into my browser.  However I am hoping to just type my text directly into any browser or any editor that I have installed on my system and have the same triggers insert the tags.

I also have an iPad, and recently I've purchased an app called Textexpander that lets me  trigger tag insertion.  I would love to define the same trigger/actions to work across platforms so no matter where I was I could easily construct richly formatted text.  So in my imagination, I'm using Textexpander on the iPad and autokey on my laptop running Ubuntu, but they are behaving the same way when I'm trying to format text with HTML or BBcode.

Lori   <h3><font color="#FF4500">LoriQuaid said…</font></h3>


Apr 12, 2011.

Kev.

I would be very interested in trying out your script.  I haven't used Google Groups much, so I'm not sure how you go about sharing a script.  Do you just post it to this thread?

Lori  Kev said…id:

Apr 13, 2011.

Hi Lori.

My script in autokey looks like this:

<pre>
import autotag

tag= autotag.auto_tag("[code]", "[/code]", 0)
keyboard.send_keys(tag[0])
keyboard.send_key("<left>", [1])
</pre>
Simply change the [code] tags to what you want and set up shortcut.:

And autotag.py script is:

<pre>
#! /usr/bin/python

def auto_tag(Start_text, End_text, Extra_left):
     if Extra_left:
         Start_text = Start_text + "\n\n\n\n"
     autotag_string=Start_text + End_text
     End_text_len = len(End_text) + Extra_left
     return autotag_string, End_text_len
</pre>
autotag.py needs to be executable and in your systems path:

Hope it helps.

Kev.

<pre>
On 12/04/11 22:23, LoriQuaid wrote:
> Kev.
>
> I would be very interested in trying out your script. I haven't used
> Google Groups much, so I'm not sure how you go about sharing a script.
> Do you just post it to this thread?
>
> Lori
</pre>
<h3><font color="#FF4500">keith said…</font></h3>

Apr 13, 2011.

Lori  Very clear explanation.  The snippet feature of gedit and its ability to tab to $1, $2, etc. is pretty neat and I don't think Kate has that in it's snippet featrue…but I'm going to check ASAP.

You might try this with Autokey to get the same ability (though not as slick).

Setup Autokey to insert this: <a href="">$</a>$  AND to insert enough left arrows (8) to position the cursor between the double quotes.  IF your editor or text box search program has a "start search at cursor" feature and IF it maintains the search text for multiple searches using a "search again" hotkey (F3 in most caes) then all you have to do is search for $ once and use the "search again" key to hop to the next $ in the text.

That would allow you to immediately type the link, press F3 and immediately start typing the link text since most search results are highlighted and are erased if you start typing.  Normally you would just have to start the search for $ once and then F3 would do for the rest of your blogging session.

RE:  If I understand you correctly, you are using commands specific to the Kate editor.

Yes but…I use mostly universal key commands like <end>, <home>, <ctrl>+<left>, etc…to position and where I don't, quite often text boxes (where you type in your blog text) have the same abilities they just use a different keyboard command to do it.  That means that you could look at what I did in Autokey and then check what commands work in your text box and modify those of mine that don't work for your editor or text box.

An example.  I want to create this:  <tt>XXXXXX</tt> using a hot key right after I finish typing "XXXXXX".

I would use this in the Autokey's "Enter phrase contents" text box:

</tt><ctrl>+<left><ctrl>+<left><ctrl>+<left><ctrl>+<left><tt><end>
<ctrl>+<left> is the command to move one word left.  The reason there are four of these is because </tt> looks like 3 words to Kate (and most other editors).

The above phrase says: insert </tt>, go to the front of the previous word, insert <tt> and then go to the end of the line where I press the spacebar and start typing again.

You can do the same thing with <end> and <home> to place tags around an entire line.  The only thing I have found in Autokey that is a bit tricky is using copy and paste from inside a script.  Often to get it to work correctly you have to use a script instead of a phrase containing commands:

Hope this helps.

Keith.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: dialog.list_menu window size</font></h1>

3 posts by 2 authors.

<h3><font color="#FF4500">Joon said…</font></h3>

Mar 22, 2011.

Hi.

Is it possible to change dialog.list_menu window size?  Now it is too small and it would be great if there is a way to set the size in the autokey script.

Best.  Joon   <h3><font color="#FF4500">Chris D said…</font></h3>


Mar 24, 2011.

At the moment there is no way to set it from the script, but it could be added fairly easily - if you like, log an issue on the tracker so I remember to do it :)

<h3><font color="#FF4500">Joon said…</font></h3>

Mar 25, 2011.

Just did.  Thanks!

-Joon   <br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: run without installing</font></h1>


3 posts by 2 authors.

<h3><font color="#FF4500">Mindlord said…</font></h3>

Mar 16, 2011.

Is it possible to run this without installing it.  I'm hoping to use this on an OpenPandora Handheld which runs Angstrom Linux.  GTK and Python are fully supported in the Base OS, and the dependencies are met already.

While I could build it into an IPK and install it in that manner.  The OpenPandora also uses an installerless package format called PND that uses a loopback filesystem to mount the package contents and provide them with a home to store data.  The reason is there is very little onboard storage left after in OS is installed.

If IPK is the only option, I can deal, but it would limit those who would use it.  I still want to add the IPK to the Angstrom repo, but a PND would be preferable in my circumstance.

<h3><font color="#FF4500">Chris D said…</font></h3>

Mar 17, 2011.

It is certainly possible to run without installing.  You'd have to appropriately structure the folders to do that but the Debian build already does something similar so it's definitely doable.  The program relies on the contents of the ./src/lib folder being present in the Python path inside a folder named 'autokey'.  Once you do that, you should be ready to go.

<h3><font color="#FF4500">Mindlord said…</font></h3>

Mar 17, 2011.

Sounds really doable.  I'll begin with the mad science as soon as possible.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: sorting grocery list</font></h1>

8 posts by 3 authors.

<h3><font color="#FF4500">cedardoc said…</font></h3>

Mar 12, 2011.

I've been searching for how to do a simple line sort in python to sort lines of text and can't find anything that doesn't involve converting the block of text into a comma separated list, sorting, and then converting it back.

The closest thing I got is this:

<pre>
keyboard.send_keys("<ctrl>+c")
contents=clipboard.get_selection()
contents.sort()
clipboard.fill_clipboard(contents)
keyboard.send_keys("<ctrl>+v")
</pre>
Bbut that gives this error:

<pre>
Traceback (most recent call last):
  File "/usr/lib/python2.6/dist-packages/autokey/service.py", line
403, in execute
    exec script.code in self.scope
  File "<string>", line 3, in <module>
AttributeError: 'unicode' object has no attribute 'sort'
</pre>
I realize this is not technically an autokey problem, but I'd think a functioning sort script would be a nice asset for other amateurs who like using autokey like me.  Can any of you see a simple solution for this please?

Thanks.  Dave.

<h3><font color="#FF4500">Chris D said…</font></h3>

Mar 13, 2011.

What format is the text in the selection?  What your code is trying to do is sorting a text string, which you can't do in Python.  You must first convert the text into a list object which can then be sorted.

<h3><font color="#FF4500">cedardoc said…</font></h3>

Mar 13, 2011.

"What format is the text in the selection?"  The format is just lines of text in a text editor (gedit)

"sorting a text string, which you can't do in Python."  I was afraid of that.

"You must first convert the text into a list object which can then be sorted."  Sounds complicated - I'll maybe see if I can do it in a bash script and just launch that script to do it - I just thought if it could easily be done in python it might be a faster script.  In any even, I'll post back here if I figure it out.

Thanks   <h3><font color="#FF4500">cedardoc said…</font></h3>


Mar 13, 2011.

Okay, I got it working (a little slow, however)

<pre>
keyboard.send_keys("<ctrl>+c")
contents2=[]
contents=clipboard.get_selection()
fullpath = "/home/david/temp.txt"
fullpath2 = "/home/david/temp2.txt"
tempTxt = open( fullpath, "w")
tempTxt.write(contents)
tempTxt.close()
command =  "sort /home/david/temp.txt > /home/david/temp2.txt"
system.exec_command(command, False)
f = open(fullpath2, 'r')
contents2= f.read()
f.close()
clipboard.fill_clipboard(contents2)
time.sleep(1)
keyboard.send_keys("<ctrl>+v")
</pre>
Dave.

<h3><font color="#FF4500">Chris D said…</font></h3>

Mar 14, 2011.

It is in fact much quicker and easier to do in Python.  All that is needed is to split the string on newlines, which Python will do very simply without any special operations:

<pre>
contentsList = contents.split()
contentsList.sort()
contents = contentsList.join('\n')
</pre>
Also, you don't need a control+C if you are using get_selection(), as the selected text is already in the X selection.

<h3><font color="#FF4500">cedardoc said…</font></h3>

Mar 15, 2011.

Thank you for your reply.

Here's what I tried next:

<pre>
#keyboard.send_keys("<ctrl>+c")
contents=clipboard.get_selection()
contentsList = contents.split()
contentsList.sort()
contents = contentsList.join('\n')
clipboard.fill_clipboard(contents)
keyboard.send_keys("<ctrl>+v")
</pre>
And the error I'm getting is this:

<pre>
Traceback (most recent call last):
  File "/usr/lib/python2.6/dist-packages/autokey/service.py", line
403, in execute
    exec script.code in self.scope
  File "<string>", line 5, in <module>
AttributeError: 'list' object has no attribute 'join'
</pre>
I thought maybe the "List" in contentsList.sort() was doing that so I changed the name of the variable, but that didn't work either  Then I tried this after googling around a bit:

<pre>
contents = '\n'.join(contentsList)
</pre>
and that worked! yay  Thanks for putting me on the right track!

<h3><font color="#FF4500">B said…</font></h3>

Mar 15, 2011.

Also note that  str.split() splits any whitespace, so if your lines have spaces in them, those will be split.

If you want to preserve spaces and only split on lines, use string.split('\n')

<h3><font color="#FF4500">cedardoc said…</font></h3>

Mar 15, 2011.

addendum:

If you want it to split according to the text lines instead of each single word you have to change this:

<pre>
contentsList = contents.split()
</pre>
into this:

<pre>
 contentsList = contents.split('\n')
</pre>
<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: window.get_active_geometry() yields None</font></h1>
 2 posts by 1 author
<h3><font color="#FF4500">Joon said…</font></h3>

Mar 15, 2011.

Hi.

I'm trying to using window.get_active_geometry(), but nothing happens.

When I have the following as the script:

<pre>
test = window.get_active_geometry()
system.create_file('/home/joon/tmp/autokey.log', contents=test)
</pre>
The generated autokey.log contains nothing.

Thank you.  Joon   <h3><font color="#FF4500">Joon said…</font></h3>


Mar 15, 2011.

Sorry, it was my mistake .. should have had contents=str(test) :)

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: How can trigger the script when just press HotKey?</font></h1>

3 posts by 2 authors.

<h3><font color="#FF4500">tyazu said…</font></h3>

Mar 12, 2011.

Hi all.

I've just started to using AutoKey.

I want to use following HotKeys as functions of cursor keys.(like vi).

<pre>
 - <ctrl>+h  ->  keyboard.send_keys("<left>")
 - <ctrl>+j  ->  keyboard.send_keys("<up>")
 - <ctrl>+k  ->  keyboard.send_keys("<down>")
 - <ctrl>+l  ->  keyboard.send_keys("<right>")
</pre>
These setting are almost running but have one problem.

I want to trigger the script when just key press <ctrl>+h.  Now, these are triggered when <ctrl> key released as below.

<pre>
 1. press <ctrl>
 2. press h          <- want to trigger script
 3. release h
 4. release <ctrl> <- triggerd script
</pre>
Can I trigger the script at the timing 2. ?

Thanks. tyazu   <h3><font color="#FF4500">Chris D said…</font></h3>


Mar 13, 2011.

No that would be impossible.  AutoKey is written this way so that you don't get keypresses being sent while you still have keys pressed by the user as this would create unpredictable effects.

<h3><font color="#FF4500">tyazu said…</font></h3>

Mar 13, 2011.

Hi Chris.

Thanks reply.  I understand the features.

Sincerely. tyazu   <br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: how to open configuration window from terminal</font></h1>


3 posts by 2 authors.

<h3><font color="#FF4500">cedardoc said…</font></h3>

Feb 23, 2011.

Hi, I have autokey set up on a linux machine that doesn't show any icons, and for some reason I must have turned off the ctrl-k option to open the configuration window.

Is there any way to open it from a terminal?  That way I could just make a launcher and put it on the desktop.  I tried autokey-gtk~config,  but that didn't work.

Thanks.  Dave.

<h3><font color="#FF4500">BenjamÃ­n AlbiÃ±ana said…</font></h3>

Feb 23, 2011.

<pre>
> Is there any way to open it from a terminal?  That way I could just
> make a launcher and put it on the desktop.  I tried autokey-gtk-
> config,  but that didn't work.
</pre>
<pre>
~$ killall autokey && autokey-gtk -c
</pre>
Should do the trick.

—Signature: work in progress

<h3><font color="#FF4500">cedardoc said…</font></h3>


Feb 28, 2011.

thanks, I'll try that   <br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Highlight, copy, paste problem with script</font></h1>


7 posts by 3 authors.

<h3><font color="#FF4500">keith said…</font></h3>

Feb 1, 2011.

Hi  In a script,  I wanted to used this to highlight the text (Which it did—at least on the screen):

keyboard.send_key("<home>") keyboard.send_keys("<shift>+<end>")

then i wanted to use the snippet below to position and paste the contents of the clipboard.

text = clipboard.get_selection() keyboard.send_key("<end>") keyboard.send_key("<up>") keyboard.send_key("<enter>") keyboard.send_keys("%s" % text)

This did not work.  The text was highlighted but nothing else happened.

If I highlight the text with the mouse, the above clipboard.get_selection() snippet worked perfectly.

In testing the above clipboard.get_selection() snippet I found that you HAD TO re-highlight the text between every test of the script.  Even though the text may have remained highlighted on the screen after a test—the script would not work again until you cleared and re~highlighted the text.  It took me a while for that to sink it: `<grin>`

Does anyone have a clue about what I am doing wrong or does highlighting using the keyboard not work for clipboard.get_selection()

TIA

<h3><font color="#FF4500">Chris D said…</font></h3>

Feb 2, 2011.

Have you tried this in different applications?  It sounds to me like the application you are using has a buggy selection implementation.  The behaviour you are seeing cannot be caused by AutoKey as it is only passively reading the selection and not modifying it in any way.

<h3><font color="#FF4500">keith said…</font></h3>

Feb 4, 2011.

No I haven't tested that issue in any other program.

It very likely could be the program since the next day the computer froze up while using that program (kate under kde 4.5 in  Ubuntu 10.10) when I closed Ubuntu it went to a black screen and neither the power off button or reset button would work.  Wasn't hardware since I could boot off a CD and did a massive hardware test on the computer.  The computer never would boot again.  I did get all my files back thanks to a twice daily automatic backup system.

I am installing a new OS (Ubuntu 10.10 but running Trinity KDE 3.5) when I am finished transferring backup data and installing software I will test it again.

Thanks:

<h3><font color="#FF4500">keith said…</font></h3>

Feb 9, 2011.

Re-test of above problem in a new, clean install.

I tried this script out in my new system.

keyboard.send_key("<home>") keyboard.send_keys("<shift>+<end>") text = clipboard.get_selection() keyboard.send_key("<delete>") keyboard.send_keys("The text %s was here previously" % text)

I ran the script in Kate, nano (terminal program) and in kregexpeditor (a regex editor) and got the same results in all of them and the same as I got in my previous OS, Ubuntu 10.10.  The text is highlighted by the keyboard.send_keys("<shift>+<end>") call, but the "get.selection" call never got it. `<grin>`

Currently my OS is Ubuntu 10.10 running Trinity's fork of KDE 3.5.

This version of the script works if you highlight the text using the mouse or pressing the above Home Shift+End keys by hand:

text = clipboard.get_selection() keyboard.send_key("<delete>") keyboard.send_keys("The text %s was here previously" % text)

So the best I can tell, at least under Ubuntu 10.10, using:

keyboard.send_key("<home>") keyboard.send_keys("<shift>+<end>")

to highlight the text to be captured by "text = clipboard.get_selection()" doesn't work.

It acts like it is not placing the text in the clipboard but just holding it in memory.

If you DO NOT highlight any text when running the script, it paste the contents of your clipboard.

If after highlighting the text by hand and successfully running the script, you use Ctrl+V to paste the contents of the clipboard—what you get is whatever was in your clipboard before you ran the script—not what the script just pasted in.

I have no idea if that action is normal or not but I thought it was interesting.:

If anyone has the time to test this script to see if they get the same results I would appreciate it:

TIA

<h3><font color="#FF4500">Chris D said…</font></h3>

Feb 10, 2011.

I just tried it on Ubuntu 10.10…it works perfectly for me.

<h3><font color="#FF4500">keith said…</font></h3>

Feb 15, 2011.

Thanks Chris  Must be something I installed or setting I set somewhere.  Probably never figure it out.  `<grin>`

<h3><font color="#FF4500">Evan Edwards said…</font></h3>

Feb 15, 2011.

<pre>
On Thu, Feb 10, 2011 at 9:49 PM, Chris D wrote:
> I just tried it on Ubuntu 10.10…it works perfectly for me.
</pre>

Works in Kate in KDE4 under Kubuntu 10.10.  Also in KDevelop4.

—Evan Edwards.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: new script giving me error</font></h1>

6 posts by 3 authors.

<h3><font color="#FF4500">kuldeep said…</font></h3>

Feb 13, 2011.

hi all.

I install autokey and create new script for html start script which on expand just delete my abbreviation but wont appear my expand script on view script error i got this error    <pre>
Traceback (most recent call last):
  File "/usr/lib/python2.6/dist-packages/autokey/service.py", line 404, in execute     exec script.code in self.scope   File "<string>", line 1
    test more             ^
SyntaxError: unexpected EOF while parsing </pre>
i try to work default address script its working fine.  Please can anybody know where i am going wrong?

I am using Ubuntu 10.10. i install application from ubuntu application center. autokey version AutoKey (GTK UI) 0.71.0

Thanks.  Kuldeep.

<h3><font color="#FF4500">Chris D said…</font></h3>

Feb 13, 2011.

I'm not sure what you are wanting the script to do, but every line of the script must be valid Python code - what you have there ("test more") is not and that is why the interpreter is complaining.

<h3><font color="#FF4500">kuldeep rathore said…</font></h3>

Feb 14, 2011.

Its just contain simple string "test more", i dont know python, how to validate a simple string in python. but in address its simple multyline string and still working.

Thanks.  Kuldeep.

<h3><font color="#FF4500">Luke Faraone said…</font></h3>

Feb 14, 2011.

Strings in python must be quoted.  If they are multiline, you must triple-quote them, like this:

print """This text spans multiple lines. """

Thanks.  Luke Faraone.

Sent from my mobile device.

<h3><font color="#FF4500">kuldeep rathore said…</font></h3>

Feb 14, 2011.

i put quote to my string, now i dont get any error but still expand script not appear.

<h3><font color="#FF4500">kuldeep rathore said…</font></h3>

Feb 14, 2011.

I got it i have to create phrase but i was creating script. but anyways thanks for your help.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Installing Autokey on an older version of KDE</font></h1>
 1 post by 1 author
<h3><font color="#FF4500">keith said…</font></h3>

Feb 9, 2011.

I just installed Autokey on a KDE 3.5 system running on Ubuntu 10.10 and thought I would share my experiences.  (Share is the word people use when they are really only trying to be helpful but don't want to be responsible for your actions `<grin>`)

I wound up installing both versions, KDE and Gnome, and both times Autokey worked fine but the KDE install had some unpleasant side effects that had nothing to do with Autokey.

The first time I installed the KDE version based on QT (autokey-qt), I wasn't paying attention and didn't realize that it was going to install 108 other programs and files based on KDE4's OS.  The programs soprano, akonadi, kdepim, phonon, nepomuk, docbook, were the largest and akonadi and nepomuk really slowed down my computer.  I killed the daemons for some of the programs—and Autokey kept working fine—so I can't see how they were necessary.

Killing the daemons didn't speed my computer up though so I uninstalled the 108 files (one at a time since the uninstaller kept threatening to remove all of KDE3's desktop—every other time I tried to delete a file.  It was a sequencing problem.  I skipped those that threatened me and when I got to the end of the list I started over.  It took about 5 passes but finally it let me remove all of them without removing KDE3's desktop).

After that I had a drink and then installed the Gnome version (autokey~gtk).  That only required about 12 or so extra programs to be added.  When I tested it, Autokey's responses seemed faster and using other programs was much faster.  I have had no problems running the Gnome version of Autokey under KDE3 and it should work as well under KDE4.

If you are already running KDE4 then switching to the Gnome version is unlikely to make any noticeable difference but if you are running an older version of KDE it makes a huge difference.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Autokey freezing</font></h1>

3 posts by 2 authors.

<h3><font color="#FF4500">keith said…</font></h3>

Jan 20,  2011.

Several people have complained about Autokey suddenly not working and not knowing why.

I discovered that when I press Alt+b on the keyboard, Autokey quits working and I have to close and re-open Autokey to get it to work again.  Sometimes if I press Alt+b again (after I have previously restarted it to fix the above problems),  I have to turn off "enable expansions", then close Autokey and restart it to make it work.

I don't know if this is because I am using the Kate editor in KDE 4.5 (which has lots of bugs) or if it is a bug in Autokey.

I get the Kate error message:

<pre>
Ambiguous shortcut detected—Kate
The key sequence 'Alt+B' is ambiguous. Use 'Configure Shortcuts"
from the 'Settings' menu to solve the ambiguity.
No action will be triggered.
</pre>
Autokey's debug mode produced this response which was the same for all other Alt+ keystrokes:

<pre>
DEBUG - iomediator - <alt> pressed
DEBUG - service - Raw key: u'b', modifiers: ['<alt>'], Key: u'b'
DEBUG - service - No phrase/script matched hotkey
^[bDEBUG - iomediator - <alt> released
</pre>
I tried Alt+ 'all other alphanumeric keys' and Alt+b was the only one that caused a problem.  All other alphanumeric keys simply printed the literal character when nothing was defined for that key.

I have Super+b defined and often miss the Super key and press the Alt key instead.  That is why I noticed this problem.

If some of you that do not use KDE 4.0 (or higher) would would try Alt +b on your system we could perhaps tell if this was an Autokey or KDE 4 problem.

If it is a Autokey problem I would then file a bug report.

TIA

<h3><font color="#FF4500">Evan Edwards said…</font></h3>

Jan 20, 2011.

<pre>
On Thu, Jan 20, 2011 at 8:46 AM, keith wrote:
> I don't know if this is because I am using the Kate editor in KDE 4.5
> (which has lots of bugs) or if it is a bug in Autokey.
</pre>
I haven't noticed any particularly notable bugs in Kate (using 3.5.5 which is the default version with KDE 4.5.5).  Either way, this is not a bug, and it isn't actually Kate itself that is throwing the error (although it is a result of your settings in Kate, thus the dialog box title).  It's the KDE Shortcuts manager letting you know that you've got a conflict.

<pre>
>    Ambiguous shortcut detected—Kate
>    The key sequence 'Alt+B' is ambiguous. Use 'Configure Shortcuts"
> from the 'Settings' menu to solve the ambiguity.
>    No action will be triggered.
</pre>
This means exactly what it says.  You have two different keyboard shortcuts set up in KDE for the same keystroke.  In this case, it looks like you've set up two different actions for when you press Alt+B.  To resolve this, go to Settings -> Configure Shortcuts in Kate (or if it were a global conflict, System Settings -> Shortcuts and Gestures for the global keybindings), and type "Alt+B" into the Search: field.  You should see your two or more actions that have been set to Alt+B.  Remove one or more so it is unambiguous.  If there is only one, you're probably conflicting with a custom global keybinding.

Either way, Autokey operates above this level, so it's not related to Autokey whatsoever.  It is KDE notifying you that you have an ambiguous shortcut because you've assigned it twice.

—Evan Edwards.

<h3><font color="#FF4500">keith said…</font></h3>

Jan 20, 2011.

Hi Evan  Thanks for the response  You were correct… Kate uses Alt+b for the Bookmarks drop down menu and it was also assigned as a Kate shortcut for going to the next bookmark.  I must have set the last one my mistake.

I removed the shortcut and it no longer causes Autokey to stop working.

It is intresting that a conflict in Kate forces you to restart Autokey though.  Kate must block or change a setting/function when it gets that kind of error.

Re: bugs in Kate  This isn't a forum for that but…I am a heavy user of all Kate's features, plugins and extensions, especially regex with search and replace and sometimes have as many as 8 sessions and 40 files open at one time.  Most of the problems just slow you down compared to 'pre' KDE 4 but some are show stoppers for me (examples: you can't search for a blank line and regex searches work different going forward than backwards).  Most of my work involves converting large 1-10 meg 'damaged' plain text files into HTML pages and then customizing the HTML and CSS.  This used to take an hour or so, now it takes two to three times longer.

I've been researching the Trinity Project.  They have forked KDE 3.5 and use Ubuntu 10.10 for the platform (and some other distros as well).  As soon as get over the worst case of flu I have had in 20 years I am going to install their distro and solve my problem.

I may be old…but I have no problem learning something new—But—I have major problems unlearning techniques and commands I have used for 15 years….Trying to train my left hand to automatically do something that my right hand has done for many years doesn't seem to work anymore.:

Thanks again for your help.

If I hadn't been using Autokey I "probably" would have figured the problem out for myself….You know how it is—you always blame any problems on the newest toy…`<grin>`

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Special Keys</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">keith said…</font></h3>

12/20/10.

For those people who haven't found it yet, here is the link to the page that list ALL the "Special Keys".

<tt>http://code.google.com/p/autokey/wiki/SpecialKeys</tt>

These are what you use to simulate keys like Escape, Ctrl, Alt, etc. when you create a "Phrase" that requires keys other than alpha-numeric to be used in your phrase.

Most are obvious as to their usage, but the ones below are not.

These are the strings used to insert specific characters that have special meaning in Autokey scripts or phrases which prevents you from using them directly from the keyboard:

<pre>
 <np_add>         This inserts a  +  symbol
 <np_divide>      This inserts a  /  symbol
 <np_multiply>   This inserts a  `*`  symbol
 <np_subtract>  This inserts a  -  symbol
</pre>
The above have no matching string like <add>, <divide>, etc… But the ones below do have matching strings less the "np_".

The "np_" prefix I assume indicates that these are "different" somehow from the other strings like <delete>, <end>, <page_up>, etc:

But when testing them in Autokey I could not find any difference in the output of the ones below versus the strings without "np_" when used in Autokey phrases.

<pre>
 <np_delete>
 <np_down>
 <np_end>
 <np_home>
 <np_insert>
 <np_left>
 <np_page_down>
 <np_page_up>
 <np_right>
 <np_up>
</pre>
Does anyone know what is "different" about these versus the ones that do not have the prefix "np_"

TIA:

<h3><font color="#FF4500">Chris D said…</font></h3>

12/21/10.

The symbols with 'np_' prefixed represent the keysyms from the number pad portion of the keyboard.  They are not functionally different in terms of outputting text but can potentially be used to create hotkeys that don't affect the keys on the main part of the keyboard (e.g. the numbers).

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Inserting date</font></h1>

31 posts by 7 authors.

<h3><font color="#FF4500">Jeff Needle said…</font></h3>

12/15/10.

Some of you may remember my travails with autokey inserting the date in its proper format.  I'm really frustrated.  Please forgive me.

I have the following as my script:

<pre>
import datetime

output = datetime.now().strftime("%m/%d/%Y")
keyboard.send_keys(output)
</pre>
I'm guessing I'm being an idiot and I don't have the script written correctly.  When I trigger the macro, I get a few blank spaces, and that's all.

Can someone please advise me how to fix this?  Thanks so much!

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

12/15/10.

Den 2010-12-15 09:12:03 skrev Jeff Needle:

This works for me:

<pre>
output = system.exec_command("date +%F")
keyboard.send_keys(output)
</pre>
In your case (since you want another format):

<pre>
output = system.exec_command("date +%m/%d/%Y")
keyboard.send_keys(output)
</pre>
Is there a special reason for not doing it this way?—Kind Regards.

Johnny Rosenberg.

2010-12-15.

<h3><font color="#FF4500">Jeff Needle said…</font></h3>

12/15/10.

I want to be able to insert the current date in the format as given in the system.exec_command entry.  I do a lot of inserting the current date in various database programs and in other apps, and I need that particular format.

I've duplicated the entry exactly as you have it above (the second format) and I still get nothing except a few blank spaces echoing back.

I'm really puzzled.

Thanks.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

12/15/10.

Den 2010-12-15 19:20:39 skrev Jeffrey Needle:

<pre>
> On Wed, 2010-12-15 at 16:52 +0100, Johnny Rosenberg wrote:
>> Den 2010-12-15 09:12:03 skrev Jeff Needle:
>>
>> > Some of you may remember my travails with autokey inserting the date
>> > in its proper format.  I'm really frustrated.  Please forgive me.
>> >
>> > I have the following as my script:
>> >
>> > import datetime
>> >
>> > output = datetime.now().strftime("%m/%d/%Y")
>> > keyboard.send_keys(output)
>> >
>> > I'm guessing I'm being an idiot and I don't have the script written
>> > correctly. When I trigger the macro, I get a few blank spaces, and
>> > that's all.
>> >
>> > Can someone please advise me how to fix this?  Thanks so much!
>>
>> This works for me:
>> output = system.exec_command("date +%F")
>> keyboard.send_keys(output)
>>
>>
>> In your case (since you want another format):
>> output = system.exec_command("date +%m/%d/%Y")
>> keyboard.send_keys(output)
>>
>>
>> Is there a special reason for not doing it this way?
>
> I want to be able to insert the current date in the format as given in
> the system.exec_command entry.  I do a lot of inserting the current date
> in various database programs and in other apps, and I need that
> particular format.
</pre>
Isn't that what my second script do?  I am not sure I understand; I probably don't.  Can you give me some examples?

<pre>
> I've duplicated the entry exactly as you have it above (the second
> format) and I still get nothing except a few blank spaces echoing back.
>
> I'm really puzzled.
>
> Thanks.
>
>
</pre>
That's strange.  When I tried your script it failed, but not exactly the way it failed for you.  There were no blanks, there were just nothing at all.  The abbreviation disappeared, that's all.

—Kind Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">Jeff Needle said…</font></h3>

12/15/10.

<pre>
> > I've duplicated the entry exactly as you have it above (the second
> > format) and I still get nothing except a few blank spaces echoing back.
> >
> > I'm really puzzled.
> >
> > Thanks.
> >
> >
>
> That's strange. When I tried your script it failed, but not exactly the
> way it failed for you. There were no blanks, there were just nothing at
> all. The abbreviation disappeared, that's all.
>
</pre>
The cursor moves to the right and leaves a blank space where the date should be.  So we're getting just about the same thing.

If it failed for you, too, then I'm guessing this is a bug in autokey.  I wonder if there is another keyboard macro program for Linux that will do the same job as autokey.  Autokey is really nice; I'm hoping this can be fixed soon.

Thanks again.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

12/15/10.

Den 2010-12-15 19:58:23 skrev Jeffrey Needle:

I would like to see some kind of a simple text expansion tool built into Gnome and other desktop environments somehow.  We already have the compose key and the unicode combination (the Ctrl+Shift+u thing) and we can define our own keyboard layouts, so why not text expansion?

But unfortunately I think AutoKey is the only option, at least I didn't find anything else after searching for a couple of years.  When I used Windows, before summer 2007, I used a tool called AllChars, which emulates the Unix compose key AND had some simple text expansion possibilities, so when I switched to Ubuntu in 2007 I was quite disappointed that I couldn't get the text expansion thing, until AutoKey showed up in my seach results, I am not sure when.

I like AutoKey, but it seems quite buggy on both my computers (which are very different from each other).  When I leave my computer on for a while, while doing something else, let's say for a couple of hours, Autokey stops working.  Restarting AutoKey works some times, but most often not.  I need to at least logout and log back in again.  Running in debug mode shows that nothing is happening, really.  I don't know if something in my system crashed, if some part of AutoKey crashed or if AutoKey crashed something in my system, and nobody couldn't help me debugging this so far, at least I didn't get any replies when I asked about it here.  Maybe people here think that all my questions starts to be somewhat annoying.  I am a beginner and may of my questions are maybe too stupid to be asked.

—Kind Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">Jeff Needle said…</font></h3>

12/15/10.

You're not alone.  The bugs in autokey can really be frustrating, and for someone like me, very new to all of this, it can make us wonder if `*`we're`*` doing something wrong.

Oh well.  Perhaps some day something will come along.  Thanks for the help and the discussion.

<h3><font color="#FF4500">adyeths said…</font></h3>

12/15/10.

If you change this line in your script from this:

<pre>
output = datetime.now().strftime("%m/%d/%Y")
</pre>
To this:

<pre>
output = datetime.datetime.now().strftime("%m/%d/%Y")
</pre>
it should work ok.

<h3><font color="#FF4500">keith said…</font></h3>

12/15/10.

Hi Johnny.

<pre>
>  Running in debug mode shows that
> nothing is happening, really. I don't know if something in my system
> crashed, if some part of AutoKey crashed or if AutoKey crashed something
> in my system, and nobody couldn't help me debugging this so far, at least
> I didn't get any replies when I asked about it here. Maybe people here
> think that all my questions starts to be somewhat annoying. I am a
> beginner and may of my questions are maybe too stupid to be asked.
</pre>
I'm trying to be helpful here.:

I've been reading and writing on forums since the late 70s and one thing I can say for sure is that if you are annoying anyone on any forum—they will tell you so in no uncertain terms.  Usually they will be mean, unpleasant, rude and obnoxious when they do so.  There will be no doubt in your mind that they are annoyed with you:

Do remember though, that although most people enjoy being helpful and derive pleasure from it—very few if any people enjoy it when someone demands that they help them and if you do so, you are lucky if they "only" ignore you.  `<grin>`

When people don't respond to your questions or pleas for help—here are the "probable" reasons why:

•  They don't understand what you are describing or want.  In other words they don't have a clue as to what your problem is, and do what everyone else usually does when they don't understand someone—i.e. ignore you.  I think it's called "not my problem".  If they find the problem interesting they "might" ask you for more information.

•  Given what you posted, there are far too many possibilities as to what could be causing the problem for anyone to even guess at the solution.

•  They  think they understand what you want but don't know the answer and don't see any reason to waste their time telling you they don't know.

•  They understand the problem, but there is no quick, "short and sweet"  answer and the solution requires you to do and understand things that they think are beyond your current skill level—given the way you described the problem.  At that point it becomes a "people" problem instead of a "computer" problem.  If because of how you wrote the post, they think you are only interested in a simple solution and are not interested in "understanding" the problem and fixing it yourself (which is the only thing that will fix this type of problem) then they will ignore you.

There are other reasons also but these are the main reasons I ignore post and I think it is similar for most people.  No one is forced to answer a post (except maybe poor Chris `<grin>`), they do it because they are interested in what you wrote and want to feel good by helping you.  If for any reason they don't like what you wrote, and think that they won't feel good if they help you—the chances of their answering it go way down.  So… If you want a response, pay a lot of attention to what details you give and how you define the problem as well as to how the post portrays your personality.  Likable people always get more help. `<grin>`

Just as an example… You have a problem and you only present the problem and ask how to solve it, then only people who understand the problem and know a quick solution are going to answer.  If you add something at the end like; "Can this be fixed?", "Is it possible to do this?" or "Are there solutions to this type of problem?" then you will probably get more replies to that than your request for a solution.  At least you then know your post are being read and that someone cares.

In your specific case with your date problem.  What you are trying to do is write a short program (script) in the Python language and run that script using a hot key or phrase from inside Autokey.  Autokey expects a working script—if the script is not correctly written then you either get unexpected output or no output.

When "nothing" happens in your debug output, usually…either the python script did not work or your hotkey or phrase did not trigger Autokey to run the script.  Actually the debug output (though not necessarily with an error message) "should" have given you enough info to let you determine that the hotkey did not activate or the script did not run.

If you do not know how to program in Python then you can only use scripts that someone else wrote and used in Autokey.

If you do know at least some Python, you should test the scripts using your Python interpreter to make sure you get the desired results before you try them in Autokey.  That will save you a lot of time and frustration.

What I would have done, if I had your problem and knew very little Python, would have been to ask if anyone had a script that inserted the date.  Then after I had tested that and made sure it worked on my computer, I would have asked how do you go about formating the date output in a "second" post.

Re: your Autokey stopping problem.  That could be a lot of different things.  First thing I would do is make sure I had the latest version of Autokey installed and that my OS was up to date.  Then if that did not fix it I would run memtest86 from a bootable CD which takes several hours usually to test your memory.  In situations where a program has memory  leaks, bad memory chips can give symptoms similar to yours.  I'm running Autokey AutoKey (GTK UI) 0.71.1 in Ubuntu 10.10 with a few KDE apps installed using an AMD 955 processor and I do not have any problems similar to yours.  My memory usage is 23-25MB no matter how long the computer has been running.

Right now I think Autokey is the best of its type, by far, for Linux… And I think it will be several years (at least) before that could change, given the lack of interest in developing the competing programs out there.

Good Luck:

—"I have always wished that my computer would be as easy to use as my telephone.  My wish has come true.  I no longer know how to use my cellphone."
—Bjarne Stroustrup

h3>Jeff Needle said…</font></h3>

12/16/10.

<pre>
> if you change this line in your script from this
>     output = datetime.now().strftime("%m/%d/%Y")
>
> to this
>     output = datetime.datetime.now().strftime("%m/%d/%Y")
>
> it should work ok.
</pre>
Changed it, it still doesn't work.  I still get a blank space instead of the date.

Thanks for the try.

<h3><font color="#FF4500">Jeff Needle said…</font></h3>

12/16/10.

<pre>
On Wed, 2010-12-15 at 16:02 -0800, keith wrote:
> Hi Johnny.
>
> >  Running in debug mode shows that
> > nothing is happening, really. I don't know if something in my system
> > crashed, if some part of AutoKey crashed or if AutoKey crashed something
> > in my system, and nobody couldn't help me debugging this so far, at least
> > I didn't get any replies when I asked about it here. Maybe people here
> > think that all my questions starts to be somewhat annoying. I am a
> > beginner and may of my questions are maybe too stupid to be asked.
>
> I'm trying to be helpful here.:
>
> I've been reading and writing on forums since the late 70s and one
> thing I can say for sure is that if you are annoying anyone on any
> forum—they will tell you so in no uncertain terms.  Usually they will
> be mean, unpleasant, rude and obnoxious when they do so.  There will
> be no doubt in your mind that they are annoyed with you:
>
</pre>
<snipping>

I fear there's been some confusion of posters.  I, Jeffrey Needle, am having the date problem.  Another poster is feeling that he is being annoying.

Not a big deal, just want to make sure the personalities stay clear `<grin>`.

<h3><font color="#FF4500">Chris D said…</font></h3>

12/16/10.

Jeffrey:

Are you sure you changed it to match exactly?  Did you check the error messages in the AutoKey menu afterwards to see if any problems had occurred in the script execution?  The advice you have been given will output the current date unless there is something seriously wrong with your AutoKey installation.  You can try putting datetime.datetime.now().strftime("%m/%d/%Y") into the python interpreter on the command line and you will see it correctly outputs the date.  In fact I see this advice has already been given in an earlier post in this thread.

Secondly, the format of the system date command (which is accessed via system.exec_command("date")) is not the same as the format for the python strftime method.  The correct formatting is detailed here (scroll about halfway down the page)

<tt>http://docs.python.org/library/time.html</tt>

Keith:

Thank you for your posting, it succinctly puts most my thoughts into writing.  One of the miracles of Python is that applications can run in many different environments, and this is also its biggest curse and a major source of bugs.  Memory leaks are incredibly difficult to track down, especially if only one out of hundreds of users is experiencing the issue.

Johnny:

As with all open source software, complaining on the support forum will not help if you have not logged the bug in the tracker.  If you have, thank you.  However, you must realise that I develop AutoKey in my spare time and have many other commitments (and to date, essentially no outside help from any other developers).  It is difficult to find time to resolve bugs, especially when they are as vague as some of the issues you have been having (which is not your fault), as this requires a considerable commitment of time.

I am committed to continuing support for AutoKey (as evidenced by my continued response to questions/problems in this forum), but usually these days I will only do a release if I feel a significant number of issues (or a critical issue) are outstanding needing to be resolved.

Having said all that, I am pleased that people find AutoKey useful, which is of course it's chief purpose for existence.  All I ask is that you keep in mind the significant and unique difficulties in developing this kind of software.

Kind regards.

Chris.

<h3><font color="#FF4500">Jeff Needle said…</font></h3>

12/16/10.

<pre>
On Wed, 2010-12-15 at 22:55 -0800, Chris D wrote:
> Jeffrey:
>
> Are you sure you changed it to match exactly? Did you check the error
> messages in the AutoKey menu afterwards to see if any problems had
> occurred in the script execution? The advice you have been given will
> output the current date unless there is something seriously wrong with
> your AutoKey installation. You can try putting
> datetime.datetime.now().strftime("%m/%d/%Y") into the python
> interpreter on the command line and you will see it correctly outputs
> the date. In fact I see this advice has already been given in an
> earlier post in this thread.
>
> Secondly, the format of the system date command (which is accessed via
> system.exec_command("date")) is not the same as the format for the
> python strftime method. The correct formatting is detailed here
> (scroll about halfway down the page)
>
> http://docs.python.org/library/time.html
>
</pre>

I just checked the error messages—it seems that autokey is not interpreting the first line of my script correctly.  It reads:

import datetime  I read the webpage you sent.  It deals mainly with the time function.

Is there something wrong with import datetime?  Is this the problem?

Thanks!

<h3><font color="#FF4500">Jeff Needle said…</font></h3>

12/16/10.

<pre>
On Wed, 2010-12-15 at 22:55 -0800, Chris D wrote:
> Jeffrey:
>
> Are you sure you changed it to match exactly? Did you check the error
> messages in the AutoKey menu afterwards to see if any problems had
> occurred in the script execution? The advice you have been given will
> output the current date unless there is something seriously wrong with
> your AutoKey installation. You can try putting
> datetime.datetime.now().strftime("%m/%d/%Y") into the python
> interpreter on the command line and you will see it correctly outputs
> the date. In fact I see this advice has already been given in an
> earlier post in this thread.
>
> Secondly, the format of the system date command (which is accessed via
> system.exec_command("date")) is not the same as the format for the
> python strftime method. The correct formatting is detailed here
> (scroll about halfway down the page)
>
> http://docs.python.org/library/time.html
>
</pre>

I just checked the error messages—it seems that autokey is not  interpreting the first line of my script correctly.  It reads:

import datetime  I read the webpage you sent.  It deals mainly with the time function.

Is there something wrong with import datetime?  Is this the problem?

Thanks!

<h3><font color="#FF4500">GrouchyGaijin said…</font></h3>

12/16/10.

<pre>
>Memory leaks are incredibly difficult to track
 > down, especially if only one out of hundreds of users is experiencing
> the issue.
</pre>
I guess this is why there is no solution to the issue of AK taking more and more memory.  I have this problem and so do some other people that I know of, but it seems to be a small minority of the total number of users.

I have no idea how to show what is happening when the memory usages rises.  I can see in my conky list of top 5 processes that the usages rises and that it rises quickly, but I don't know how to show exactly what is happening.  I sent Chris a log, as explained on the website, unfortunately the log didn't help him determine what is wrong.

So I've started using AK when I know that I need to enter specific text.  That is too bad because I really like this program a lot.

Having said that, I can't complain - this is something a guy did in his free time and doesn't charge any money for.  I do appreciate the work that went into / goes into developing AK.

John.

<h3><font color="#FF4500">keith said…</font></h3>

12/16/10.

<pre>
>
> I fear there's been some confusion of posters.  I, Jeffrey Needle, am
> having the date problem.  Another poster is feeling that he is being
> annoying.
>
> Not a big deal, just want to make sure the personalities stay clear
> `<grin>`.
</pre>
Sorry Jeffrey  One of the main problems of heavily used forums is keeping straight "who's who" and who said what (much less what they meant by it).

I've never seen a good solution for that problem and now that I suffer from AAADD (Age Activated Attention Deficite Disorder) it's even worse for me…`<grin>`

<h3><font color="#FF4500">keith said…</font></h3>

12/16/10.

<pre>
On Dec 16, 1:36 pm, Jeffrey Needle wrote:
> On Wed, 2010-12-15 at 22:55 -0800, Chris D wrote:
> > Jeffrey:
>
> I just checked the error messages — it seems that autokey is not
> interpreting the first line of my script correctly.  It reads:
>
> import datetime
>
> I read the webpage you sent.  It deals mainly with the time function.
>
> Is there something wrong with import datetime?  Is this the problem?
>
> Thanks!
</pre>
Hi Jeffrey  I have done a bit of programing in various languages but I am NOT a Python programmer so I can't give you more than generalities about your problems.

First I must point out that the technical and logical fallacies in your description of the problem will lead you (and has lead me in the past) to waste lots of time looking in areas that have nothing to do with the problem.  You said "it seems that autokey is not interpreting the first line of my script correctly."  That is incorrect….Python is not  interpreting the first line of your script correctly.  True it is possible that Autokey is not handling the transfer of the script to the python interpreter correctly but if other scripts run properly that is highly unlikely.

IF you copied and pasted the script and IF the script was correct for the system of the person who gave it to you (and worked for them) THEN probably the problem has to do with the version of Python or its libraries that you are using.  You might want to post what version of Python and its libraries you are using as well as your OS name and version. (I am assuming you have the latest version of; your Linux Distro, Autokey, Python and  Python libraries installed. )  True other problems in the; kernel, OS and window managers could cause the problem but those are much easier solved by upgrading or switching Distros than debugging them.

Testing with the Python interpreter directly instead of inside Autokey would probably get you much more detailed error messages.  Any basic beginners book or Internet tutorial on Python could get you setup and using Python in interpreter mode in a few minutes.

Good luck

—COMPUTER - A device designed to speed and automate errors beyond human understanding.

<h3><font color="#FF4500">Jeff Needle said…</font></h3>

12/16/10.

Not a problem.  I just wanted to keep things straight.

And speaking of AAADD (hah!)  I got that when I turned 60.  It ain't getting any better!!!! `<grin>`

Thanks.

<h3><font color="#FF4500">Jeff Needle said…</font></h3>

12/16/10.

Sigh.  My ongoing problem—being a beginner with Linux always leaves me in a kind-of deficit position when it comes to explaining my problems.

I'll move on to learn and hope that I get better at talking about the problems I encounter.

Thanks.

<h3><font color="#FF4500">Chris D said…</font></h3>

12/16/10.

What led you to the conclusion that the problem lies with this line?  There is nothing wrong with that import statement - the link I posted just contains the standard date and time format tokens for Python which is applicable globally to both the datetime and time modules.

<h3><font color="#FF4500">Jeff Needle said…</font></h3>

12/16/10.

The error message specified that line as the problem.

Traceback (most recent call last):

<pre>
  File "/usr/lib/python2.6/dist-packages/autokey/service.py", line 404,
in execute
    exec script.code in self.scope
  File "<string>", line 1
    import datetime
                  ^
SyntaxError: invalid syntax
</pre>
<h3><font color="#FF4500">Andreas Schamanek said…</font></h3>

12/17/10.

Try    <pre>
  output = time.strftime("%m/%d/%Y")
</pre>
<h3><font color="#FF4500">Andreas Schamanek said…</font></h3>

12/17/10.

<pre>
On Dec 17, 9:31 am, Andreas Schamanek wrote:
>   output = time.strftime("%m/%d/%Y")
</pre>
Worked for me w/o but might need.

<pre>
import time
</pre>
HTH.

<h3><font color="#FF4500">Jeff Needle said…</font></h3>

12/17/10.

Sorry, didn't work.

I think I'll give up on it for now.  All this twisting in the wind is a bit disconcerting.

Thanks to all.

<h3><font color="#FF4500">Chris D said…</font></h3>

12/17/10.

If you still want to try fixing this, export the script and email the file to me so I can try it out.

<h3><font color="#FF4500">Jeff Needle said…</font></h3>

12/17/10.

Thanks!  Here's what I have:

<pre>
import time
output = time.strftime("%m/%d/%Y")
keyboard.send_keys(output)
</pre>
This is the latest script I've tried.  If you have some comments, I'd be very grateful.

<pre>
On Fri, 2010-12-17 at 15:53 -0800, Chris D wrote:
> If you still want to try fixing this, export the script and email the
> file to me so I can try it out.
>
</pre>
<h3><font color="#FF4500">Jeff Needle said…</font></h3>

12/17/10.

Hey, when I pasted the script, there was a strange character at the end of the first line.  I wondered what this was.  I went back to the script, deleted the carriage return, pressed <enter> to separate the lines and thereby, perhaps, get rid of whatever the character was, and bingo!  The script works fine!

Thanks to all.  It looks like I'm really in good shape now.

Best.

<pre>
On Fri, 2010-12-17 at 15:53 -0800, Chris D wrote:
> If you still want to try fixing this, export the script and email the
> file to me so I can try it out.
>
> On Dec 17, 8:02 pm, Jeff Needle wrote:
> > On Fri, Dec 17, 2010 at 12:33 AM, Andreas Schamanek <
> >
> >
> > > On Dec 17, 9:31 am, Andreas Schamanek  wrote:
> > > >   output = time.strftime("%m/%d/%Y")
> >
> > > Worked for me w/o but might need
> >
> > >  import time
> >
> > > HTH.
> >
> > Sorry, didn't work.
> >
> > I think I'll give up on it for now.  All this twisting in the wind is a bit
> > disconcerting.
> >
> > Thanks to all.
> > —
> > Jeff Needle
</pre>
<h3><font color="#FF4500">Andreas Schamanek said…</font></h3>

12/18/10.

Jeff, sorry for mostly adding noise here.  I just re-read this thread and it seems that your problem is not with datetime/strftime.  It must be something completely different since you said that even <tt>"output = system.exec_command("date +%m/%d/%Y")"</tt> didn't work.  You may want to properly debug this.

In my case, Ubuntu 10.04, Python 2.6.5, AutoKey GTK UI 0.71.1, all of the 3 variants/examples work:

<pre>
output = system.exec_command("date +%Y-%m-%d\ %H:%M")

import datetime
output = datetime.datetime.now().strftime("%m/%d/%Y")

output = time.strftime("%Y-%m-%d %H:%M")
</pre>
Have you tried something simple like only ''keyboard.send_keys("2010-12-18")''?

What does your Python say if you run ''python'' in a terminal, then throw ''import time'' and ''time.strftime("%Y-%m-%d %H:%M")'' at it?

How are you editing your script?  If you use an editor, maybe it's throwing Unicode or wrong line endings?

Chris, as many have said before, AutoKey is what I missed most when working on Linux systems.  Thanks a bunch!

<h3><font color="#FF4500">Jeff Needle said…</font></h3>

12/18/10.

I solved the problem quite inadvertently.  When copying the script into Evolution to mail to another poster, I discovered an odd character at the end of the first line—the line that the error console was telling me was the problem.  I managed to get rid of that character, and the whole thing works just fine.

Thanks.

<h3><font color="#FF4500">keith said…</font></h3>

12/19/10.

<pre>
On Dec 18, 8:29 pm, Jeffrey Needle wrote:
> I solved the problem quite inadvertently.  When copying the script into
> Evolution to mail to another poster, I discovered an odd character at
> the end of the first line — the line that the error console was telling
> me was the problem.  I managed to get rid of that character, and the
> whole thing works just fine.
</pre>
Congrats.:

I have had this happen to me in the past and it caused me as much problems as it did you.  Why I did not think to suggest you look for this problem I don't know.  AAADD I guess:

I have found that some places/programs/files have a hidden character at the end of the line (or a space which can be as bad a problem sometimes).  Emails, web pages and non ASCII text files have been the most common source.

—Happiness is a warm hotkey..:

<h3><font color="#FF4500">Jeff Needle said…</font></h3>

12/19/10.

Indeed, I've found the same thing when trying to open some documents in OpenOffice Word Processor.  A slew of special characters that are difficult to remove.

I'm really glad I found the answer to my problem, even if I did find it by accident! `<grin>`

Thanks.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Linux Journal Article</font></h1>
 1 post by 1 author
<h3><font color="#FF4500">keith said…</font></h3>

12/15/10.

Mike Diehl at Linux Journal just did an article about Autokey called:

Autokey: Desktop automation utility for Linux  This is the link:

<tt>http://www.linuxjournal.com/content/autokey-desktop-automation-utility-linux</tt>

I thought it was a good article.  He brought up some uses I had not thought of.

Everyone interested should go and take a look and make comments if you want.  Mike is good at responding to comments and you do not have to signup to make comments.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: No system tray icon</font></h1>
 1 post by 1 author
<h3><font color="#FF4500">mfseeker said…</font></h3>

12/13/10.

Autokey runs fine for me.  Ctrl-K gives me the configuration window.  However, I cannot seem to get an icon in the system tray that will give me access to configuring.  I can only get the icon that will start Autokey.

I'm sorry to have to post this question.  Many months ago I asked and was given the answer, but I have forgotten, and extensive searching has not located it.  I know there are two different icons.  I had the config icon in the system tray until a recent mini-crash.  How do I get it back?

<h3><font color="#FF4500">keith said…</font></h3>

12/13/10.

In the configuration window click  on Edit then Preferences and make sure the check box for "show a tray icon" is checked:

Keith.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: [suggestion] make an auto-correct dictionary based on tidbits</font></h1>

13 posts by 2 authors.

<h3><font color="#FF4500">ManUtopiK said…</font></h3>

10/11/10.

It should be nice if you adapt the tidbits auto-correct dictionary from tidbits for auto-key:

<tt> http://db.tidbits.com/article/9124<br /> http://db.tidbits.com/article/10567</tt><br />

and better if you make same thing with auto-correct dictionary from typinator (typinator got more dictionary : french, german…):

<pre>
 http://www.ergonis.com/products/typinator/features.html
</pre>
It's just some ideas.  Tell me if I can help you.  Many thanks for your software :)

<h3><font color="#FF4500">ManUtopiK said…</font></h3>

10/11/10.

Re: make an auto-correct dictionary based on tidbits OK, nobody enjoy this idea?

Doesn't matter, I do !

I made a small code with applescript.  It take back all entries from each dictionary of Typinator.

Now I got a text like that:

<pre>
abcis=abscis
acalmie=accalmie
acceu=accue
accompte=acompte
accummuler=accumuler
acrÃ©dit=accrÃ©dit
:
</pre>
Of course, I take back only the french dictionary…for the moment.  I got more than 1000 entries.

Now, I need help for hack my txt file and make a file importable into autokey.  How I can do that ?

If somebody give me a code to do that easly, I could do the same thing for all dictionaries of typinator:

<pre>
Autocorrection (US english)
Autocorrection (British english)
Auto-correction (franÃ§ais)
AutoKorrektur (Deutsch)
TidBits AutoCorrection (US)
TidBits AutoCorrection (English)
FileMaker 9 Functions
HTML Snippets
Subscripts
Superscripts
</pre>
and I could share it for all the autokey community !

<h3><font color="#FF4500">Chris D said…</font></h3>

10/12/10.

Re: make an auto-correct dictionary based on tidbits It is certainly a good idea…what you could do is look at the SampleScripts wiki page.  There is a script there that shows you how to programatically create a new abbrevation.  You could modify this script to read your text file and create an abbreviation for each line.

<h3><font color="#FF4500">ManUtopiK said…</font></h3>

10/12/10.

Re: make an auto-correct dictionary based on tidbits OK thanks, I gonna do that.  I don't know so well python.  But it's a good exercise for beginner !

<h3><font color="#FF4500">ManUtopiK said…</font></h3>

10/13/10.

Re: make an auto-correct dictionary based on tidbits it's work but I got problem with utf-8

Here is my code:

<pre>
import time
time.sleep(0.25)
li = ["ambigue","ambiguÃ«","ambigÃ¼e","ambiguÃ«","annnÃ©e","annÃ©e"]
for i in range(0,len(li),2):
    title = li[i+1]
    abbr = li[i]
    contents = li[i+1]
    folder = engine.get_folder("AutoCorrect fr")
    engine.create_abbreviation(folder, title, abbr, contents)
</pre>
I try do add this line on the top but didn't work:

<pre>
# -`*`- coding: utf-8 -`*`-
</pre>
How can i do ?

<h3><font color="#FF4500">Chris D said…</font></h3>

10/13/10.

Re: make an auto-correct dictionary based on tidbits Try it like this:

li = [u"ambigue", u"ambiguÃ«", u"ambigÃ¼e", u"ambiguÃ«", u"annnÃ©e", u"annÃ©e"]

Prefixing each string with u tells Python to interpret it as a Unicode string rather than an ASCII string.

<h3><font color="#FF4500">ManUtopiK said…</font></h3>

10/14/10.

Re: make an auto-correct dictionary based on tidbits YES !  It's rock !  Thank's a lot Chris !

This (li = ["ambigue","ambiguÃ«","ambigÃ¼e","ambiguÃ«","annnÃ©e","annÃ©e"] ) was just an example.  My folder AutoCorrect_fr got now 875 abbreviations.

I starting to do same things with the others auto-correct dictionaries:

I got another problem.  I export my folder, and when I import it, all abbreviations disappears !

There is a bug with importation ?

Here is my export folder:

<tt>http://dl.free.fr/ct2tBXzAV</tt>

In the "HTML Snippets" dictionary of Typinator, there are some abbreviations like that:

<pre>
`<``<`big        =        <big>{^}</big>
`<``<`txt        =        <input type="text" name="{^}" value="" size="">
</pre>
For both examples, when the abbrevation is trigger, the text cursor go instead of {^}

Can AutoKey do that ?

Another question:

Where I can put this file accessible for all AutoKey users ?

Maybe should be interesting to make a wiki page and offers opportunity to make a collective AutoCorrection pack that could be augmented by all users ?

In fine, this is a new feature fore AutoKey : AutoCorrection on the fly !

PS : sorry for my bad English…I can just about get by !

<h3><font color="#FF4500">Chris D said…</font></h3>

10/14/10.

Re: make an auto-correct dictionary based on tidbits.

<pre>
On Oct 15, 1:22 am, ManUtopiK wrote:
> I got another problem. I export my folder, and when I import it, all
> abbreviations disappears !
> There is a bug with importation ?
> Here is my export folder :http://dl.free.fr/ct2tBXzAV
</pre>
I imported your file and it worked perfectly.  You'll need to give more exact steps to reproduce your problem.

<pre>
> In the "HTML Snippets" dictionary of Typinator, there are some
> abbreviations like that:
> `<``<`big        =        <big>{^}</big>
> `<``<`txt        =        <input type="text" name="{^}" value="" size="">
> For both examples, when the abbrevation is trigger, the text cursor go
> instead of {^}
> Can AutoKey do that ?
</pre>
You can't do that with a phrase, only a script (as for how exactly to do it, if you search the user group you will find examples).

<pre>
> Another question:
> where I can put this file accessible for all AutoKey users ?
> Maybe should be interesting to make a wiki page and offers opportunity
> to make a collective AutoCorrection pack that could be augmented by
> all users ?
</pre>
It could be put as a download on the project site - that is probably the easiest if you don't have your own site or blog.

<h3><font color="#FF4500">ManUtopiK said…</font></h3>

11/8/10.

Re: make an auto-correct dictionary based on tidbits OK I'm back !

Here, here is a pack of abreviations sets:

<tt>http://dl.free.fr/fZe85LHms</tt>

Contents:

<pre>
# AutoCorrect English
Version aspirated from typinator for mac OSX
832 phrases, all are not trigger immediately while some abbreviations
should be immediatly trigger mode, case of typed abreviation don't set

# AutoCorrect TidBits English
Version aspirated from the Web site
2313 phrases
More usable version for English.

#AutoKorrektur Deutsch
Version aspirated from typinator for mac OSX
1004 phrases, all are not trigger immediately while some abbreviations
should be immediatly trigger mode, case of typed abreviation don't set

# AutoCorrect French:
Version aspirated from typinator for mac OSX
Very good version with 875 phrases, paste style ctr+v for special
character, immediate abbreviation for word like typing "excele"
replaced by "excelle" for different word ("excellent",
"excellence"…)
Because it's my native language ;-)
</pre>
Should be incorporated into the next version of AutoKey: Enjoy !

<h3><font color="#FF4500">ManUtopiK said…</font></h3>

11/8/10.

Re: make an auto-correct dictionary based on tidbits I didn't say:

for Deutsch version, I set all phrases the "ctrl+v" type paste.  This is because too much pharse contains the letter ÃŸ and it's don't work with a keyboard paste.

Idem for French version with letters "Ã© Ã¨ Ã   Ã´…", I set type paste "ctrl+v" only for phrases contains this type of letters.

The TidBits English come from the British version only (but I didn't see any diferences with the US version) Type paste is only "keyboard", because there is no special char:

<h3><font color="#FF4500">Chris D said…</font></h3>

11/9/10.

Re: make an auto-correct dictionary based on tidbits Excellent work.  The ÃŸ really should be working, are you sure you've read all the information on this forum and on the wiki about correctly setting keyboard layout so it works with AutoKey?

<h3><font color="#FF4500">ManUtopiK said…</font></h3>

12/3/10.

Re: make an auto-correct dictionary based on tidbits I didn't read information about correctly setting keyboard layout.  And I should: I use X EvDev setting on an Archlinux distro with gnome and a french mac alu keyboard.  I got a second computer with ubuntu 10.10 I use synergy with one keyboard for both computers.  And AutoKey don't work when I type abreviation from client to server: It doesn't matter, i've synchronized my phrases:

I'm not sure i'm very clear :) What about synergy and Autokey ?  Have you tested it ?

<h3><font color="#FF4500">Chris D said…</font></h3>

12/4/10.

Re: make an auto-correct dictionary based on tidbits Nope, that is a totally untested configuration and I'm not really surprised it does not work.  The only thing I can suggest is trying the XRecord interface setting.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Shift not working as modifier to trigger hotkey</font></h1>

3 posts by 2 authors.

<h3><font color="#FF4500">DeadGenetic said…</font></h3>

11/27/10.

New user here with version 0.71.0 in Ubuntu 10.10

I've set up a number of hot keys and the ones triggered by <alt>+key or <alt>+<ctrl>+key work fine but <alt>+<shift>+key or <ctrl>+<shift> +key do not.

The cursor does sort of flicker when the key combination is pressed.  But nothing else happens.

I've tested the hotkey output (usually something like <ctrl>+<shift> +<right>) with different triggers and that works, so the problem isn't there.

I hope there is a way to make this work.  I've been using AutoHotKey in Windows for years to control my cursor, select text, etc. with ijkl and I'd like to keep the same shortcuts so I don't have to retrain my muscle memory.

Thanks for the help!  Dan   <h3><font color="#FF4500">keith said…</font></h3>


11/28/10.

Interesting user name..:

That problem is fixed in versions > 0.71.0

Go to this site, instructions on how to do the install are on the web page.:

https://launchpad.net/~cdekter/+archive/ppa  I had the same problem.

Keith.

<h3><font color="#FF4500">DeadGenetic said…</font></h3>

11/28/10.

Thanks.  Keith.  That did it.

PS: The name is a character from an old game called Captain Blood   <br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Reversion from 10.04 to 9.10, Can't Import .json.  Can't find .bin</font></h1>


14 posts by 4 authors.

<h3><font color="#FF4500">qalisto said…</font></h3>

11/15/10.

I have a sinking feeling.

<pre>
1. I had to regress to 9.10 on my Vaio for stability reasons.
2. I had only backed up the /home directory (which I thought was all I
needed - including the .json file which is the only one it seemed
critical to backup.
3. I have finally reinstalled Autokey, but I am sure I was using the
version current to April 2010 and not 0.711.
4. Replacing the new install default autokey.json file in the <user>/.config
DIR is not producing my familiar list.  It creates an error.
5. Further, I cannot locate in my backup any autokey.bin file - anywhere.
   5a. Is that file critical?
   5b. Was that located NOT in the /home directory?
6. If yes (and I am therefore, screwed for a normal restore), do I
have any remedy to restore the data from my nice, fat autokey.json
into the new install?  Perhaps by some editing process??
</pre>
You see, my review of some posts suggest that autokey.bin is critical and it may have been located in the /usr directory (which I didn't think I needed).  [I obviously am a Linux newbie.]

Alternately, would an install of Autokey on a different machine I sometimes use, which MAY HAVE an older version of the .json data on it, offer a usable autokey.bin if my fears are correct??  Would I be able to use that older .bin file with my newer .json??  OR only with the .json corresponding to install on THAT other PC?

Thanks for your patience. -Q

<h3><font color="#FF4500">Luke Faraone said…</font></h3>

11/15/10.

<pre>
On 11/15/2010 03:39 AM, qalisto wrote:
> You see, my review of some posts suggest that autokey.bin is critical
> and it may have been located in the /usr directory (which I didn't
> think I needed).  [I obviously am a Linux newbie.]
>
> Alternately, would an install of Autokey on a different machine I
> sometimes use, which MAY HAVE an older version of the .json data on
> it, offer a usable autokey.bin if my fears are correct??  Would I be
> able to use that older .bin file with my newer .json?? OR only with
> the .json corresponding to install on THAT other PC?
</pre>
autokey.json and autokey.bin are two different data file formats, stored in your ~, which contain your abbreviations.  There is a file "/usr/bin/autokey", but that's not something that needs to be backed up as it's part of the autokey pacakge itself.

Rather than moving to a release which will be EOL'd soon, perhaps you should try 10.10 or report the bugs you experienced in 10.04 in Launchpad?

—Luke Faraone.

Attachments (1)

signature.asc 836 B   View   Download   <h3><font color="#FF4500">qalisto said…</font></h3>


11/15/10.

Hi, Luke  Unfortunately, there is some specific anomaly which makes the 10.x series of Ubuntu to cause annoying bugs in the Vaio machines I use.  9.10 is far smoother.  It works.  Therefore, I am not going to fix it.  ;)  [I also tested 10.10 and it ALSO recreated the same bugs which required annoying reboots.]

My issues are irrespective of the Ubu version.  Now, I looked at the DIRs of my other machine and I still could not locate an autokey.bin file.  I looked again at my new install of Autokey 0.711 and I can't find the .bin file here either!!  This, even after having added phrases to the newly installed default DB of phrases.

Now I did find autokey.bin in an old backup of Autokey which I saved in the other PC from at least 2 years ago.  This was located in the .config DIR along with the autokey.json and .pid files.

I am mystified as to why I don't see autokey.bin in the 0.711.  At first, I thought that with the updated UI that maybe the App was rewritten and eliminated the .bin file.  This seems not to be the case.

Where exactly is the .bin file supposed to be??  Please tell me from the ROOT.  AND…I still wish to know, IF I cannot locate the autokey.bin from the /home backup (tried "Search" already) is there a workaround so I don't have to recreate the phrases again.

Thanks for indulging me.  I am learning Linux ever-deliberately after years of mind-numbing from MSFT.

-Q

<h3><font color="#FF4500">keith said…</font></h3>

11/16/10.

Hi  I would have thought that replacing the .json file would have worked (but I am in no way and expert with AutoKey)

What kind of error message did you get?

Is it possible that the permissions or owner of the "old" file are different from what the new setup is using?  It should have the owner as the user you created on the new system and rw for the owner and r for group and other.

I am very interested in your problem since I just finished recreating, one by one, all the entries from a KHotKey instalation and I don't want to do that again.  If something special is needed to backup your settings and data I want to know how to do it.

Good luck.

<h3><font color="#FF4500">Chris D said…</font></h3>

11/16/10.

Wow, a lot of confusion to be cleared up here:

Issue number one - you went back to an older version of AutoKey (as far as I can tell from what you wrote).  This is not supported, so for starters you should install the latest version from the PPA and then try using your backed-up json file.

The .bin file is not used any more - recent versions of AutoKey can load it but won't save to it, as they save to the json file instead.  Other than the json file, there is nothing else you need to back up to keep your AutoKey settings.

Start with that, and let us know how you go.

<h3><font color="#FF4500">qalisto said…</font></h3>

11/16/10.

Sorry: to be clear:

1.  I `*`am`*` using v.  0.711, which I think the PPA installed as latest.  The desired .json was, however created in the version of Autokey that was current circa April 2010.

2.  On the new setup of Ubu 9.10 I used the same username as from my troubled install of 10.04.

3.  I set the permissions on the desired, archival .json file as Keith suggested, but there are more he did not address.:

<pre>
For now.. they are:
Owner = RW
Group = R
Others = R
Execute = Unchecked
</pre>
4.  Alas, when deleting from the .config DIR the default .json and .json~ and replacing with my original .json with Keith's suggestions, I get error:

<pre>
"Fatal error starting AutoKey.  No JSON object could be decoded"
</pre>
So, good sirs, what next shall I do? -Q

<h3><font color="#FF4500">Chris D said…</font></h3>

11/18/10.

OK…that should work.  One or two people have reported this no Json object error before, but nobody could reproduce it.  If you can get it to happen consistently, try starting AutoKey in the terminal using the command autokey -l and post the output here.

<h3><font color="#FF4500">qalisto said…</font></h3>

11/18/10.

Chris-

Thanks very much for your attention here.  I couldn't use Linux without your app and I will be singing your praises to the Community going forward.

That said, sorry if I impart something here totally amateurish, but I am still trying to figure out how Linux behaves after years of Gates~izication.

One thing that would be useful is to know what are the component files of Autokey, what do they do, and where do they normally reside in a default installation.

This leads to my reply…I don't know from WHAT DIR you want me to exe the Autokey command.

From my apparent HOME dir, I get the following reply from Terminal:

"qalisto<b>DL-SR:~$ autokey -l The program 'autokey' is currently not installed.  You can install it by typing: sudo apt-get install autokey autokey: command not found"  Next?? -Q
</b>
<h3><font color="#FF4500">keith said…</font></h3>

11/18/10.

Hi qalisto  I have no comments (or idea) about the Autokey aspect of your problem but I can try to help with the de-Gatesizicaton.

Linux controls "if" something is "executable" using the "executable" bit (flag) on the file (i.e. x in the ls output—which also controls entering a directory or not) .  The environment (global) PATH setting controls if it can be executed from any directory.  Any time a "package" is installed, the installation software should put the executable file in a directory that is on the default global PATH and make sure the calling file (which can be a binary file or a script file) is marked executable.

That means you don't have to worry about where you call the executable from, with one exception.  You can not call a executable program from inside the directory that the executable is stored in.  (The best I can remember Windoze is completely the reverse of this procedure.)  For example you can not execute a script by simply running its name in a terminal from within the directory it is stored on, but you can from any other directory.  Of course there are ways around this but they require typing more than just the programs (file) name.

You normally should be able to run any properly setup program from your home directory or any other directory except the one the program resides in.  This also means that normally, unless you need to alter the program code, knowing where the program files reside is unimportant.  If you really need to know what files were installed with a package you can do that easily using the program Synaptic (a package manager which is probably already installed on your machine) .  Start the program, search for the name of the installed package or executable file name, when found, click on it with the left mouse button to highlight it, then with the cursor over the highlighted area right click and then left click on Properties.  Then go to the "Installed Files" tab in the popup window and it will list the file name and directory it was installed in, of every file in the package.  You can also use apt or any of the other Package Management command line programs (if you know how to use them) to get the same information.

The error message you got indicates that either Autokey did not install properly or your path has problems.  The Autokey executable resides on /usr/bin and if this directory is listed in your path and Autokey is is installed—it should have run using the command you tried above.  If /usr/bin is not in your path you will get an error message, but usually "No such file or directory" instead of the one you got.  The easiest way to check what directories are on your path is to run the command: echo $PATH.  A more complicated command to view the path in a far easier to read format is:

<pre>
 echo -e "\n${PATH//:/\\n}\n"
</pre>
(the double quotes are required).

Another possibility… Autokey's actual file name is "probably" autokey-gtk (at least that is what it is on my Ubuntu 10.10 system).  The installation program should make a symbolic link from the filename autokey to the actual executable file autokey-gtk .  If it didn't you probably would get the message you got.  You can test this by trying to run this:

<pre>
autokey-gtk -l
</pre>
If this starts Autokey then the installation program screwed up.  But…if this works you can use it to do all your testing and fix it later after you get your main problem with the .json file fixed.

If autokey-gtk -l works but autokey -l doesn't—then Chris might know if this problem might have anything to do with your .json file problem.

Probably the safest and fastest way to fix your current problem if autokey-gtk doesn't work, is to use Synaptic or apt to reinstall Autokey.  Make sure your .json file is backed up on disk or usb stick first though.

You indicated that you had been running Autokey previously and getting an error message about the .json file.  That makes me think that autokey-gtk -l might work since autokey-gtk is usually the command used in the Accessories menu.

Hope this isn't too confusing.:

Keith.

<h3><font color="#FF4500">Chris D said…</font></h3>

11/20/10.

Sorry, force of habit, that should have been either 'autokey-gtk -l' or 'autokey-qt -l' (depending on whether you are using the Gnome or KDE version)

<h3><font color="#FF4500">qalisto said…</font></h3>

11/21/10.

Guys-

First, thanks Keith for your generous explanations and thanks Chris for replying with patience.

Look.  Autokey installed beautifully, although this may be a hidden issue since I am using GNOME and not KDE.  Testing Chris' suggestions I tried the manual starting from Alt-F2.  Using the PPA the servers obviously installed the QT version and not the GTK version because the QT version is what fires at the Run line.  But, the same is in my App menu anyway and starts from Menu fine, too.

STARTING Autokey is not the issue.  It loads.  The issue is I want to use my older version JSON file with many hours of data inputs in the new install on the new machine.  Autokey will only start when it can use its fresh, default, virgin .json file.  When I try to delete the virgin .JSON file and paste in my own .JSON backup from my prior install of Autokey, I get the dang error msg that Autokey can't decode it.

But, if I then `*`remove`*` my 211kb file and and restart Autokey, it regenerates a virgin .JSON file of 12.9kb.

That's why I asked if there was a way to just open up the virgin file and `*`my`*` file and I could surgically insert data that the virgin .json will like.  Or better adjust some mysterious Java or other settings and get my old one to work.

Alas, my prior .json file is one transplant that the new host doesn't like.  And by my reading of Chris' prior comments, it seems that it's not an app update/improvement compatibility issue with the .json. (Right??)

Is the fact that the PPA installed the `*`QT`*` version having something to do with this?  Does my Gnome Ubuntu install want the GTK and if yes, in what PPA is that??  My sense is that if the QT version works this should not be the case, but maybe KDE/QT need mystery supplemental files from Synaptic app base.  I dunno.

I see 4 options.

1.  Tweak my settings to get the new Autokey to accept my old .json 2.  Surgically cut and paste data from my old .json to the new one that Autokey 0711 likes 3.  Install GTK version over QT OR 4.  Surrender and rebuild my Expansions from scratch.

Ideas?? -Q

<h3><font color="#FF4500">Chris D said…</font></h3>

11/22/10.

To answer your options:

1.  There are no settings to tweak that could possibly affect this.  2.  Theoretically possible, but I doubt it will be much quicker than manual re-entry.  3.  The GTK and QT use exactly the same code for config file parsing (the same physical module) so this cannot be the cause of the problems.  4.  Let's leave that as a last resort :P

If there is no sensitive information in your config, you could email me the json file so I can try to determine the cause of the problem.

<h3><font color="#FF4500">keith said…</font></h3>

11/22/10.

qalisto  I'm sure Chris would agree that this is getting a bit weird here.  Usually when that happens you are making a wrong assumption about something.

Right now we are assuming that your old .json file is a good, standard .json file.  It could be broken or corrupted in some way we have not considered (that is the opinion of the new Autokey you installed anyway…Maybe we should listen to it. `<grin>` )

If possible, I would highly recommend sending the file to Chris like he requested.

Meanwhile, some things to consider:

If you put the old .json file back in the same environment it came from—would it still work?  Right now we don't know that.

Did any of the content of the original .json file use accents or any other type of character encoding.  Sometimes one version of a library will accept encoding that an earlier one will not.

Some programs/languages don't like blank lines at the end or beginning of a "config file" or script and it is not impossible that something you used to save, move or open and look at the .json file—did something like that.

If you viewed the file using an editor it is possible that it added something when you closed the file, like a file header that is not displayed when the file is viewed or; altered the encoding, removed trailing spaces, etc.

What does python (Autokey) really mean by "can't decode".  This almost sounds like python's problem is the file itself instead of what is in it.  If that is the problem, then creating a new and empty .json file and pasting the entire contents of your old .json file into it might solve the problem.  If I decided to do this, I would use qedit since it has fewer bells and whistles than kate and doesn't put as much info into the file header.  Note: make sure there are no blank lines at the beginning of the file or below the last line of the file.

—Things "I" would do while waiting for Chris to inspect the file:

NOTE:  Always use a copy of the original .json file and currently working .json file for experiments!!!

What "I" would do first, would be to do the "copy and paste into a new .json file" trick above and if that didn't work then try and verify that the old file is the same as the new file.  I would do that by opening both of them in two different instances of qedit, and resize them until I could view both files at the same time.

Compare the files looking for any abnormalities in the old one including the encoding and other issues mentioned above.

If everything looks OK, then you need to think about the amount of time you want to spend trying to answer your "Why did this happen or What caused this?" questions.

This could have been a unique one time event or an extremely rare event—and we may never find the answer.  (Or the answer could be too obvious for us to notice—which are the really bad ones.)  If it is, and if your time is valuable, then solving the problem manually instead of finding the answer of "why" makes more sense and would be faster.

Re: option 2.  I wouldn't try that unless you really know python… I disagree with Chris, I think it would take longer—if you do one expression at a time and test between each one… De-bugging can be a real pain.

Good luck:

<h3><font color="#FF4500">qalisto said…</font></h3>

11/24/10.

Chris/Keith:

Problem solved!

When I tried to open the first 2 of 3 BAK's I eventually found of the desired 211kb .json file, the original 2 couldn't decode either in either Autokey and later gedit also failed to recognize them (after trying diff character sets [almost tried Vietnamese])

Clearly then, the .json was somehow corrupted.   (Who knows how).  By luck - and my own neurotic proclivity to BAK in multiple directories, I located yet another BAK of the .json and - HALLELUJAH!!… it opened and all seems in order. (Phew!!)

Thanks for all your help - this will be a timesaver on top of a timesaver.

My final questions are:

1.  How is it that the PPA installed the QT version of AK and not GTK?  2.  As mine is a GNOME-centric machine, is this relevant in terms of performance costs (or potential for KDE-specific potential bugs)??  3.  Are there ANY other files I should BACKUP `*`besides .json`*` in case of catastrophe?

Thanks big and happy holidays. -Q

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Ever increasing amounts of ram</font></h1>

8 posts by 5 authors.

<h3><font color="#FF4500">GrouchyGaijin said…</font></h3>

11/20/10.

I've noticed that AutoKey takes ever increasing amounts of ram on my system.  According to my top 5 processes, at this moment it is using 80 megabytes second only to my browser.  If I wait a little while it will over take the browser.  This continues until AutoKey seems to become so bloated that it stops functioning.  If I quit AutoKey and relaunch it, it will work again.

Any ideas on what is going on and how I can fix it?  I'm running 0.71.0 on Ubuntu 10.10

Thank you.

John Niendorf.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

11/20/10.

Den 2010-11-20 08:25:24 skrev John Niendorf:

I didn't upgrade to 10.10 yet, still have the old 10.04, but I don't have that problem of yours.  However I have the 0.71.1 version of AutoKey.  Maybe you should update AutoKey to see if the problem persists?

—Kind Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">Derek said…</font></h3>

11/20/10.

That sounds like the same issue that I have, reported in Issue 43.

<tt>http://code.google.com/p/autokey/issues/detail?id=43.</tt>

The issue is closed, but whenever I accidentally leave AutoKey running overnight it will consume a very large amount of memory.

Derek.

<h3><font color="#FF4500">GrouchyGaijin said…</font></h3>

11/20/10.

Derek.

I didn't see a fix listed in that thread aside from creating a log file.  Is there a fix?

Thank you.

John Niendorf.

<h3><font color="#FF4500">Chris D said…</font></h3>

11/21/10.

No there isn't a fix.  I haven't been able to reproduce the problem myself so I wasn't able to do anything about it.

<h3><font color="#FF4500">GrouchyGaijin said…</font></h3>

11/21/10.

I upgrade to 0.71.1 and the problem continues :-(

Thank you.

John.

<h3><font color="#FF4500">Michael Tunnell said…</font></h3>

11/21/10.

John, what is the amount of ram that it is using for you…maybe we can all compare and see how extensive the usage is for you.

most of the time my averages are between 20mb - 25mb  Michael Tunnell   <h3><font color="#FF4500">GrouchyGaijin said…</font></h3>


11/21/10.

Michael, when AutoKey starts it lists as using between 27 - 30 mb.  That will increase until the program refuses to function.  The highest I've seen it is over 1 gb of ram.

John.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: qclipboard.get_selection()</font></h1>
 1 post by 1 author
<h3><font color="#FF4500">Falmarri said…</font></h3>

11/14/10.

I have a script where I want to surround the currently selected text with characters.  The problem is that qclipboard.get_selection() always returns the last selected text, meaning that if you click somewhere without having text highlighted, it returns whatever was last selected instead of None or "".

Is there any way of checking to see if theres actually text highlighted or not?

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: engine.run_script() example.</font></h1>

9 posts by 2 authors.

<h3><font color="#FF4500">gsrunion said…</font></h3>

11/5/10.

Can I get an engine.run_script() example.  I am trying to work my way up to being able to use tab stops like in the snippets feature for gedit ()$0, $1, and so on).

<h3><font color="#FF4500">Chris D said…</font></h3>

11/6/10.

It's very simple, you just call it with the name of the script you want to run.  If you had a script called 'foo' you'd call engine.run_script("foo")

<h3><font color="#FF4500">gsrunion said…</font></h3>

11/6/10.

So I was running it correctly.  I have some other issue then that probably comes to me not understanding something.

script named hello: keyboard.send_keys("hello party people")

script named hello2: engine.run("hello")

I run script hello2 by the abbreviation "he".  The trigger text is deleted as configured in the options but the "hello party people" text is not inserted.

Any advise?

<h3><font color="#FF4500">Chris D said…</font></h3>

11/7/10.

After running the script, go into the main window and select the option View -> Script Error to see if there were any errors running the script.

<h3><font color="#FF4500">gsrunion said…</font></h3>

11/10/10.

Traceback (most recent call last):

<pre>
  File "/usr/lib/python2.6/dist-packages/autokey/service.py", line
404, in execute
    exec script.code in self.scope
  File "<string>", line 1, in <module>
  File "/usr/lib/python2.6/dist-packages/autokey/scripting.py", line
1041, in run_script
    if item.description == description and isinstance(item, Script):
NameError: global name 'Script' is not defined
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

11/11/10.

Can you a file a bug…that's a typo.

<h3><font color="#FF4500">gsrunion said…</font></h3>

11/11/10.

Will do.

<h3><font color="#FF4500">gsrunion said…</font></h3>

11/13/10.

Can you advise what the typo is so that I can fix my own in the meantime?

<h3><font color="#FF4500">Chris D said…</font></h3>

11/14/10.

Yup…line 1041 of scripting .py should read:

if item.description == description and isinstance(item, model.Script):

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: how to specify mouse placement</font></h1>
 2 posts by 1 author
<h3><font color="#FF4500">cedardoc said…</font></h3>

11/12/10.

I've been having this weird problem I finally figured out.  I regularly take screenshots of a different computer over VNC(remote desktop viewer) and when the mouse is over the remote computer part of the screen focus is stolen from a window that pops up that I need to send keystrokes to.

The solution would be to place the mouse in the centre of the screen where the window in question pops up.  Is there an Autokey way to do this?

Thanks.  Dave.

<h3><font color="#FF4500">cedardoc said…</font></h3>

11/12/10.

I figured it out  system.exec_command("xte 'mousemove 725 375'", False)

you just have to install the "xautomation" package   <br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Switching windows by simulating Alt-Tab</font></h1>


6 posts by 3 authors.

<h3><font color="#FF4500">Joshua Harlan Lifton said…</font></h3>

11/8/10.

Hi.

I'm new to AutoKey and having trouble getting AutoKey to switch windows by emulating Alt-Tab.

I added a script called "window shuffler" to the Sample Scripts folder in the configuration window.  The abbreviation is set to 'k' with no hotkey and no window filter.  The script is:

<pre>
keyboard.send_keys("<alt>+<tab>")
</pre>
Running autokey-gtk—verbose, I see the following pertinent log entries when I press 'k':

<pre>
DEBUG - service - Raw key: u'k', modifiers: [], Key: u'k'
 DEBUG - service - No phrase/script matched hotkey
DEBUG - service - Script runner executing: Script('window shuffler')
DEBUG - interface - Send special key: ['<backspace>']
DEBUG - iomediator - Send via event interface
 DEBUG - interface - Send modified key: modifiers: [u'<alt>'] key: <tab>
</pre>
The windows don't switch as I'd expect.  Instead, in the terminal window, I see: ^[ followed by a tab.  What am I missing?  I'm running AutoKey on Ubuntu 10.04 with Python 2.6.5.

Thanks.  JHL.

<h3><font color="#FF4500">Michael Tunnell said…</font></h3>

11/8/10.

wait you are wanting to make a shortcut for a shortcut?  That doesn't make any sense sorry but I just dont see the point.

Michael Tunnell   <h3><font color="#FF4500">Chris D said…</font></h3>


11/8/10.

That's a good point, also any halfway decent window manager should let you modify the shortcut for switching windows (Compiz and Kwin both definitely do).  You'd be far better off doing it that way.

<pre>
On Nov 9, 9:45 am, Michael Tunnell wrote:
> wait you are wanting to make a shortcut for a shortcut? That doesn't make
> any sense sorry but I just dont see the point.
>
> Michael Tunnell
</pre>
<h3><font color="#FF4500">Joshua Harlan Lifton said…</font></h3>

11/8/10.

Fair points.  I'm actually trying to get this functionality working in a program I wrote, Plover, which allows a stenotype machine to replace a normal keyboard.  Stenotype machines typically only have 24 keys and require an extra layer of software to translate key strokes into words.  Both AutoKey and Plover use the Xlib library for capturing and emulating keyboard input.  In fact, I used the AutoKey code as a reference for keyboard control.  At this point, I'm mostly just curious why sending keycode 23 (Tab on my keyboard) with modifier 0x08 (Mod1, which is apparently Alt on my keyboard) doesn't act as Alt-Tab normally does.  I'm somewhat relieved that I can't get it to work in AutoKey either, but I'd rather have it working than agree that neither program can get it to work.  In any case, this is turning into more of a dev discussion than a user discussion, so I'm happy to move it off the list if anyone is interested in continuing the conversation.

Thanks.  JHL.

<pre>
On Mon, Nov 8, 2010 at 6:39 PM, Chris D wrote:
 That's a good point, also any halfway decent window manager should let
 you modify the shortcut for switching windows (Compiz and Kwin both
 definitely do). You'd be far better off doing it that way.
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

11/9/10.

You could try the keyboard.fake_keypress() method to see if that works.  It uses the xtest extension to generate the keyboard event rather than directly issuing an event to the X server.

<pre>
On Nov 9, 3:09 pm, Joshua Harlan Lifton wrote:
</pre>
<h3><font color="#FF4500">Joshua Harlan Lifton said…</font></h3>

11/11/10.

This is exactly what I ended up doing and it worked reasonably well.  There were two catches: the display needs to be synced after sending the fake input and the fake input is detected as legitimate input by the Xlib.ext.record context.  The former is easy to fix (Xlib.display.Display.sync).  The latter needed a little more work - I modified the record context callbacks to ignore a queue of events and then populated that queue with any events that I passed off to the xtest extension.

Cheers.  JHL.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: assigning script hotkey freezes keyboard</font></h1>

3 posts by 2 authors.

<h3><font color="#FF4500">cedardoc said…</font></h3>

11/9/10.

Specifically, when I tried to assign ctrl-del, the instant I press the delete button after clicking "press to set", nothing happens and the keyboard freezes, and I have to reboot to fix it.  Assigning "ctrl" and any letter doesn't freeze it up.

I tested it on two computers and it only happens on an old laptop with ubuntu 9.04 (using a usb keyboard).  the autokey version is 0.71.1

I can't check for any error messages as I can't really use the computer after that.  I can't even turn it reboot thru menus as the mouse no longer selects properly.

Any suggestions?

<h3><font color="#FF4500">keith said…</font></h3>

11/10/10.

Some speculations:

The fact that this only happens on this one laptop indicates that there is something different about either the keyboard mapping, the BIOS,  or there are problems  with the OS.

It is possible that the keyboard is bad, you might try a different one.  If the laptop is really old and is running the first version of USB 1, then you might try a USB 2 PCMCIA, PC Card or ExpressCard card and run the keyboard from that instead of the USB socket built in to the laptop.

You might check the keyboard map (sorry I've never done that before so I don't know how) and using XBindKeys replace the current map of the delete key with a new version.  This could avoid any weirdness that the laptop or BIOS inserts in the delete key.

You also might check the system shortcut keys to see if there are any special shortcuts in play, involving the delete key.

Reinstalling or upgrading the OS might work also but I doubt it and would try that last.

Also upgrading or reinstalling AutoKey "might" help also.  Upgrading solved one of my problems with special keys.

Laptops can be weird, especially the older ones.

You "should oughta" be able to reboot using the Ctrl Alt Delete key combo if not then powering down, unpluging and pulling the battery out is the only other way to get a full reboot.

Hope this helps and good luck.

<h3><font color="#FF4500">cedardoc said…</font></h3>

11/10/10.

thank you for the suggestions, I'll try them out.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Capital letters in Hot Keys</font></h1>

4 posts by 3 authors.

<h3><font color="#FF4500">keith said…</font></h3>

11/5/10.

I have been a KHotKey user for many years and I am converting over to Autokey and Gnome, so I am sure I have some bad habits to unlearn. `<grin>`

In Autokey:

I created the hotkey  `<ctrl>`+h  and it worked perfectly.

I then created the hotkey  `<ctrl>`+`<shift>`+h  and it does nothing.

Is using `<ctrl>`+`<shift>` not allowed…or did I do something wrong?

Since the configuration box allowed me to create it, and then displayed the result in the configuration  box as:

Hotkey:  `<ctrl>`+`<shift>`+h  I would assume it is allowed….?

I really need this ability since my fingers have had 7 years of training using my KHotKey setup, which had a lot of uppercase letters in it.

In KHotKey, using the two hot keys above,  a the lower case letter "h" would insert `<h3>` HTML tags and a shifted (upper case) letter "h" would insert `<h1>` tags, .

Since `<h1>` headers are larger than `<h3>` headers this made it easier to remember which hotkey to use.  All other hot keys that I made using `<ctrl>`+`<shift>` followed the same logic.  If they were shifted they were larger in some way than the unshifted command.

Is there any way to make this work?

TIA

<h3><font color="#FF4500">jostber said…</font></h3>

11/6/10.

Can you run "autokey-gtk -l" in a terminal and check the log for what is happening when you do `<ctrl>`+`<shift>`+h?

Jostein   <h3><font color="#FF4500">keith said…</font></h3>


11/6/10.

Here are the log outputs from autokey-gtk -l  Below is the output using Ctrl Shift h which DID NOT work.

<pre>
DEBUG - iomediator - <ctrl> pressed
DEBUG - iomediator - <shift> pressed
DEBUG - service - Raw key: u'h', modifiers: ['<ctrl>', '<shift>'],
Key: u'H'
DEBUG - service - No phrase/script matched hotkey
DEBUG - iomediator - <shift> released
DEBUG - iomediator - <ctrl> released
</pre>
Below is the output using "Shift+h" which DID NOT work.

<pre>
DEBUG - iomediator - <shift> pressed
DEBUG - service - Raw key: u'h', modifiers: ['<shift>'], Key: u'H'
DEBUG - service - No phrase/script matched hotkey
DEBUG - service - Input stack at end of handle_keypress: [u'H']
DEBUG - iomediator - <shift> released
</pre>
Below is the output using "Ctrl+z" which DID work.

<pre>
DEBUG - iomediator - <ctrl> pressed
DEBUG - service - Raw key: u'z', modifiers: ['<ctrl>'], Key: u'z'
INFO - service - Matched hotkey phrase/script with prompt=True
DEBUG - service - Folder matched hotkey - showing menu
DEBUG - phrase-menu - Sorting phrase menu by usage count
DEBUG - iomediator - Send via event interface
DEBUG - interface - Sending string: u'shift'
DEBUG - iomediator - <ctrl> released
</pre>
I am using Ubuntu Gnome 10.10 with both KDE and Gnome applications installed.

I tested all three log outputs above in both kate (KDE app) and gedit (Gnome app) and the outputs were identical.

This is a "new" install not an upgrade from a previous installation of Ubuntu.

The computer:

<pre>
AMD 955 cpu (quad core Phenom II)
8 gigs ram
Asus M4A77TD
XFX Nvidia Geforce 9500GT Graphics card
— with no USB equipment plugged in
</pre>
Hope this helps.:

<h3><font color="#FF4500">Chris D said…</font></h3>

11/6/10.

The issue with Shift not working in a hotkey is a bug that was fixed in the latest release, which didn't make it into Ubuntu 10.10.  You can install it from the PPA, and it should resolve this problem.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Updated today can't open the main window</font></h1>

5 posts by 3 authors.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

10/22/10.

Updated using the update manager in Ubuntu.  The problem is that I can't open the main window anymore.  Clicking the AutoKey icon has no effect and neither has right clicking the icon and then selecting "Show Main Window".

This happens on both of my computers.

AutoKey-GTK 0.70.1 (I think" I can't check that anymore since I can't open the Main Window.).

<pre>
Ubuntu 10.04
Ubuntu 10.10
</pre>
Is this a feature or is it a known bug?

I'm not sure how to add phrases when I can not open the Main Window.

—Best Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">Luke Faraone said…</font></h3>

10/22/10.

<pre>
On 10/22/2010 03:49 PM, Johnny Rosenberg wrote:
> Updated using the update manager in Ubuntu. The problem is that I can't
> open the main window anymore. Clicking the AutoKey icon has no effect and
> neither has right clicking the icon and then selecting "Show Main Window".
</pre>
I experienced the same problem when I attempted to test my packaged version of 0.71-1:

Traceback (most recent call last):

<pre>
File "/usr/lib/python2.6/dist-packages/autokey/gtkui/notifier.py",line 133, in on_show_configure  self.app.show_configure()
File "/usr/lib/python2.6/dist-packages/autokey/gtkapp.py", line 211,in show_configure self.configWindow = ConfigWindow(self)
File "/usr/lib/python2.6/dist-packages/autokey/gtkui/configwindow.py",line 594, in __init__self.__initStack()
File "/usr/lib/python2.6/dist-packages/autokey/gtkui/configwindow.py",line 1218, in __initStack self.blankPage = BlankPage(self)
File "/usr/lib/python2.6/dist-packages/autokey/gtkui/configwindow.py",line 193, in __init__builder = get_ui("blankpage.xml")
File "/usr/lib/python2.6/dist-packages/autokey/gtkui/configwindow.py",line 48, in get_ui builder.add_from_file(uiFile) glib.
GError: Failed to open file '/usr/lib/python2.6/dist-packages/autokey/gtkui/data/blankpage.xml': No such file or directory
</pre>
I've reported this as issue 92[1]

<tt>[1]: http://code.google.com/p/autokey/issues/detail?id=92</tt>

<h3><font color="#FF4500">cedardoc said…</font></h3>

10/24/10.

Me too.

Any solution yet?  (or way to go back to the previous version?)

<h3><font color="#FF4500">Luke Faraone said…</font></h3>

10/24/10.

<pre>
On 10/24/2010 10:09 AM, cedardoc wrote:
> Me too.
>
> Any solution yet?  (or way to go back to the previous version?)
</pre>
Update from the latest version in the PPA.

—Luke Faraone.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

10/26/10.

Den 2010-10-22 21:49:02 skrev Johnny Rosenberg:

I guess I should mention that I no longer have this problem since updating to 0.71.1 a few days ago.

Thanks for fixing this so quickly.

—Kind Regards.

Johnny Rosenberg.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: importing a list of abbreviations and entries from a text file to Autokey</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">JJ said…</font></h3>

10/25/10.

Hi.

I am using Autokey to get foreign language words pasted using English abbreviations.  I've been using a sample script (Create New Abbreviation) to highlight and add words which I do not yet have in my list one by one, but this is a little bit inefficient as I have a large vocabulary of words which I need to enter.

How would one modify this following script to read in the contents for new abbreviations from a text file, where for example a phrase is followed by a tab character (or for argument's sake a backslash since tabs don't work in this text field!), the phrase's abbreviation and a return character, for example:

<pre>
à¹„à¸—à¸¢/thai
à¸„à¸­à¸¡à¸žà¸´à¸§à¹€à¸•à¸­à¸£à¹Œ/computer
à¸§à¸±à¸™à¸«à¸¢à¸¸à¸"/holiday
</pre>
Something that reads through the whole file for entries would be cool, or something that scans a selected region of text for a 'word backslash word return' string to enter as a details for new phrase would be even better.  Here's a copy of the sample script, and many thanks!.

<pre>
#Create new abbreviation:
#This script creates a new phrase with an associated abbreviation from
the current contents of the X mouse #selection (although you could
easily change it to use the clipboard instead by using
clipboard.get_clipboard()).


import time
time.sleep(0.25)
# The sleep seems to be necessary to avoid lockups
contents = clipboard.get_selection()
retCode, abbr = dialog.input_dialog("New Abbreviation", "Choose an
abbreviation for the new phrase")
if retCode == 0:
    if len(contents) > 20:
        title = contents[0:17] + "…"
    else:
        title = contents
    folder = engine.get_folder("My Phrases")
    engine.create_abbreviation(folder, title, abbr, contents)
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

10/25/10.

The following script will open a specified file with abbreviations on each line with the abbreviation and expansion separated by 'sep', and then import all entries in that file.

<pre>
abbrfile = "myfile.txt"
sep = '/'
folder = engine.get_folder("My Phrases")

f = open(abbrfile, 'r')
for line in f:
    abbr, contents = line.split(sep)
    if len(contents) > 20:
        title = contents[0:17] + "…"
    else:
        title = contents

    engine.create_abbreviation(folder, title, abbr, contents)
</pre>
<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: autokey bug? commands executed multiple times</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">blank bank said…</font></h3>

10/24/10.

I have turned off keyboard presses repeat when key is held down.  Many times, my scripts run multiple times in a row instead of just once.  The scripts are assigned to the number keys and the scripts them-selfs don't ever press numbers.  80% of time it will just run the script once, but the rest of the time it bugs out and will run the script 2 or 3 times.  how can i stop this behavior?

<h3><font color="#FF4500">Chris D said…</font></h3>

10/25/10.

See the Troubleshooting wiki page link below on how to post debug logs:

<tt>http://code.google.com/p/autokey/wiki/Troubleshooting</tt>

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: space added after phrase</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">GrouchyGaijin said…</font></h3>

10/23/10.

Hi All.

Is there a way to prevent AutoKey from adding a space after pasting a particular phrase?  I have a hot key set for my email address but have had errors because of the space that follows the address when I use AutoKey to paste it in.

Thank you.

John Niendorf.

<h3><font color="#FF4500">Chris D said…</font></h3>

10/24/10.

If you are using space to trigger the phrase, then the space is pasted at the end unless you select "Omit Trigger Character" in the abbreviation settings.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Hot Key to launch a program</font></h1>

4 posts by 2 authors.

<h3><font color="#FF4500">GrouchyGaijin said…</font></h3>

10/24/10.

Hi All.

How can I set a hot key to launch a specific program?

John Niendorf.

<h3><font color="#FF4500">Michael Tunnell said…</font></h3>

10/24/10.

you wouldnt use AutoKey for that…Ubuntu has a built in system for that.

System -> Preferences -> Keyboard Shortcuts  From there you can add new shortcuts and modify existing default shortcuts.

To add you would do the same thing you did for the startup applications:

Right click "System" and choose "Edit Menus" -> locate the application you want a shortcut for -> select it and then click properties -> copy and paste the "command" into the Keyboard Shortcuts add new form.

Michael Tunnell   <h3><font color="#FF4500">GrouchyGaijin said…</font></h3>


10/24/10.

Thank you so much.

John Niendorf.

<h3><font color="#FF4500">Michael Tunnell said…</font></h3>

10/24/10.

you're welcome…glad I could help  Michael Tunnell   <br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Re: Big release coming up</font></h1>


13 posts by 7 authors.

<h3><font color="#FF4500">Jeff Needle said…</font></h3>

10/21/10.

<pre>
On Mon, Oct 18, 2010 at 4:54 PM, Chris D wrote:
 Due to changes in my work situation I will have a substantial amount
 of spare time over the next week or two, which I plan on investing in
 a major release of AutoKey. Now would be an excellent time to suggest
 that feature you've been missing, or reporting that bug that's been
 annoying you. Take a look at the issue tracker (<tt>http://code.google.com/p/autokey/issues/list</tt>) to see what is already reported and make your
 suggestions either on the list or on the tracker.

 Chris
</pre>
I have an ongoing issue.  I want to be able to insert the date in the format xx/xx/xxxx.  I can't for the life of me figure out how to get Autokey to do this.  The date that it inserts uses what seems to be an extended format with all kinds of things of no use to me.

Would it be possible to design a variety of date templates to allow users to insert dates in a specific format?

Thanks!

Jeff Needle   <h3><font color="#FF4500">Luke Faraone said…</font></h3>


10/21/10.

<pre>
On 10/21/2010 02:27 AM, Jeff Needle wrote:
> I have an ongoing issue.  I want to be able to insert the date in the format
> xx/xx/xxxx.  I can't for the life of me figure out how to get Autokey to do
> this.  The date that it inserts uses what seems to be an extended format
> with all kinds of things of no use to me.
>
> Would it be possible to design a variety of date templates to allow users to
> insert dates in a specific format?
</pre>
Autokey scripts are just Python.  Python has always offered the ability to format time strings in whatever way you want, using the strftime function.  See <tt>http://docs.python.org/library/datetime.html#strftime-strptime-behavior</tt> for docs on the types of %%s accepted.

What your specific question requested:

<pre>
>>> import datetime
>>> datetime.datetime.now().strftime("%m/%d/%Y")
'10/21/2010'
</pre>
Perhaps you want the month and date switched, in which case swap the %d and %m above.

—Luke Faraone.

<h3><font color="#FF4500">cedardoc said…</font></h3>

10/21/10.

<pre>
> Now would be an excellent time to suggest
> that feature you've been missing
</pre>
feature requests:

#1: scripts as separate files, that default any actions to the folder that the file is in (like AHK)

#2 search ability in the configuration window  I've already voiced #2.  #1 would automatically solve #2 as you'd be able to just search your directory.  I know #1 is in reality too big a task, and probably #2 as well, but one never gets what one doesn't ask for (usually):

Regardless, thanks again for working on this project in the first place.  Autokey is excellent!

<h3><font color="#FF4500">GrouchyGaijin said…</font></h3>

10/21/10.

I'd really like AutoKey to start automatically when I login to Ubuntu.

Thank you.

John.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

10/21/10.

Den 2010-10-21 18:15:30 skrev John Niendorf:

So why don't you just check [Edit > Preferences > General > Automatically start AutoKey at login]?  Or add AutoKey to start up manually.

—Kind Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">GrouchyGaijin said…</font></h3>

10/21/10.

because I'm a dumb ass and didn't see that option earlier.

So I know how do you manually add a program to start at login?

Thank you.

John.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

10/21/10.

Den 2010-10-21 19:34:43 skrev John Niendorf:

<pre>
because I'm a dumb ass and didn't see that option earlier.
>
> So I know how do you manually add a program to start at login?
>
> Thank you.
>
>
> John.
</pre>
Well, I use Ubuntu in Swedish so I am not 100 % sure, but I would guess something like [System > Preferences > Sessions] or maybe [System > Settings > Startup] or something like that.  Look around and I'm sure you will find it, and when you do I'm almost sure you will figure out what to do next.

—Kind Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">Michael Tunnell said…</font></h3>

10/21/10.

John Niendorf.

System -> Preferences -> Startup Applications  then you click Add  type in the Name and the Command to launch the program.

If you don't know what command launches whatever you are wanting to add there is an easy way to find out.

Right click the System option at the main menu and then choose "Edit Menus" location the application you want and click the side option of Properties and it will tell you what command to use.

Michael Tunnell   <h3><font color="#FF4500">GrouchyGaijin said…</font></h3>


10/21/10.

Michael Tunnell  Thank you.  Finding the command is exactly the part that was giving me trouble.

John Niendorf.

<h3><font color="#FF4500">Michael Tunnell said…</font></h3>

10/21/10.

John Niendorf.

You're welcome…glad I could help  Michael Tunnell   <h3><font color="#FF4500">Chris D said…</font></h3>


10/21/10.

Sorry folks, I actually changed my mind after I made this post and even though I removed it before the digest was generated, it still went out in the digest…thanks Google.  I'm actually taking a break from using Linux as my main OS and will be focusing my development efforts elsewhere.  I will still be doing a release of AutoKey, possibly in the next few days, which will be a bugfix release.

I would encourage everyone (and I've already put this on the AutoKey homepage too) to use and support the IronAHK project.  They are doing some very clever and innovative work to bring a cross-platform version of AutoHotKey to fruition, and it is already quite functional on both Linux and Windows.

<h3><font color="#FF4500">cedardoc said…</font></h3>

10/21/10.

how do we get it?  when you click on the installer at <tt>http://www.ironahk.net/</tt>, it just goes to a page saying "403 Forbidden", and the others say "not found".

I did read on the AHK forum that IronAHK takes normal AHK scripts and puts them through some sort of translater in mono, is that right?  Or was the person wrong and its an entirely new (PHP based/like) language?  Forgive me if these are stupid questions - just learning Python was/is a stretch for me.

<h3><font color="#FF4500">Chris D said…</font></h3>

10/23/10.

The project has moved recently and they don't seem to have updated all their links.  The source tree is here <tt>http://github.com/polyethene/IronAHK</tt>.

Also there is a thread on the AHK forum here with links to download nightly builds: <tt>http://www.autohotkey.com/forum/topic54494.html</tt>.

<pre>
On Oct 22, 3:16 pm, cedardoc wrote:
> how do we get it?  when you click on the installer athttp://www.ironahk.net/,
</pre>
<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Any way to know if a window exist?</font></h1>

3 posts by 2 authors.

<h3><font color="#FF4500">Joon said…</font></h3>

10/12/10.

Hi.

I was wondering if there is any way to figure out if a window is exist?  Something like window.ifexist(windowname)?

Thank you.  Joon   <h3><font color="#FF4500">Chris D said…</font></h3>


10/12/10.

Have you tried window.wait_for_exist()?

<h3><font color="#FF4500">Joon said…</font></h3>

10/13/10.

Works well.  Thanks!!

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: window.activate or close does not work</font></h1>
 3 posts by 1 author
<h3><font color="#FF4500">Joon said…</font></h3>

10/11/10.

Hi.

I'm using autokey 0.71.0 in openSUSE 11.3 x64 (with Gnome).  I recently tried window.activate thing but it does not work.  What I have is simply window.close('Firefox') or window.activate('Firefox') but nothing happens when I press the designated hotkey.  Other things such as hotstrings and hotkeys are working fine so far.  Is there any way I can see messages from Autokey so I can identify the problem?

Thank you.  Joon   <h3><font color="#FF4500">Joon said…</font></h3>


10/11/10.

Oops, there was the log file.  So the error message is:

<pre>
ERROR - service - Script error
Traceback (most recent call last):
  File "/usr/local/lib/python2.6/site-packages/autokey/service.py",line 404,
in execute exec script.code in self.scope
  File "<string>", line 3, in <module>
  File "/usr/local/lib/python2.6/site-packages/autokey/scripting.py",
line 841, in close self.__runWmctrl(["-c", title])
  File "/usr/local/lib/python2.6/site-packages/autokey/scripting.py", line
923, in __runWmctrl p = subprocess.Popen(["wmctrl"] + args, stdout=subprocess.PIPE)
  File "/usr/lib64/python2.6/subprocess.py", line 633, in __init__errread, errwrite)
  File "/usr/lib64/python2.6/subprocess.py", line 1139, in_execute_child raise child_exception
  OSError: [Errno 2] No such file or directory
</pre>
I wonder if I made any mistakes when I install the autokey.  It would be great someone can help me fixing this problem.

-Joon   <h3><font color="#FF4500">Joon said…</font></h3>


10/11/10.

Oops ..  I just didn't have wmctrl installed in my system.  After installation it started working fine.

-Joon   <br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Assign "shift + tab" to right control key</font></h1>


4 posts by 3 authors.

<h3><font color="#FF4500">begtognen said…</font></h3>

10/6/10.

I was able to assign "shift + tab" to my right control key using AHK, before I switched to Linux.

Is this possible in Autokey?

<h3><font color="#FF4500">Chris D said…</font></h3>

10/7/10.

Nope not possible I'm afraid.

<h3><font color="#FF4500">Aaron S said…</font></h3>

10/7/10.

I think you can do this directly in Linux by editing your .Xmodmap file in your home folder.  I had to do something like that to get my g15 keyboard to use macros for the "g" keys.

<pre>
On Oct 7, 2010 9:45 PM, "Chris D" wrote:
</pre>
<h3><font color="#FF4500">begtognen said…</font></h3>

10/8/10.

Aaron - Thank you, I'll check into that.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Restart autokey on wake up (Ubuntu)</font></h1>

3 posts by 3 authors.

<h3><font color="#FF4500">Anthony Borrow, S.J. said…</font></h3>

10/6/10.

I am a big fan of autokey and it has saved me lots of time.  I am running Ubuntu 10.04 (looking forward to 10.10) and bounce between KVMs at work and home and other times just having my laptop on its own.  In order to get autokey working on the KVM keyboard, I have to run /etc/init.d/autokey restart.  It would nice if when I opened it up and the laptop "wakes up" if that was part of the routine.  Has anyone done something similar and have any suggestions?  Peace - Anthony   <h3><font color="#FF4500">Luke Faraone said…</font></h3>


10/6/10.

`/etc/pm/sleep.d/` contains scripts that are run on hibernate / thaw and suspend / resume.

Specifically, look at `/etc/pm/sleep.d/10_unattended-upgrades-hibernate`.  This script currently only handles hibernate, but can be used as a template for writing one that restarts autokey.

—Luke Faraone.

<h3><font color="#FF4500">Chris D said…</font></h3>

10/8/10.

A better solution is to not use the EvDev interface in AutoKey.  Switch to XRecord, problem solved.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Autokey doesn't fire up</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">kaspin said…</font></h3>

10/7/10.

Hi Chris and co., I'm still really pleased with Autokey and use it daily with Ubuntu 10.4, for example to type in my email addresses and passwords.  However there is a little quirk that I don't understand.

Often I open Autokey (Applications/Autokey) then type in the 2 characters which should set off the email signing-in process.  But all that happens is that the 2 typed characters appear in the signing-in box.  If I try to reload Auokey I'm told it's already open, and if I look in System/Administration I'm told that Autkey(GTK) is sleeping.  If I then delete the process and open it again (Applications/Autokey) it works perfectly, and for as long as the PC is running.

It's no big deal, but if there's an easy fix, it would make me even lazier.:

Thanks for your help,    kaspin   <h3><font color="#FF4500">Chris D said…</font></h3>


10/8/10.

Please see the first topic on this wiki page:

<tt>http://code.google.com/p/autokey/wiki/Troubleshooting</tt>

I will tell you how to post useful debugging information.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Autokey - Audacity open menu on focused track troubles</font></h1>

3 posts by 2 authors.

<h3><font color="#FF4500">begtognen said…</font></h3>

10/5/10.

I've had excellent luck with using Autokey to automate Audacity via keyboard (which is rather lacking in keyboard shortcuts).

I can't seem to figure out the Focused Track, though.

What I want to do:

1) open the menu on the focused track (I've set that keyboard shortcut to "9").

2) down arrow once.

3) Enter.

Seems simple, but this recorded Autokey macro:

<pre>
keyboard.send_keys("9<down><enter>")
</pre>
Results in unpredictable results.  If I've got the track selected and I press 9, then down arrow, then enter, it does what I want.

If I try to run the Autokey macro, a menu opens on one of the tracks, sometimes the focused one, sometimes not, and just sits there.

Here's what the debug says:

<pre>
START
—
DEBUG - service - Script runner executing: Script('rename track')
DEBUG - iomediator - <super> released
DEBUG - iomediator - Send via event interface
DEBUG - interface - Sending string: u'9'
DEBUG - interface - Send special key: [u'<down>']
DEBUG - interface - Send special key: [u'<enter>']
DEBUG - iomediator - <alt> pressed
DEBUG - interface - Window name: josephine_last_part
DEBUG - service - Key: '<tab>', modifiers: ['<alt>']
DEBUG - service - No phrase/script matched hotkey
DEBUG - iomediator - <alt> released
DEBUG - interface - Window name: josephine_last_part
DEBUG - service - Key: <escape>
DEBUG - interface - Window name: josephine_last_part
—
END
</pre>
Thanks so much for any help/suggestions you might have.

<h3><font color="#FF4500">Chris D said…</font></h3>

10/5/10.

The most likely cause is that AutoKey sends the keystrokes faster than Audacity can respond to them.  Your best bet would be to seperate the 9, down, enter into seperate calls to keybaord.send_key(), and maybe even introduce a very short sleep after the initial 9.  The main delay here is where the menu opens after 9.  In general, any keystroke that opens a window of any kind (including popup menu) needs a short delay after it before the next action.

<h3><font color="#FF4500">begtognen said…</font></h3>

10/6/10.

You were absolutely right.  This script:

keyboard.send_keys("9") time.sleep(1) keyboard.send_keys("<down>") keyboard.send_keys("<enter>")

Worked beautifully.  Thanks so much.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Inputbox in Python for Autokey</font></h1>

4 posts by 4 authors.

<h3><font color="#FF4500">Bohemian con man said…</font></h3>

10/5/10.

Hi  I have another Python question (Do believe me that I'm trying to find info on line prior to posting here, but all the Google results I get aren't intelligible to a novice like me…)

I'd like to create something along these lines:

<pre>
# open an input box to enter some text and assign term in input box to
a variable
Search_term = input box ("enter your search query")

# then open a Google URL with my search term  in the appropriate
place.
import subprocess
args = ['xdg-open', "http://www.google.com/search?
client=ubuntu&channel=fs&q=&`***`Search_Term`***`"]
subprocess.Popen(args)
</pre>
Help is appreciated!

Boris   <h3><font color="#FF4500">Saravanan said…</font></h3>


10/5/10.

Hi.

1.  One suggestion will be to use the clipboard features in AutoKey.  So you can select a text copy it to clipboard and then invoke the script which will read from clipboard and execute your command.  2.  Alternatively, you can checkout zenity command .  Zenity has multiple options to accept an input from user through a basic UI.

Regards.  Saravanan   <h3><font color="#FF4500">Chris D said…</font></h3>


10/5/10.

Check out the dialog class within AutoKey (it's part of the scripting API), it already does what you are asking.

<pre>
On Oct 6, 7:26 am, Saravanan wrote:
</pre>
<h3><font color="#FF4500">cedardoc said…</font></h3>

10/5/10.

Here's one I use:

<pre>
system.exec_command("exec wmctrl -k on", False)
retCode, item = dialog.input_dialog("google search", "What do you want
to search for?")
system.exec_command("exec wmctrl -k off", False)
if window.wait_for_exist(".`*`Chrome.`*`", timeOut=2):
    window.activate("Chrome", switchDesktop=False)
    time.sleep(1)
    keyboard.send_keys("<ctrl>+t")
    time.sleep(0.1)
    keyboard.send_keys(item)
    time.sleep(0.1)
    keyboard.send_keys("<enter>")
else:
    import subprocess
    subprocess.Popen(['google-chrome'])
    window.wait_for_exist(".`*`Chrome.`*`", timeOut=20)
    window.activate("Chrome", switchDesktop=False)
    time.sleep(0.5)
    keyboard.send_keys("<alt>+d")
    time.sleep(1)
    keyboard.send_keys(item)
    time.sleep(0.5)
    keyboard.send_keys("<enter>")
</pre>
It's not as direct as what you want, but it works for me.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: AutoComplete of AutoKey</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">RunningUtes said…</font></h3>

10/1/10.

I am a recent user of AutoKey and the thing that I missed the most from AutoHotKey was the autocomplete script.  I decided that there should be one for AutoKey!

To download the autocomplete file, click on the link (<tt>http://goo.gl/6Y5k</tt>) and uncompress it somewhere.  Then import that file into AutoKey.  I warn you that the file is huge (4.9MB) compared to the 81kB compressed version.  There is a lot of redundancy in the file.

One big problem though is that after a couple of minutes, Autokey locks up.  I think that this is due to the sheer size of the file.  Please give it a try and see if you have the same problem.  I would be interested in hearing options for improvement.

Michael Dansie   <h3><font color="#FF4500">Chris D said…</font></h3>


10/5/10.

Thanks for reporting, I'm looking into this.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Open URL with AutoKey (Python question)</font></h1>

4 posts by 3 authors.

<h3><font color="#FF4500">Bohemian con man said…</font></h3>

9/24/10.

Hi  I have a beginner question: How do I open a URL like <tt>http://www.python.org</tt> in the default browser?

After a long search online I've managed to find a script that will open a website in Firefox.

<pre>
import webbrowser
webbrowser.get("firefox").open("http://www.python.org")
</pre>
But I don't want to be restricted to one browser.  What's the general form of this?

And more generally asked:

I'm a windows user who is used to having a Run command for opening any program, website, folder or file.

Is there something like that for python?

Thanks!

BTW: I have some scripting knowledge in AutohotKey and VBA, but nothing fancy.  Completely new to Python.

<h3><font color="#FF4500">Luke Faraone said…</font></h3>

9/24/10.

<pre>
On 09/24/2010 11:34 AM, Bohemian con man wrote:
> Hi
>
> I have a beginner question:
> How do I open a URL like http://www.python.org in the default browser?
>
> After a long search online I've managed to find a script that will
> open a website in Firefox.
>
> import webbrowser
> webbrowser.get("firefox").open("http://www.python.org")
>
> But I don't want to be restricted to one browser. What's the general
> form of this?
</pre>

webbrowser.open() should work.  See <tt>http://docs.python.org/library/webbrowser.html#webbrowser.open</tt>.

<pre>
> And more generally asked:
> I'm a windows user who is used to having a Run command for opening any
> program, website, folder or file.
> Is there something like that for python?
</pre>

subprocess.call().

<tt>http://docs.python.org/library/subprocess.html#subprocess.call</tt>

—Luke Faraone.

<h3><font color="#FF4500">Derek said…</font></h3>

9/30/10.

This should answer both questions.  The xdg-open command is probably what you want.  The URL has to start with "http://" or "https://" for it to be recognized as a web URL, and it will open in your default web browser.  Otherwise, you could have your script check if the text looks like a web URL and prefix it if appropriate.  An absolute the path to a file or directory will be opened as if you double-clicked its icon.  Alt+F2 will bring up a window that similarly opens whatever you type into it.

import subprocess  text = clipboard.get_selection()

args = ['xdg-open', text] subprocess.Popen(args)

Derek.

Bohemian con man said the following on 09/24/2010 08:34 AM:

<h3><font color="#FF4500">Bohemian con man said…</font></h3>

10/5/10.

Thank you, works beautifully.  It's exactly what I was looking for.  B

2010/9/30 Derek.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Editing of Autokey scripts externally</font></h1>

5 posts by 3 authors.

<h3><font color="#FF4500">mfseeker said…</font></h3>

9/22/10.

I have the Autokey API , and I' m ready to start writing some Python scripts.  However, writing scripts in the Autokey editing window is less than optimal.  There is no error checking, no auto-indentation, etc.

I want to be able to use an external Python editor, say Idle or even Gedit.  In order to do that, I must give the external editor access to the classes in the Autokey scripting module.  In my Debian installation the scripting module is located at /usr/lib/Python2.6/dist-packages/ autokey/scripting.py.  In order to import scripting.py into my Python editing session, I need to first include /usr/lib/Python2.6/dist~packages/autokey/ in my Python module search path.  Then I can simply say 'import scripting' or, perhaps, 'from autokey import scripting'.

Modifying the search path is not easy.  There are two mechanisms offered.  The additional path can be written as an Environment variable PYTHONPATH.  In Windows that would be a snap; there is simple GUI and console access to all the environment variables.  Not so with Debian. setenv is not available.  Instead we use export.  OK, but the change is temporary.  How do we make it permanent.  The net is full of people agonizing over this.  Many different solutions are offered by both casual and official sources.  None of them seem to be standard, and all of them fail to work for many users.  Testing them one at a time with multiple reboots is a pain.

So what about the second option?  We can put the path /usr/lib/ Python2.6/dist-packages/autokey/ in a .pth file, say autokey.pth, but nowhere that I can find does anyone tell us where to put that file.

How do I edit autokey scripts in an external editor?  Assuming that I can get access to scripting.py, are there any other modules that I must import?

<h3><font color="#FF4500">Derek said…</font></h3>

9/23/10.

Using gedit to edit longer scripts is a good idea, but for running any that use the AutoKey classes you will need to copy them into AutoKey.  Those classes don't work outside of AutoKey.  You might be able to import them, but you wouldn't be able to instantiate objects as necessary to use them.

Derek.

mfseeker said the following on 09/22/2010 11:23 AM:

<h3><font color="#FF4500">mfseeker said…</font></h3>

9/23/10.

OK Derek.  That will work for me—especially now that I have noticed that error messages can be read by selecting 'View | View script error' within Autocad's window.

But help me out here.  I understand that if I try to instantiate one of autokey.scripting's classes in an external editor, it will fail.  It won't have access to other modules and their classes that it will need.  But suppose I were to import everything, all of Autokey's modules, into the editor.  Then why wouldn't it work?

To come at my perplexity differently, when Autokey was being originally developed, an external editor must have been used to write Autokey itself—at least until the internal editor was implemented.  So how was that code tested, and if we can run Autokey's other code in an IDE, why not autokey.scripting code?

Clearly, I am confused about some major concept here.  As I am trying to learn Python, perhaps someone could get me back on track.

<h3><font color="#FF4500">Chris D said…</font></h3>

9/25/10.

The problem stems from the fact that scripts don't become part of AutoKey's source code, which is in effect what you would be attempting to do if you were to import all AutoKey modules into your script.  AutoKey treats each script as a block of text, and that is how it stays until whatever condition that triggers that script occurs.  At that point the block of text that makes up the script is executed in the context of local and global variables that exist within the AutoKey program.

The short answer is no, there is no way to do that.

<h3><font color="#FF4500">mfseeker said…</font></h3>

9/26/10.

Got it.  Thanks Chris.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Capitalization script modified</font></h1>
 1 post by 1 author
<h3><font color="#FF4500">mfseeker said…</font></h3>

9/23/10.

I have amended Derek's capitalization script slightly to emulate the Microsoft Word capitalization toggle more closely.  Word deals with the case where the cursor is in a word that is not selected.  The modification is simple:

# Cycle a selected phrase through Capitalize|UPPERCASE|lowercase  # If no text is selected, select the word containing the text cursor.

Try:

<pre>
    text = clipboard.get_selection()
except Exception:
    keyboard.send_keys("<right><ctrl>+<left><shift>+<ctrl>+<right>")
    text = clipboard.get_selection()

words = text.split(' ')

if words[0][0] in 'ABCDEFGHIJKLMNOPQRSTUVWXYZ':
    if words[0][1] in 'abcdefghijklmnopqrstuvwxyz':
        output = ' '.join(word.upper() for word in words)
    else:
        output = ' '.join(word.lower() for word in words)
else:
    output = ' '.join(word.title() for word in words)

keyboard.send_keys(output)
length = len(output)
keyboard.send_keys("<left>" `*` length)
keyboard.send_keys("<shift>+<right>" `*` length)

# Test Words
</pre>
<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Exploring autokey code</font></h1>

4 posts by 3 authors.

<h3><font color="#FF4500">mfseeker said…</font></h3>

9/9/10.

Now that I have begun to learn Python, I am interested in exploring Autokey's code.  Searching my Debian Sketch installation for "autokey" gives me many file, but it is hard to determine what they do and where to begin looking.  I appreciate that this is a complex, mature program.  I don't expect to be able to understand the code easily, but I will appreciate any guidance you can offer.  Your script for toggling capitalization has helped motivate me as I have been reading Python guides.  If offers Aha moments as I learn features of the language, as in, "Aha, that's why there are two indexes on the words list".  Or, "Aha, 'keyboard.send_keys' and 'clilpboard.get_selection' are likely methods that Chris has defined elsewhere in his code and not part of standard libraries.

<h3><font color="#FF4500">Luke Faraone said…</font></h3>

9/9/10.

<pre>
On Thu, Sep 9, 2010 at 15:13, mfseeker wrote:
> Now that I have begun to learn Python, I am interested in exploring
> Autokey's code. Searching my Debian Sketch installation for "autokey"
> gives me many file, but it is hard to determine what they do and where
> to begin looking.
</pre>

You can get the complete source code for Autokey at <tt>http://autokey.googlecode.com/files/autokey_0.71.0.tar.gz</tt>.

<tt>autokey-qt</tt> and <tt>autokey-gtk</tt> launch the KDE and GTK versions of Autokey, respectively.  You can follow the program execution from there.

—Luke Faraone.

<h3><font color="#FF4500">mfseeker said…</font></h3>

9/19/10.

I suspect that most of the people in this group are either Python veterans or those who just want to use Autokey.  However, if there are any others who are learning Python and would like to look into Autokey's code, I have finally discovered an invaluable tool (doubtless well known to real Python programmers).  It is PyDoc used in HTML mode.  Do this:

Open a terminal.  Type "pydoc -g".  In the pydoc window that appears click the "open browser" button.

A "Python: Index of Modules" window should appear in your browser.

In one of the dist-packages lists you should find "autokey (packages)" [for me, running Debian, it is /usr/lib/python2.6/dist~packages].  Now you can click your way through Autokey's various modules.  Their documentation, attributes, etc. are all displayed here in well organized, easily accessible form.

Derek was certainly right when he suggested that Autokey is "a bit complex on the whole".  But if you are learning Python, having access to the code of a real program like Autokey whose use you understand is a great help.

<h3><font color="#FF4500">Chris D said…</font></h3>

9/20/10.

That's neat, I didn't even know about that utility.

To be honest, AutoKey is pretty simple as programs go, and I feel quite proud with the amount of features available given the small amount of code.  Much more than half the code is just the GUI, the actual 'magic' parts of AutoKey are pretty small in terms of lines of code.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: feature requests: search scripts</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">cedardoc said…</font></h3>

9/16/10.

Hi, a while ago I made the mistake of asking 2 questions in one thread and wasn't sure if my first one (a request) was noticed:

Would it be possible to have some sore of a search function to find all the instances of a certain word within the long list of scripts?  I'm a cut and paste person so I'm always manually looking in scripts for how I did one thing or another.

When I press ctrl-f, there's a little text window that pops up, but it doesn't seem to do anything.

Thanks.

Dave.

<h3><font color="#FF4500">Chris D said…</font></h3>

9/18/10.

It's certainly possible…any changes to the UI though requires work on both QT and GTK versions.  At the moment I don't have spare time available for larger changes such as that one, but if you like file a feature request so it doesn't get lost in the ether.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: create a simple loop on autokey</font></h1>

2 posts by 1 author.

<h3><font color="#FF4500">realac0 said…</font></h3>

9/8/10.

hi all, i'am Federico and i'am from Italy (sorry for my bad english).

What i need is just to create a simple loop for macro's (games for ex).

ATM i am pretty noob on python (but i'am working on it!!!) so have checked a lot around but haven't found the solution yet.

The script must:

<pre>
• w8 a focus on a window (1, 2 seconds)
• press a keyboard button
• sleep for "x" seconds
• then press again the button
</pre>
All on loop till i decide to stop it.

can u help me?

thx a lot anyway.

<h3><font color="#FF4500">realac0 said…</font></h3>

9/8/10.

nevermind!!

I found the solution reading this broad.

A suggestion from a noob user:

1) link this grp discussion easly on the "help" of autokey. ok i'am noob, but i really haven't found this broad even if searched a lot (dekter sent me a mail after i call for help, thx a lot for this)

2) maybe add some options on the gui can help noobs like me.

Anyway next thing i am planning to do is learn something about python.

Thx a lot again.

cu   <br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Re: Quick url copy</font></h1>


7 posts by 3 authors.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/25/10.

This wiki page details how to send chords like what you're trying to do   <tt>http://code.google.com/p/autokey/wiki/SpecialKeys</tt>  Please make sure you've read all the wiki guides available before posting a question here.  Also try the search function on this group, there are nearly 1000 posts so chances are your question has been asked before.

<pre>
On Aug 25, 8:49 pm, Kev wrote:
> Hi.
>
> Trying to get this working
>
> Basically want to do the following
>
> Highlight url in firefox [control + l]
> Copy link
>
> The following is not working
>
> keyboard.send_key("<control>" + "l")
> keyboard.send_key("<copy>")
>
> Not sure it I can pass a combination of keys?
>
> MrG.
</pre>
<h3><font color="#FF4500">mfseeker said…</font></h3>

9/1/10.

Capitalization script?  I would like to have a toggle capitalization script (similar to Word's Shift/F3) that would work in any text context.  It would allow me to highlight a word or phrase and toggle through Capitalize|UPPERCASE|lowercase.  I don't want to reinvent the wheel if such a script exists.  My knowledge of Python is minimal, but I am willing to learn.  However, I don't want to learn an entire language just to do this.  So, to begin with (assuming the script doesn't already exist), how do I tell my script to look at a highlighted word or phrase?

<h3><font color="#FF4500">Derek said…</font></h3>

9/1/10.

Re: Capitalization script?

Stan.

I think this script does what you're looking for.  It checks the first two letters of the first word to decide which capitalization to apply.  The last three lines re-select the text after changing it.

<pre>
# Cycle a selected phrase through Capitalize|UPPERCASE|lowercase

text = clipboard.get_selection()

words = text.split(' ')

if words[0][0] in 'ABCDEFGHIJKLMNOPQRSTUVWXYZ':
     if words[0][1] in 'abcdefghijklmnopqrstuvwxyz':
         output = ' '.join(word.upper() for word in words)
     else:
         output = ' '.join(word.lower() for word in words)
else:
     output = ' '.join(word.title() for word in words)

keyboard.send_keys(output)
length = len(output)
keyboard.send_keys("<left>" `*` length)
keyboard.send_keys("<shift>+<right>" `*` length)

# Test Words
</pre>
Derek.

Stan Armstrong said the following on 09/01/2010 05:36 AM:

<h3><font color="#FF4500">mfseeker said…</font></h3>

9/1/10.

Re: Capitalization script?  Thanks Derek.  It works like a charm in every context that I use.  In addition, you have given me an understandable example script to help me build on my meager knowledge of Python scripting.

If all I want to do is the occasional, simple Python script, could you recommend a good, short guide to Python scripting.  In other words where might I look to find enough but not too much.  I already have a collection of Python books, but 400+ pages is too much information.

Stan.

<h3><font color="#FF4500">Derek said…</font></h3>

9/2/10.

Re: Capitalization script?  I'm glad to hear it.

Most of what I have learned about Python has come from searching for "python [fill-in-the-blank]" as needed, usually reading the results from python.org.  There's a tutorial on python.org.  There's an excellent IRC channel #python on irc.freenode.net, which I usually lurk.  AutoKey is written in Python, so you can peruse it to see how certain things are done too, although it's a bit complex on the whole.  Experimenting with your own small, standalone scripts is probably best, starting with print("Hello, World!") and going from there.

Derek.

Stan Armstrong said the following on 09/01/2010 06:58 AM:

<h3><font color="#FF4500">mfseeker said…</font></h3>

9/2/10.

Re: Capitalization script?  That has been my preferred method of learning for years, but I'm not sure it is the most efficient, given a well-constructed guide.  Just recently, I found a resource that suits me just fine as a starting point.  It is A Byte of Python available free at <tt>http://www.swaroopch.com/notes/Python</tt>.  The book is 110 pages of very clearly presented guidance.  It seems to be very well thought of by others, too.

Stan.

<h3><font color="#FF4500">Derek said…</font></h3>

9/3/10.

Re: Capitalization script?  I would recommend this one: <tt>http://docs.python.org/tutorial/</tt>  Derek.

Stan Armstrong said the following on 09/02/2010 10:57 AM:

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Window Properties question</font></h1>

15 posts by 3 authors.

Kev said…id:

8/25/10.

Wish to add a window filter to my scripts, which is the best way to find out window name? xprop ?

In particular looking to only allow my email script to work in thunderbird [and firefox for gmail]

MrG.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/25/10.

The window name is literally just the name as displayed in the title bar.

<h3><font color="#FF4500">Michael Tunnell said…</font></h3>

8/25/10.

as Chris said it just uses the windows title bar but it uses regex to match wildcards:

For only Gmail in Firefox = .`*` - Gmail - Mozilla Firefox For any page in Firefox = .`*` - Mozilla Firefox  not sure about thunderbird as I don't use it but it is the same principal and also the same with any other window.  Some windows don't have anything in the title that you can use such as a Terminal but you can append one in the settings for that.

Michael Tunnell   <h3><font color="#FF4500">Michael Tunnell said…</font></h3>


8/25/10.

oh and xprop is a very cool command since it provides a lot of information but for the most part most of it isn't needed hardly ever…like a ascii of the icon - cool but unnecessary.

I'd suggest xwininfo for more useful window information.

Oh and Chris for the most part what you said is very accurate but sometimes the titles aren't shown in certain windows like Google Chrome for example.

Michael Tunnell.

<pre>
On Wed, Aug 25, 2010 at 1:43 AM, Chris Dekter wrote:
</pre>
Kev said…id:

8/25/10.

Well it cannot be that simple :-)

Ok will give it a go  Thanks  MrG.

Kev said…id:

8/25/10.

Hi Michael.

Did give it a go but  Inbox - Mozilla Thunderbird does not work…going to try xwininfo  Thanks  MrG.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/25/10.

Mozilla Thundebird would be a better way to go, as the Inbox part changes depending on what folder you have open in t'bird.

Kev said…id:

8/25/10.

Hi Chris.

I am quickly figuring that out, xwininfo gives the same title name  Did read about regex but that stuff is scary to me :-)

Thanks  MrG.

Kev said…id:

8/25/10.

I is very dumb, of course when I compose a mail I get a new window open:

'Write:'

Autokey works but it is never going to run script unless I use the correct filter.

MrG.

<pre>
On 25/08/10 08:07, Chris Dekter wrote:
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

8/25/10.

Do you actually need the filter?

<h3><font color="#FF4500">Michael Tunnell said…</font></h3>

8/25/10.

MrG it looks very scary indeed but it isn't so bad  all you have to do is run xwininfo if the title isn't shown or just look in the title if it is shown.

then just put the wildcard in with a portion of the title that is unique to that window.

.`*` - Mozilla Firefox .`*` - Google Chrome .`*` - gedit .`*` - Terminal  you could even go with less if needed like .`*` Thunderbird  if you use the less version it will match anything that has Thunderbird in the window title…although the odds of that being a lot isn't high.

Michael Tunnell  Kev said…id:

8/25/10.

Hi Chris.

It works of course without, but I thought it would not fire by accident in any other app.

Maybe I just wanted to try all the cool features in Autokey  :-).

MrG.

<pre>
On 25/08/10 08:13, Chris Dekter wrote:
Do you actually need the filter?
</pre>
<pre>
On 25 August 2010 17:12, Kev wrote:
I is very dumb, of course when I compose a mail I get a new window open

 'Write:'
</pre>
Autokey works but it is never going to run script unless I use the correct filter  MrG.

Kev said…id:

8/25/10.

Hi Micheal.

I should read up on this stuff, but examples are so much easier to learn from.

Still looks scary though, but then python does to me too darn those tabs..:

MrG.

<h3><font color="#FF4500">Michael Tunnell said…</font></h3>

8/25/10.

if all it says is "Write:" then you could use  Write: .'*'

but of course anything with that in the title will match that filter regardless of what program it actually is and if that is all the window says without a program suffix then there isn't a way to filter it further…except maybe through WinIDs but that isn't a feature yet in AutoKey but we are annoying Chris about it so maybe in the future. :)

About Regex, ok I'm not gonna lie to you…Regex is complicated especially in the beginning.  However it works just like any programming language (although it technically isn't a language), so once you learn the structure of Regex it gets pretty easy to use but you will always have a learning period like every language.  If you know any programming then you will have an easier time than if you don't.  If you don't then I wish you luck. :)

Michael Tunnell   <h3><font color="#FF4500">Kev said…</font></h3>


8/25/10.

Hi Michael.

When I started using Linux I found a terminal scary, but now I use it everyday so its just a learning curve.

As Chris has stated you do not need to use it, but I felt it a way of stopping me putting a email body into a search box or document by mistake.

I am grateful for your time and help, ok off to give it another go.:

MrG.

<pre>
On 25/08/10 08:21, Michael Tunnell wrote:

If all it says is "Write:" then you could use:

Write: .`*`

but of course anything with that in the title will match that filter regardless of what program it actually is and if that is all the window says without a program suffix then there isn't a way to filter it further…except maybe through WinIDs but that isn't a feature yet in AutoKey but we are annoying Chris about it so maybe in the future. :)

About Regex, ok I'm not gonna lie to you…Regex is complicated especially in the beginning. However it works just like any programming language (although it technically isn't a language), so once you learn the structure of Regex it gets pretty easy to use but you will always have a learning period like every language. If you know any programming then you will have an easier time than if you don't. If you don't then I wish you luck. :)

 Michael Tunnell
</pre>
<pre>
On Wed, Aug 25, 2010 at 2:13 AM, Chris Dekter wrote:
</pre>
<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Japanese keyboard</font></h1>

4 posts by 2 authors.

<h3><font color="#FF4500">Nikola said…</font></h3>

8/23/10.

Hello.  I am new to autokey and wish to use it to emulate french accentuated characters with combinations of keys on my Japanese keyboard.  I do this on my windows machine with AutoHotKey and am very used to it.  The idea is that on the Japanese keyboard there are three special keys around the space bar, and combinations with them and the vowels yeald accentuated vowels.

How can I refer to theese keys in autokey?

Thank you.

<tt>http://www.ingonielsen.dk/photogallery/japan2003/7tokyo/japanese_keyboard.jpg</tt>

<h3><font color="#FF4500">Chris D said…</font></h3>

8/23/10.

I'm guessing from what you are saying that these special keys are treated as modifiers, similar to Control, Shift etc?  That being the case, currently there would be no way to use them as AutoKey only knows about the following modifiers: Control, Alt, Shift, Alt Grid (ISO Level 3 Shift).

<h3><font color="#FF4500">Nikola said…</font></h3>

8/23/10.

Exactly.

The only workaround i found was using xmodmap and treat them as modifiers, however this is very dirty, and doesn't solve the problem.  What i need is to capture multiple keystrokes or combinations and translate them into one keystroke and this to be application specific (i.i the same combination translates to diferent keystrokes in different windows).

Thanks.

NT.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/23/10.

It's certainly an interesting application…unfortunately I don't see how this will be possible with AutoKey in the near future.  It certainly shows up the difference in level of sophistication between AHK and AutoKey.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: autotag</font></h1>
 2 post by 1 author
<h3><font color="#FF4500">Kev said…</font></h3>

8/20/10.

Hi.

I am getting into this python stuff…something struck me and so added a third variable:

<pre>
#! /usr/bin/python

def auto_tag(Start_text, End_text, Extra_left):
     if Extra_left:
         Start_text = Start_text + "\n\n\n\n"
     autotag_string=Start_text + End_text
     End_text_len = len(End_text) + Extra_left
     return autotag_string, End_text_len
</pre>
Now if you pass:

<pre>
import autotag

fred = autotag.auto_tag("Hi Fred", "Ginger", 2) # the 2 means two extra
<left> so gets you right into body of email
keyboard.send_keys(fred[0])
keyboard.send_key("<left>", fred[1])
</pre>
If you set Extra_left to 0 then it becomes an autotag script.

If anyone can clean up my sloppy coding feel free.

MrG.

<h3><font color="#FF4500">Kev said…</font></h3>

8/20/10.

Hi.

May a slight adjustment to my script, added a third option.

<pre>
     Script: autotag

     #! /usr/bin/python

     def auto_tag(Start_text, End_text, Extra_left):
        autotag_string=Start_text + End_text
        End_text_len = len(End_text) + Extra_left
        return autotag_string, End_text_len

     Autokey: Script

     import autotag

     fred = autotag.auto_tag("fred", "Ginger", 0)
     keyboard.send_keys(fred[0])
     keyboard.send_key("<left>", fred[1])
</pre>
You can now add extra <left>s to allow this to be used to create an email body wrapper.

Again my coding skills are google based :-) so if there is a way to do better then I would like to know.

MrG.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: autotag</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">Kev said…</font></h3>

8/19/10.

Hi.

I have just about got autotag working    <pre>
Script: autotag  #! /usr/bin/python  def auto_tag(Start_text, End_text):
     autotag_string=Start_text + End_text      End_text_len = len(End_text) + 2 # ignore this as I am wanting to use with emails!
     return autotag_string, End_text_len  Autokey: Script  import autotag  fred = autotag.auto_tag("fred", "Ginger")
keyboard.send_keys(fred[0])
keyboard.send_key("<left>", fred[1])
</pre>
My coding skills are to say the least sketchy, so if anyone can clean or trim it up then I would be grateful.

Basically I am trying to get <tag></tag> with cursor in the middle.

Thanks  MrG.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/20/10.

Excellent, that is a very good solution to the problem.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: adding reminder to Autokey generated google calendar event</font></h1>

4 posts by 2 authors.

<h3><font color="#FF4500">cedardoc said…</font></h3>

8/18/10.

Hi.

I have a script I often use to quickly add an appointment to my google calendar.  To my chagrin, events made this way do not add the default reminder (e.g. email 10 min before appt).  Other than the existance of a reminder script at the google calendar python API site (<tt>http://code.google.com/apis/calendar/data/1.0/developers_guide_python.html#CreatingQuickAdd</tt> (search for "reminder")) the lack of ability to set reminders for programatically generated gcal events is widely complained about.

I've tried to solve this by adding google's reminder code at the end of my script:

<pre>
retCode, date = dialog.calendar(title="Choose a date", format="%Y-%m-%d", date="today")
if retCode == 0:
    retCode, time = dialog.input_dialog("what time?", "starting at what time?")
if retCode == 0:
    retCode, event1 = dialog.input_dialog("the event?", "what's the event?")
    event2 = date + " at " + time + " " + event1
if retCode == 0:
    try:
        from xml.etree import ElementTree # for Python 2.5 users
    except ImportError:
        from elementtree import ElementTree
    import gdata.calendar.service
    import gdata.service
    import atom.service
    import gdata.calendar
    import atom
    import getopt
    import sys
    import string
    import time
    calendar_service = gdata.calendar.service.CalendarService()
    calendar_service.email = 'YOURGMAILADDRESS'
    calendar_service.password = 'YOURGMAILPASSWORD'
    calendar_service.source = 'Google-Calendar_Python_Sample-1.0'
    calendar_service.ProgrammaticLogin()
    event = gdata.calendar.CalendarEventEntry()
    event.content = atom.Content(text=(event2))
    event.quick_add = gdata.calendar.QuickAdd(value='true')
    # Send the request and receive the response:
    new_event = calendar_service.InsertEvent(event, '/calendar/feeds/
default/private/full')
    def AddReminder(calendar_service, event, minutes=10):
        for a_when in event.when:
            if len(a_when.reminder) > 0:
                a_when.reminder[0].minutes = minutes
            else:
a_when.reminder.append(gdata.calendar.Reminder(minutes=minutes))
        return calendar_service.UpdateEvent(event.GetEditLink().href, event)
</pre>
the stuff I added starts at "def AddReminder…"

I tried with and without the last "return" line, and I tried it with the "def AddReminder" part fully indented.  All tries made an appointment but none had the 10 min reminder.

Is there anything obviously wrong with this? (I have no real training and only understand a small portion of the code)

I realize this may or may not technically be a real "Autokey" problem, but if you could help get it working, this sort of thing might attract more users searching for a solution to the gcal reminder problem.

Thanks.  Dave.

<h3><font color="#FF4500">cedardoc said…</font></h3>

8/18/10.

BTW, the indentation after that last else isn't there in the original.

I think that was screwed up by google groups when I pasted it in.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/18/10.

I don't see anywhere in your code were the AddReminder function is actually called.  As as result, no reminder is being added to the event.

<h3><font color="#FF4500">cedardoc said…</font></h3>

8/19/10.

Okay, I'll look up how to use functions in python, and if I get it working will post back here.  I guess those google guys assume a higher level of knowledge than my white belt code stealing :-)

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: window filter on properties other than title</font></h1>

8 posts by 4 authors.

<h3><font color="#FF4500">brent said…</font></h3>

8/17/10.

hello:

I use the GNOME desktop and while many of the standard programs append the application title to the window title (Evolution, gedit) others do not (Epiphany and soon Nautilus).

I wrote a small plugin to epiphany to append 'Epiphany' in the window title so that I can write scripts that apply only to epiphany but a better solution would be to allow filtering on other properties (I want to use WM_CLASS) as seen from xprop.

I thought i would ask here before filing a bug.

Cheers.

Brent.

<h3><font color="#FF4500">Michael Tunnell said…</font></h3>

8/17/10.

I agree that more window options would be great to have but for me Nautilus has "- File Browser" appended to the end.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/17/10.

How do you propose that this be represented in the UI?

<h3><font color="#FF4500">brent said…</font></h3>

8/18/10.

it does for now but a git commit on 2010-06-08 removes it.

<tt>http://git.gnome.org/browse/nautilus/commit/?id=0596f0121e6f931bfcd704cb9bcdc8ec0afdf024</tt>.

<h3><font color="#FF4500">brent said…</font></h3>

8/18/10.

for the ui i am guessing that the only two cases people would want to filter on is WM_NAME and WM_CLASS.

1) A radio button choice between filtering on title or class.

2) make the user add 'WM_CLASS' as the first entry in the textbox for window filtering followed by the actual desired filter. then change the parsing in autokey to do its magic.  Not very discoverable though.

sorry i am not more helpful.  I will think more about what a nice ui might look like.

cheers   <h3><font color="#FF4500">Derek said…</font></h3>


8/18/10.

CompizConfig has a very nice window filter GUI.  Look, for example, in the Window Rules module and click a '+' button to add a window filter to a rule:

The "Edit Match" dialog that appears has controls:

<pre>
Type: combo box with
        Window Class
        Window Title
        Window Name
        Window ID
        Window Role
        Window Type
Value: text entry plus a 'Grab' button to get the value by clicking a
window
Relation: combo box of And and Or
Invert: checkbox
</pre>
<pre>
On Aug 17, 5:58 pm, Chris Dekter wrote:
</pre>
<h3><font color="#FF4500">Michael Tunnell said…</font></h3>

8/18/10.

you could have it just allow input of the Window Id or Window Name (like it has for name already) - then in preferences or somewhere like in the Help menu tell people to use the default command - xwininfo in terminal to get the information.

Michael Tunnell   <h3><font color="#FF4500">Chris D said…</font></h3>


8/18/10.

It's an interesting idea, however I don't have the time currently to implement something of that complexity.  It'll get added to the todo list.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Import of python scripts</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">Mr Green said…</font></h3>

8/18/10.

I am trying to get my auto_tag script working, not being much of a python coder is making it more difficult  So far I have autotag.py in my Scripts/ folder [added in autokey prefs].

<pre>
#! /usr/bin/python

def auto_tag(Start_text, End_text):

        End_text_Len = len(End_text) + 2
 keyboard.send_keys(Start_text + End_text)
 keyboard.send_key("<left>", End_text_Len)
 return autotag_string
</pre>
I think the keyboard.send is not working as its not part of script.  Also unsure if return statement is correct.

Think I need to remove keyboard stuff unless I can get it to load in autotag, works fine in a normal script.

Hope it makes sense just a little stuck!

MrG.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/18/10.

My apologies, I should have thought of that when I gave you the advice earlier - you can't use AutoKey-specific stuff in the imported module (e.g. keyboard.blah, clipboard.blah etc).  So this approach won't work for you.  As it stands I don't see any other solution than to copy and paste the code into each instance you want to use it.  You have the ability to duplicate a script in its entirety using the copy/paste item function in the UI, that should speed things up.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Status icons for Ubuntu 10.04</font></h1>
 1 post by 1 author
<h3><font color="#FF4500">Chris D said…</font></h3>

8/17/10.

For those of you using the latest version of Ubuntu, here's a link to a blog post with status icons that will match the default Radiance/ Ambiance themes:

<tt>http://rvincent.digital-nerv.net/2010/08/05/icons-for-autokey-gtk-ui-0-71-0/</tt>

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Pass information to a script</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">Mr Green said…</font></h3>

8/17/10.

I am currently using this script [I found so not my work!].

<pre>
firstPart = "<img>"
secondPart = "</img>"
keyboard.send_keys(firstPart + secondPart)
keyboard.send_key("<left>", len(secondPart))
</pre>
It works fine but for every tag I wish to create I have to rewrite the whole code  Not sure if Autokey will allow def() so I could pass tags I need  Something like:

<pre>
def auto_tag( open_tag, close_tag)
keyboard.send_keys(open_tag + close_tag)
keyboard.send_key("<left>", len(close_tag))
</pre>
Will autokey allow me to pass tags to auto_tag script? or am I way out of my depth?

MrG.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/17/10.

If you create the auto_tag function in a separate Python module (e.g. tag.py) and place it in your user module folder (as configured under preferences in AutoKey), then yes.  You will need to restart AutoKey for the new .py file to be picked up.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Phrase vs script</font></h1>

6 posts by 2 authors.

<h3><font color="#FF4500">Mr Green said…</font></h3>

8/16/10.

Hi.

I am really getting into Autokey [well I do not get out much!]

Using the <left> in my phrases works fine but for an email message body you need to type it five times to get cursor in the correct place.

Would a <left n> be viable? or would a python script be easier?

MrG.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/16/10.

You could use a script instead, and employ keyboard.send_key("<left">, n) where n is the number of times you want the key repeated.

<h3><font color="#FF4500">Kev said…</font></h3>

8/16/10.

So could I for example use a call to a script in a phrase?

So message body would be  Hi Fred.

MrG <script_left 5>?

<h3><font color="#FF4500">Chris D said…</font></h3>

8/16/10.

Refer to the documentation which details the complete scripting API:

<tt>http://autokey.googlecode.com/svn/trunk/doc/scripting/index.html</tt>

<h3><font color="#FF4500">Kev said…</font></h3>

8/16/10.

Hi Chris.

I will read up on how to do it   <tt>http://saravananthirumuruganathan.wordpress.com/2010/04/14/autokey-linux-utility-for-text-substitution-hotkeys-and-desktop-automation/</tt>  Some useful information  Thanks for your help  MrG.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/16/10.

Yup that is a very good guide - good luck with it :)

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Simple space question:</font></h1>

8 posts by 3 authors.

<h3><font color="#FF4500">Mr Green said…</font></h3>

8/15/10.

Hi.

This may have already been covered before so please bear with me.

Once keyword is replaced in a sentence the space is still added which is fine.

I am trying to set up a shortcut for emails  eg  Hi Fred, <return> <return>

The trigger works fine but I get the extra space on the new line, is there any way to escape the space [remove] or will I need to use a small python script instead?

Thanks  MrG.

<h3><font color="#FF4500">Michael Tunnell said…</font></h3>

8/15/10.

don't use space as the trigger…use something else like <tab>

<h3><font color="#FF4500">Mr Green said…</font></h3>

8/15/10.

I should have looked more closely at options when setting abbreviation…the second option omit trigger character was what I was looking for.

Autokey has got it covered  Amazing app  MrG.

<h3><font color="#FF4500">Michael Tunnell said…</font></h3>

8/15/10.

it sounds like you are using <space> as the trigger and that is your problem…if you don't use it to trigger the replacement then there won't be a space there to worry about.

I build my replacements without triggers so when I type them they automatically are replaced.  Of course you can't do this with a simple replacement like "fr" but by adding special characters that normally are used you can use "fr".

Example: ;fr; or [fr].

Because the special characters are surrounding what you want the replacements only happen when it detects the special characters which are very very unlikely that you will ever write two semicolons in anything.

<pre>
On Sun, Aug 15, 2010 at 2:51 PM, Kev wrote:
The space is after the trigger phrase, the phrase is replaced by word
but space remains.

Ie you type fr then space word is replaced in example the word Fred
and cursor is a space ahead. Which is fine in a normal sentence. I
want to replace fr with Hi Fred, then add two newlines ready for email
body. But I have to backspace before typing my message.

MrG.
</pre>
<pre>
On Sunday, August 15, 2010, Michael Tunnell wrote:
 > don't use space as the trigger…use something else like <tab>
 >
 > On Sun, Aug 15, 2010 at 10:18 AM, Mr Green wrote:
 > Hi.
 >
 > This may have already been covered before so please bear with me.
 >
 > Once keyword is replaced in a sentence the space is still added which
 > is fine.
 >
 > I am trying to set up a shortcut for emails
 >
 > eg
 >
 > Hi Fred, <return>
 > <return>
 >
 > The trigger works fine but I get the extra space on the new line, is
 > there any way to escape the space [remove] or will I need to use a
 > small python script instead?
 >
 > Thanks
 >
 > MrG.
</pre>
Kev   <h3><font color="#FF4500">Michael Tunnell said…</font></h3>


8/15/10.

:) that works too. :)

I still prefer my no trigger method as it is much quicker but to each their own. :).

<pre>
On Sun, Aug 15, 2010 at 3:14 PM, Mr Green wrote:
I should have looked more closely at options when setting
 abbreviation…the second option omit trigger character was what I
 was looking for.

 Autokey has got it covered

 Amazing app

 MrG.
</pre>
<pre>
On Aug 15, 8:36 pm, Michael Tunnell wrote:
 > don't use space as the trigger…use something else like <tab>
 >
> On Sun, Aug 15, 2010 at 10:18 AM, Mr Green wrote:
 > > Hi.
 >
 > > This may have already been covered before so please bear with me.
 >
 > > Once keyword is replaced in a sentence the space is still added which
 > > is fine.
 >
 > > I am trying to set up a shortcut for emails
 >
 > > eg
 >
 > > Hi Fred, <return>
 > > <return>
 >
 > > The trigger works fine but I get the extra space on the new line, is
 > > there any way to escape the space [remove] or will I need to use a
 > > small python script instead?
 >
 > > Thanks
 >
 > > MrG.
</pre>
<h3><font color="#FF4500">Mr Green said…</font></h3>

8/15/10.

Did not think of using another character as a trigger :-)

I am looking at tags next, a way of placing the cursor inside the tags  (foo)[cursor](/foo)

Would save me a lot of time and it would also work for email messages too  Thanks for your help  MrG.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/15/10.

Use <left> key as you would with the real keyboard.

<h3><font color="#FF4500">Mr Green said…</font></h3>

8/15/10.

Ok will give it a go Thanks.

MrG.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Re: The @ character seems to be omitted</font></h1>

8 posts by 2 authors.

<h3><font color="#FF4500">Chris D said…</font></h3>

7/19/10.

I would suspect your keyboard layouts again.  Nothing has changed in AutoKey in the last few versions that would cause a change in this behaviour.

<pre>
On 20 July 2010 00:49, Johnny Rosenberg wrote:
I have a few phrases for email addresses and now I noticed that the @
 is omitted. I just want to know if anyone else noticed this or if it's
 just me, before I start digging deeper into it. Tried with different
 keyboard layouts, same result.

 I have checked that the @ is present in the phrase definition.

 Latest Autokey, latest Ubuntu.
</pre>
<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

7/20/10.

2010/7/20 Christiaan Dekter.

<pre>
> I would suspect your keyboard layouts again. Nothing has changed in AutoKey
> in the last few versions that would cause a change in this behaviour.
</pre>
Seems very odd to me, because I have a lot of characters defined exactly the same way but they appear as they should.  I think.

Okay, I'll do some more tests with different keyboard layout and so on and I'll be back when I know more.

Regards.

Johnny Rosenberg.

<pre>
> On 20 July 2010 00:49, Johnny Rosenberg wrote:
>>
>> I have a few phrases for email addresses and now I noticed that the @
>> is omitted. I just want to know if anyone else noticed this or if it's
>> just me, before I start digging deeper into it. Tried with different
>> keyboard layouts, same result.
>>
>> I have checked that the @ is present in the phrase definition.
>>
>> Latest Autokey, latest Ubuntu.
</pre>
<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

7/20/10.

2010/7/20 Johnny Rosenberg:

<pre>
2010/7/20 Christiaan Dekter:
>> I would suspect your keyboard layouts again. Nothing has changed in AutoKey
>> in the last few versions that would cause a change in this behaviour.
>
> Seems very odd to me, because I have a lot of characters defined
> exactly the same way but they appear as they should. I think.
>
> Okay, I'll do some more tests with different keyboard layout and so on
> and I'll be back when I know more.
>
>
> Regards.
>
> Johnny Rosenberg
</pre>
Done some more tests now:

Restarted my computer.

Entered my user name.

Selected USA/USA for keyboard layout.

Entered my password to complete login.

Tried to type my email address again.  Still no @.

I also tried with the standard Swedish layout, same thing.

The strange thing is that it works with my wife's computer.

I also created this phrase:

@e abcdefghijklmnopqrstuvwxyzÃ¥Ã¤Ã¶ ABCDEFGHIJKLMNOPQRSTUVWXYZÃ…Ã„Ã– Â§!"#@%&/()=+ â˜  â˜º"â™¯Â¤â€°&|â‚â‚Žâ‰ˆ? â˜Â¡@Â£$Â¥&{[]}\ â˜Žâ˜¹â€œâ™®âˆµâˆ´/â½â¾â‰  Â¿
</pre>
Here's the result:

<pre>
abcdefghijklmnopqrstuvwxyzÃ¥Ã¤Ã¶
ABCDEFGHIJKLMNOPQRSTUVWXYZÃ…Ã„Ã–
Â§!"#%&/()=+
Â¤&?
Â¡Â£Â¥&
/
</pre>
I tried that one on my wife's computer too and the result was just about the same, except that @ works for her.  She use the standard Swedish layout and she has never used anything else (on that computer).

I think I need to dig somewhat deeper into this.

And I don't think this problem occurred since the last update, I just don't use that character very often so it is quite possible that I just didn't notice it before.

Regards.

Johnny Rosenberg.

<pre>
On 20 July 2010 00:49, Johnny Rosenberg wrote:
>>>
>>> I have a few phrases for email addresses and now I noticed that the @
>>> is omitted. I just want to know if anyone else noticed this or if it's
>>> just me, before I start digging deeper into it. Tried with different
>>> keyboard layouts, same result.
>>>
>>> I have checked that the @ is present in the phrase definition.
>>>
>>> Latest Autokey, latest Ubuntu.
</pre>
<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

8/12/10.

Okay, now I put all the original evdev files back in place, including the layout file, so now my own layout is completely gone from my system.  I stole the original files from my wife's computer, which never had any other layouts installed than the original ones.

The @ now works (can the reason why it didn't work before be that I have the â€œ@â€œ on a different key when I have my own layout?), but still there are no Japanese or Russian characters and I guess most of the UTF-8 characters won't work either.  I will now test this on my Eee PC in which I never experimented with any kinds of layouts (still using the original Swedish layout on it).

I'll pick some random characters and put into a phrase, let's say â€œâŸ°âŸ±âŸ²âŸ´âŸµâŸ¶âŸ¿â€œ.  Abbreviation is â€œaaaâ€œ.

This doesn't work on either of my machines.  The abbreviation is erased and replaced by nothing.

Here's the info provided by autokey-gtk -l:

<pre>
DEBUG - service - Raw key: u'a', modifiers: [], Key: u'a'
DEBUG - service - No phrase/script matched hotkey
DEBUG - service - Input stack at end of handle_keypress: [u'a']
DEBUG - service - Raw key: u'a', modifiers: [], Key: u'a'
DEBUG - service - No phrase/script matched hotkey
DEBUG - service - Input stack at end of handle_keypress: [u'a', u'a']
DEBUG - service - Raw key: u'a', modifiers: [], Key: u'a'
DEBUG - service - No phrase/script matched hotkey
DEBUG - service - Input stack at end of handle_keypress: [u'a', u'a', u'a']
DEBUG - service - Raw key: '<enter>', modifiers: [], Key: '<enter>'
DEBUG - service - No phrase/script matched hotkey
DEBUG - interface - Send special key: ['<backspace>']
DEBUG - interface - Send special key: ['<backspace>']
DEBUG - interface - Send special key: ['<backspace>']
DEBUG - interface - Send special key: ['<backspace>']
DEBUG - iomediator - Send via event interface
DEBUG - interface - Sending string:
u'\u27f0\u27f1\u27f2\u27f4\u27f5\u27f6\u27ff'
DEBUG - interface - Send special key: [u'<enter>']
DEBUG - interface - Send special key: [u'<enter>']
DEBUG - service - Input stack at end of handle_keypress: []

Ubuntu 10.04 (My main laptop and my Eee PC 900)
AutoKey GTK 0.71.0 (Main laptop)
AutoKey GTK 0.70.4 (Eee PC)
</pre>
Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/12/10.

X doesn't permit the mapping of these extended characters.  Try using paste via clipboard or selection.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

8/12/10.

2010/8/12 Chris Dekter:

<pre>
> X doesn't permit the mapping of these extended characters. Try using paste
> via clipboard or selection.
</pre>
My, that was a quick reply!

Why did it work with earlier AutoKey versions (not sure which one, though)?

Anyway, you mean that I should try to use a script rather than a phrase?  Can you point me to a place where I can learn how to make scripts of that kind?  I am not sure how to put things into the clipboard. (I didn't find any examples that did this, I only found examples that put selected text into the clipboard)

Regards.

Johnny Rosenberg.

P.S.  The Swedish default layout really sucks.  I constantly type 89 instead of () now, since I am now used to having no numbers on the upper row.  And I type " instead of â€œ and Â· instead of . all the time. `*`SOB`*` D.S.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/12/10.

I don't know about the @ character, but I was talking more about those other characters (arrows, faces etc).  X just doesn't seem to recognise these as valid keysyms, it will let you map them to a keycode but it then produces no output as you are seeing.

What I meant was change the phrase to paste via clipboard (it's an option in the form a combo box on the phrase page).

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

8/12/10.

2010/8/12 Chris Dekter:

<pre>
> I don't know about the @ character, but I was talking more about those other
> characters (arrows, faces etc). X just doesn't seem to recognise these as
> valid keysyms, it will let you map them to a keycode but it then produces no
> output as you are seeing.
>
> What I meant was change the phrase to paste via clipboard (it's an option in
> the form a combo box on the phrase page).
</pre>
Okay, I didn't notice it before.  Strange.  But yes, it works.  I have abbreviated two song titles and they now both work.  Ame No Midoosuji (é›¨ã®å¾¡å  ‚ç­‹) Manchurian Beat (ÐÐ° Ð¡Ð¾Ð¿ÐºÐ°Ñ…ÐœÐ°Ð½Ñ‡Ð¶ÑƒÑ€Ð¸Ð¸) Thanks!

Regards.

Johnny Rosenberg.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Wishlist: keywait</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">tpower21 said…</font></h3>

8/11/10.

The waiting for key release behaviour here would be very useful for me, anyone else?

<tt>http://www.autohotkey.com/docs/commands/KeyWait.htm</tt>

<h3><font color="#FF4500">Chris D said…</font></h3>

8/11/10.

It's certainly doable - why not post an entry on the tracker on the googlecode site.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: More specific specification of modifier keys..</font></h1>

4 posts by 2 authors.

<h3><font color="#FF4500">tpower21 said…</font></h3>

7/23/10.

Keen to use Shift_R as a modifier in it's own right (i.e.  Shift_R as modifier, Shift_L on normal duties).

Was hoping I might be able to implement using it's keycode via autokey.json as described for hotkeys here:

<tt>http://code.google.com/p/autokey/issues/detail?id=53</tt>

but no luck so far, anyone been able to/have any ideas?  Might submit a feature request if not, would be handy I think?

<h3><font color="#FF4500">Chris D. said…</font></h3>

7/23/10.

I can tell you for certain that it's currently not possible to do that, but it's definitely something that should be implemented as AutoKey matures.

<h3><font color="#FF4500">tpower21 said…</font></h3>

7/23/10.

Thanks for the info, a much underused key!

<h3><font color="#FF4500">tpower21 said…</font></h3>

7/30/10.

in case anyone else is trying to get this behaviour, i worked round it by mapping shift_r to super_r then super_l to alt_gr with setxkbmap (xmodmap not doing it for me), some useful info here:

<tt>http://madduck.net/docs/extending-xkb/</tt>

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: AutoKey 0.71.0 released</font></h1>

1 post by 1 author

<h3><font color="#FF4500">Chris D said…</font></h3>

7/30/10.

A new version of AutoKey, 0.71.0 has just been uploaded to the PPA and should be built shortly.  As always, treat releases to the PPA as beta and back up your AutoKey data before trying the new version.

Release highlights:

<pre>
• Import/export facility allowing you to backup or share a script,
phrase or entire folder including subfolders
• Support for hotkeys without any modifiers
• Shift can now be used as a modifier for a hotkey, without any other
modifiers present
• The record macro function has been fixed (it would lock up the
keyboard)
</pre>
<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Script execution very slow</font></h1>

5 posts by 2 authors.

<h3><font color="#FF4500">slosd said…</font></h3>

7/30/10.

I have this very short script which is executed when I press [ALT] + [L]

<pre>
text = clipboard.get_clipboard().replace('.', '_');
keyboard.send_keys(text+"_name");
</pre>
Nevertheless most times it takes 4-5 seconds until the text is inserted.  Sometimes it only gets inserted when I hover over the autokey notification symbol with the mouse.  I wasn't able to figure out what's going wrong here.

<h3><font color="#FF4500">Chris D said…</font></h3>

7/30/10.

Which version of AutoKey are you using?

<h3><font color="#FF4500">slosd said…</font></h3>

7/30/10.

I'm using 0.61.7.  That's the one in the Ubuntu repositories for lucid.

Here is the log from autokey -l.

<pre>
DEBUG - iomediator - <alt> pressed
DEBUG - interface - Window name:…- Eclipse SDK
DEBUG - service - Key: u'l', modifiers: ['<alt>']
INFO - service - Matched hotkey phrase/script with prompt=False
DEBUG - service - Script runner executing: Script('Build label')
DEBUG - iomediator - <alt> released
DEBUG - iomediator - Send via event interface
DEBUG - interface - Sending string: u'dom_ipc_plugins_enabled_name'
DEBUG - interface - Window name:…- Eclipse SDK
DEBUG - service - Key: <enter>
DEBUG - service - Input stack at end of handle_keypress: ['\n']
DEBUG - iomediator - <alt> pressed
DEBUG - interface - Window name:…- Eclipse SDK
DEBUG - service - Key: u'l', modifiers: ['<alt>']
INFO - service - Matched hotkey phrase/script with prompt=False
DEBUG - service - Script runner executing: Script('Build label')
DEBUG - iomediator - <alt> released
DEBUG - iomediator - Send via event interface
DEBUG - interface - Sending string: u'dom_ipc_plugins_enabled_name'
</pre>
<h3><font color="#FF4500">slosd said…</font></h3>

7/30/10.

As it turns out updating to 0.70.5 fixed this.  Works great now :) Sry, should have tried that before ;).

<pre>
On 30 Jul., 15:20, Chris Dekter wrote:
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

7/30/10.

This is a bug which has since been fixed.  Try the latest version from the PPA.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Key mentioned on Lifehacker!</font></h1>

8 posts by 4 authors.

<h3><font color="#FF4500">Mobilediesel said…</font></h3>

7/21/10.

AutoKey was mentioned in the Lifehacker Pack for Linux: Our List of the Best Linux Downloads today!

<tt>http://lifehacker.com/5590624/lifehacker-pack-for-linux-our-list-of-the-best-linux-downloads</tt>

<h3><font color="#FF4500">Chris D said…</font></h3>

7/21/10.

Nice find :) One (or more) of the guys at lifehacker has been a fan of AutoKey for a while - they did a review of it last year.

<h3><font color="#FF4500">mfseeker said…</font></h3>

7/22/10.

Congratulations.  This is a well deserved placement.  Considering the quality of most of the stuff on their list, this may be a milestone.  Can inclusion in distros be far behind?

<h3><font color="#FF4500">Luke Faraone said…</font></h3>

7/22/10.

Well, Autokey is already in Debian and Ubuntu, somebody just needs the time and interest to package it for Fedora, Gentoo, etc.

Thanks.  Luke Faraone.

<pre>
On Jul 22, 2010, at 7:05, Stan Armstrong wrote:
> Can inclusion in distros be far behind?
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

7/22/10.

Ah well thanks :) There is still room for improvement however, I found two bugs today!

<h3><font color="#FF4500">mfseeker said…</font></h3>

7/22/10.

Yes, I realized that we had deb packages available through a ppa.  What I was looking forward to was the glorious day when Autokey might be included in an official release.  Ubuntu 10.10 might be a bit soon, but, hey, the program is looking more and more mature.

<h3><font color="#FF4500">Chris D said…</font></h3>

7/22/10.

What Luke is getting at is that it is already part of an official release of Ubuntu and Debian and has been for the last 12 months.  See here for example:

<pre>
 http://packages.debian.org/sid/autokey
</pre>
If you look in the Ubuntu software center you will find it there too.

<h3><font color="#FF4500">mfseeker said…</font></h3>

7/23/10.

Great!

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: script commands</font></h1>

5 posts by 3 authors.

<h3><font color="#FF4500">Aaron S said…</font></h3>

7/23/10.

I have searched every documentation i can find but i dont know all of the script commands.

I want to make a script that presses a few keys and repeats pretty much indefinitely.

Ive tried everything but i cant make it repeat.

<h3><font color="#FF4500">Chris D. said…</font></h3>

7/23/10.

The scripts are written in Python.  Any basic Python tutorial will show you how to do loops, e.g.:

<pre>
for x in range(10):
    do_something()

calls do_something() 10 times
</pre>
<h3><font color="#FF4500">Aaron S said…</font></h3>

7/23/10.

ok one more question.. how do you stop it once it starts? here is a sample of the scipt im working on.

<pre>
for x in range(10000):
    keyboard.send_key("l")
    time.sleep(0.5)
    keyboard.send_key("l")
    time.sleep(0.5)
    keyboard.send_key("l")
    time.sleep(0.5)
    keyboard.send_key("l")
    time.sleep(0.5)
    keyboard.send_key("l")
    time.sleep(0.5)
    keyboard.send_key("l")
    time.sleep(0.5)
    keyboard.send_key("]")
    time.sleep(1.5)
</pre>
it pushes the L key 6 times and then the ] key then repeat.

<h3><font color="#FF4500">Chris D said…</font></h3>

7/23/10.

The only way to stop it would be to quit AutoKey   <h3><font color="#FF4500">Aaron S said…</font></h3>


7/23/10.

got ya. thanks for the help. this is working.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Garbled date</font></h1>

7 posts by 4 authors.

<h3><font color="#FF4500">mfseeker said…</font></h3>

7/19/10.

Recently my date hotkey has been producing garbled output.  Here are the results of four successive activations by hotkey:

<pre>
Mon Jul119 005::2211ADT 00

Mon Jul1199 005::2211ADT 0

Mon Jul119 0055::222ADT 10

Mon Jul119 005::2236ADT 10
</pre>
The correct output would be:

<pre>
 Mond Jul 19 05:22:11 ADT 2010

 Menu activations give similar results.
</pre>
The script being used is:

<pre>
 output = system.exec_command("date")
 keyboard.send_keys(output)
</pre>
I am running AutoKey (GTK UI) 0.70.4 in Ubuntu 10.04.

Any help appreciated.

Stan.

<h3><font color="#FF4500">Chris D said…</font></h3>

7/19/10.

Does this happen in any program that you use the script in?  Or just one?  More information please :)

<h3><font color="#FF4500">mfseeker said…</font></h3>

7/19/10.

Chris.

Sure enough.  It is an Open Office problem (both OO Word Processor and OO Spreadsheet).  Both Gedit and Thunderbird perform normally.  Unfortunately, OO is the application where I most use the date shortcut.

Stan.

<h3><font color="#FF4500">Jeff Needle said…</font></h3>

7/19/10.

On this same issue, can someone please tell me how to change the date output so that I don't get the time at all?  This would be so helpful.

<h3><font color="#FF4500">Luke Faraone said…</font></h3>

7/19/10.

<pre>
On 07/19/2010 03:58 PM, Jeffrey Needle wrote:
> On this same issue, can someone please tell me how to change the date
> output so that I don't get the time at all?  This would be so helpful.
</pre>
Please read the manual page of date(1)[1] for more info, run `man date`.  This contains detailed information on how to get the date in the format you want.

Alternatively, use the time[2] module.  Example (adapted from the documentation):

<pre>
>>> from time import strftime, localtime
 >>> strftime("%a, %d %b %Y", localtime())
 'Mon, 19 Jul 2010'

[1]: http://linux.die.net/man/1/date
[2]: http://docs.python.org/library/time.html
</pre>
Luke Faraone.

<h3><font color="#FF4500">Chris D said…</font></h3>

7/19/10.

There is not much that can be done about this right now - it's a bug in open office.  Your best bet is to change your date script to paste via the clipboard rather than the keyboard, by using clipboard.fill_clipboard() followed by keyboard.send_keys("<ctrl>+v") or similar.

<h3><font color="#FF4500">mfseeker said…</font></h3>

7/20/10.

Thanks.  Chris.  It works like a charm.

Stan.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Script for URL shorteners</font></h1>

4 posts by 2 authors.

<h3><font color="#FF4500">Rafael Calsaverini said…</font></h3>

7/16/10.

Hi there.

I installed autokey mainly because I wanted to create a hot-key to use URL shortening services automatically (mainly for posting things on twitter and forums with message length limitation) and would like to share the script I partially made and ask for tips.  This is what I'm currently using:

<pre>
import urllib, urllib2, urlparse, httplib

def query(url):
            shortener = 'is.gd'
            service = '/api.php?longurl='
            c = httplib.HTTPConnection(shortener)
            c.request("GET", service + urllib.quote(url))
            r = c.getresponse()
            shorturl = r.read().strip()
            if ("Error" not in shorturl) and ("http://" +
urlparse.urlparse(shortener)[1] in shorturl):
                return shorturl
            else:
                raise IOError

long = clipboard.get_selection()
short = query(long)
keyboard.send_keys(short)
</pre>
I'd really appreciate comments or improvements you can suggest.

—Rafael Calsaverini

<h3><font color="#FF4500">Chris D said…</font></h3>

7/19/10.

Does it work as is?  The concept seems fine to me:

<h3><font color="#FF4500">Rafael Calsaverini said…</font></h3>

7/19/10.

It works, but there's a little lag.  I don't know yet if the lag occurs when trying to contact the web service or when loading the modules.

I don't fell confortable with loading that many modules everytime I hit a hotkey.  Can I rest assured that this memory will be freed as soon as the script is executed?  I'm not that experienced with the python garbage collector, so I don't know how well it works.

Rafael Calsaverini   <h3><font color="#FF4500">Chris D said…</font></h3>


7/19/10.

AFAIK modules are only loaded the first time they are imported.  So the next time your script runs, the module has already been loaded and so there would be no lag.  I've never really noticed lag from modules being loaded anyway.  But yes they would be consuming small amounts of memory once the script has been executed once, equivalent to the amount of RAM required to store the bytecode for the relevant module.  I.e. not much.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Error from Update Manager on 0.70.5</font></h1>

5 posts by 3 authors.

<h3><font color="#FF4500">Derek said…</font></h3>

7/16/10.

If you run Update Manager and get this error:

<pre>
E: /var/cache/apt/archives/autokey-common_0.70.5-0~lucid_all.deb: trying to overwrite
'/usr/share/pixmaps/akicon-status.png', which is also in package autokey-gtk 0
</pre>
…just update again with Update Manager, and it will be fine.

The status icon is moved from autokey-gtk to autokey-common, so when autokey-common updates first, it sees it as a conflict.  But then the autokey-gtk update removes the file, so the autokey-common update will work fine the second time.

<h3><font color="#FF4500">Chris D said…</font></h3>

7/16/10.

Yes I thought this might happen…Luke, if you see this do you have any ideas how to prevent it?

<h3><font color="#FF4500">Luke Faraone said…</font></h3>

7/16/10.

<pre>
On 07/16/2010 08:54 AM, Christiaan Dekter wrote:
> Yes I thought this might happen…Luke, if you see this do you have any
> ideas how to prevent it?
</pre>
Add:

<pre>
Replaces: autokey-gtk (`<``<`VERSION)
Breaks: autokey-gtk (`<``<`VERSION)
</pre>
to the control file of autokey-common.  See DPM Ã¯Â¿Â½7.6[1] for more details.

[1]:

<tt>http://www.debian.org/doc/debian-policy/ch-relationships.html#s-replaces</tt>

Luke Faraone.

<h3><font color="#FF4500">Chris D said…</font></h3>

7/18/10.

Thanks Luke.  Since Launchpad is now taking several days to do builds, before I upload could you please take a look at the top commit in trunk and see if you think it's correct now?

<pre>
On 17 July 2010 01:03, Luke Faraone wrote:
</pre>
<pre>
On 07/16/2010 08:54 AM, Christiaan Dekter wrote:
 > Yes I thought this might happen…Luke, if you see this do you have any
 > ideas how to prevent it?
</pre>
Add:

<pre>
Replaces: autokey-gtk (`<``<`VERSION)
Breaks: autokey-gtk (`<``<`VERSION)
</pre>
to the control file of autokey-common.  See DPM Â§7.6[1] for more details.

[1]:

<tt>http://www.debian.org/doc/debian-policy/ch-relationships.html#s-replaces</tt>

-—Luke Faraone.

<h3><font color="#FF4500">Luke Faraone said…</font></h3>

7/18/10.

<pre>
On 07/18/2010 08:59 PM, Christiaan Dekter wrote:
> Thanks Luke. Since Launchpad is now taking several days to do builds,
> before I upload could you please take a look at the top commit in trunk
> and see if you think it's correct now?
</pre>
Seems good to me.

Luke Faraone.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: New fresh bug in the newest version</font></h1>

14 posts by 2 authors.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

4/17/10.

I updated today, think it was 0.70.2.

Let's say that my address is the following:

<pre>
MyStreet 14
MyZip MyCity
</pre>
And I create a Ã¥hrase for it, it will look like this:

<pre>
MyStreet 14MyZip MyCity
</pre>
In other words: Newlines seems to be ignored now.  I restarted AutoKey with no success.  I haven't restarted my computer yet though.

RegardsJohnny Rosenberg   <h3><font color="#FF4500">Chris D said…</font></h3>


4/17/10.

I can't replicate this.

It's not in my nature to be impolite, but you have been shown how to give proper debug information.  I won't be responding to any more requests like this with no debug information.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

4/18/10.

<pre>
2010/4/18 Christiaan Dekter:
> I can't replicate this.
>
> It's not in my nature to be impolite, but you have been shown how to
> give proper debug information. I won't be responding to any more
> requests like this with no debug information.
</pre>
Strange.  I updated AutoKey to the same version on my Eee PC (same OS as well) and it works there.  Maybe something else is wrong with my system then.  Maybe it happened when I installed PDF Studio (that's the only thing that I installed lately).

Well, never mind then.  I'll see what happens when I upgrade my operating system to 10.04 an a couple of days.  I think I will do a fresh install of the whole operating system then, so what happens until then is irrelevant.  For me, that is.

Sorry for bothering.  I just thought that everyone had the same problem but nobody noticed it yet.  My wrong as usual.

RegardsJohnny Rosenberg   <h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>


4/19/10.

2010/4/18 Johnny Rosenberg:

<pre>
> 2010/4/18 Christiaan Dekter wrote:
>> I can't replicate this.
>>
>> It's not in my nature to be impolite, but you have been shown how to
>> give proper debug information. I won't be responding to any more
>> requests like this with no debug information.
>
> Strange. I updated AutoKey to the same version on my Eee PC (same OS
> as well) and it works there. Maybe something else is wrong with my
> system then. Maybe it happened when I installed PDF Studio (that's the
> only thing that I installed lately).
>
> Well, never mind then. I'll see what happens when I upgrade my
> operating system to 10.04 an a couple of days. I think I will do a
> fresh install of the whole operating system then, so what happens
> until then is irrelevant. For me, that is.
>
> Sorry for bothering. I just thought that everyone had the same problem
> but nobody noticed it yet. My wrong as usual.
>
>
> RegardsJohnny Rosenberg
</pre>
Well, since this is a bit more annoying than I first thought I'll go a step further and provide the result of autokey-gtk -l command, trying to type "regj" in Gedit, which is supposed to be expanded to: "Regards.

Johnny Rosenberg"  Of course I still have the problem that the Enter key seem to be ignored, like this:

"RegardsJohnny Rosenberg"  Here's the debug information spitted out by AutoKey:

<pre>
$ autokey-gtk -l
INFO - root - Initialising application
INFO - config-manager - Loading config from existing file:
/home/guraknugen/.config/autokey/autokey.json
INFO - config-manager - Configuration changed - rebuilding in-memory structures
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - config-manager - Finished persisting configuration - no errors
INFO - root - Initialise global hotkeys
INFO - config-manager - Successfully loaded configuration file
DEBUG - config-manager - Global settings: {'showTrayIcon': True,
'windowDefaultSize': [1064, 522], 'undoUsingBackspace': False,
'enableQT4Workaround': False, 'promptToSave': False, 'interfaceType':
u'XEvDev', 'showToolbar': True, 'serviceRunning': True,
'columnWidths': [150, 50, 100], 'isFirstRun': False,
'sortByUsageCount': True, u'inputSavings': 7883, 'hPanePosition': 267,
'menuTakesFocus': False}
INFO - service - Starting service
DEBUG - interface - Modifier masks: {'<alt_gr>': 128, '<numlock>': 16,
'<ctrl>': 4, '<shift>': 1, '<alt>': 8, '<super>': 64}
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'k'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>', u'<shift>'] u'k'
DEBUG - interface - Grabbing hotkey: [u'<alt>', u'<ctrl>', u'<shift>'] u'm'
DEBUG - interface - Alt-Grid: XK_ISO_Level3_Shift, 65027
DEBUG - interface - [(92, 0), (108, 0), (92, 2), (108, 2), (92, 4), (108, 4)]
DEBUG - interface - X Server Keymap
DEBUG - interface - [\] : [(20, 4)]
DEBUG - interface - [|] : [(16, 1), (16, 3)]
DEBUG - interface - [`] : [(21, 5)]
DEBUG - interface - [1] : [(87, 0), (87, 2)]
DEBUG - interface - [2] : [(88, 0), (88, 2)]
DEBUG - interface - [3] : [(89, 0), (89, 2)]
DEBUG - interface - [4] : [(83, 0), (83, 2)]
DEBUG - interface - [5] : [(84, 0), (84, 2)]
DEBUG - interface - [6] : [(85, 0), (85, 2)]
DEBUG - interface - [7] : [(79, 0), (79, 2)]
DEBUG - interface - [8] : [(80, 0), (80, 2)]
DEBUG - interface - [9] : [(81, 0), (81, 2)]
DEBUG - interface - [0] : [(90, 0), (90, 2)]
DEBUG - interface - [-] : [(61, 0), (82, 0), (61, 2), (82, 2)]
DEBUG - interface - [=] : [(19, 0), (19, 2)]
DEBUG - interface - [~] : [(51, 4)]
DEBUG - interface - [!] : [(10, 0), (10, 2)]
DEBUG - interface - [@] : [(13, 0), (13, 2), (11, 4)]
DEBUG - interface - [#] : [(12, 0), (12, 2)]
DEBUG - interface - [$] : [(13, 4)]
DEBUG - interface - [%] : [(14, 0), (14, 2)]
DEBUG - interface - No mapping for [^]
DEBUG - interface - [&] : [(15, 0), (15, 1), (15, 2), (15, 3), (15, 4)]
DEBUG - interface - [`*`] : [(63, 0), (63, 2)]
DEBUG - interface - [(] : [(17, 0), (187, 0), (17, 2), (187, 2), (187, 4)]
DEBUG - interface - [)] : [(18, 0), (188, 0), (18, 2), (188, 2), (188, 4)]
DEBUG - interface - [q] : [(24, 0), (24, 2)]
DEBUG - interface - [w] : [(25, 0), (25, 2)]
DEBUG - interface - [e] : [(26, 0), (26, 2)]
DEBUG - interface - [r] : [(27, 0), (27, 2)]
DEBUG - interface - [t] : [(28, 0), (28, 2)]
DEBUG - interface - [y] : [(29, 0), (29, 2)]
DEBUG - interface - [u] : [(30, 0), (30, 2)]
DEBUG - interface - [i] : [(31, 0), (31, 2)]
DEBUG - interface - [o] : [(32, 0), (32, 2)]
DEBUG - interface - [p] : [(33, 0), (33, 2)]
DEBUG - interface - [[] : [(17, 4)]
DEBUG - interface - []] : [(18, 4)]
DEBUG - interface - [a] : [(38, 0), (38, 2)]
DEBUG - interface - [s] : [(39, 0), (39, 2)]
DEBUG - interface - [d] : [(40, 0), (40, 2)]
DEBUG - interface - [f] : [(41, 0), (41, 2)]
DEBUG - interface - [g] : [(42, 0), (42, 2)]
DEBUG - interface - [h] : [(43, 0), (43, 2)]
DEBUG - interface - [j] : [(44, 0), (44, 2)]
DEBUG - interface - [k] : [(45, 0), (45, 2)]
DEBUG - interface - [l] : [(46, 0), (46, 2)]
DEBUG - interface - [;] : [(59, 1), (59, 3)]
DEBUG - interface - ['] : [(51, 0), (51, 2)]
DEBUG - interface - [z] : [(52, 0), (52, 2)]
DEBUG - interface - [x] : [(53, 0), (53, 2)]
DEBUG - interface - [c] : [(54, 0), (54, 2)]
DEBUG - interface - [v] : [(55, 0), (55, 2)]
DEBUG - interface - [b] : [(56, 0), (56, 2)]
DEBUG - interface - [n] : [(57, 0), (57, 2)]
DEBUG - interface - [m] : [(58, 0), (58, 2)]
DEBUG - interface - [,] : [(59, 0), (91, 0), (59, 2), (91, 2)]
DEBUG - interface - [.] : [(60, 0), (91, 1), (60, 2), (91, 3)]
DEBUG - interface - [/] : [(16, 0), (106, 0), (16, 2), (106, 2), (16, 5)]
DEBUG - interface - [Q] : [(24, 1), (24, 3)]
DEBUG - interface - [W] : [(25, 1), (25, 3)]
DEBUG - interface - [E] : [(26, 1), (26, 3)]
DEBUG - interface - [R] : [(27, 1), (27, 3)]
DEBUG - interface - [T] : [(28, 1), (28, 3)]
DEBUG - interface - [Y] : [(29, 1), (29, 3)]
DEBUG - interface - [U] : [(30, 1), (30, 3)]
DEBUG - interface - [I] : [(31, 1), (31, 3)]
DEBUG - interface - [O] : [(32, 1), (32, 3)]
DEBUG - interface - [P] : [(33, 1), (33, 3)]
DEBUG - interface - [{] : [(16, 4)]
DEBUG - interface - [}] : [(19, 4)]
DEBUG - interface - [A] : [(38, 1), (38, 3)]
DEBUG - interface - [S] : [(39, 1), (39, 3)]
DEBUG - interface - [D] : [(40, 1), (40, 3)]
DEBUG - interface - [F] : [(41, 1), (41, 3)]
DEBUG - interface - [G] : [(42, 1), (42, 3)]
DEBUG - interface - [H] : [(43, 1), (43, 3)]
DEBUG - interface - [J] : [(44, 1), (44, 3)]
DEBUG - interface - [K] : [(45, 1), (45, 3)]
DEBUG - interface - [L] : [(46, 1), (46, 3)]
DEBUG - interface - [:] : [(60, 1), (60, 3)]
DEBUG - interface - ["] : [(11, 0), (11, 2)]
DEBUG - interface - [Z] : [(52, 1), (52, 3)]
DEBUG - interface - [X] : [(53, 1), (53, 3)]
DEBUG - interface - [C] : [(54, 1), (54, 3)]
DEBUG - interface - [V] : [(55, 1), (55, 3)]
DEBUG - interface - [B] : [(56, 1), (56, 3)]
DEBUG - interface - [N] : [(57, 1), (57, 3)]
DEBUG - interface - [M] : [(58, 1), (58, 3)]
DEBUG - interface - [<] : [(94, 0), (94, 2)]
DEBUG - interface - [>] : [(94, 1), (94, 3)]
DEBUG - interface - [?] : [(20, 1), (20, 3)]
INFO - interface - Attempting to establish connection to EvDev daemon
INFO - interface - EvDev daemon connected
INFO - interface - EvDev interface thread starting
INFO - service - Service now marked as running
INFO - root - Entering main()
DEBUG - iomediator - <super> pressed
DEBUG - service - Key: '<tab>', modifiers: ['<super>']
DEBUG - service - No phrase/script matched hotkey
DEBUG - service - Key: '<tab>', modifiers: ['<super>']
DEBUG - service - No phrase/script matched hotkey
DEBUG - iomediator - <super> released
DEBUG - service - Key: r
DEBUG - service - Input stack at end of handle_keypress: [u'r']
DEBUG - service - Key: e
DEBUG - service - Input stack at end of handle_keypress: [u'r', u'e']
DEBUG - service - Key: g
DEBUG - service - Input stack at end of handle_keypress: [u'r', u'e', u'g']
DEBUG - service - Key: j
DEBUG - service - Input stack at end of handle_keypress: [u'r', u'e',
u'g', u'j']
DEBUG - service - Key: <enter>
DEBUG - interface - Send special key: ['<backspace>']
DEBUG - interface - Send special key: ['<backspace>']
DEBUG - interface - Send special key: ['<backspace>']
DEBUG - interface - Send special key: ['<backspace>']
DEBUG - interface - Send special key: ['<backspace>']
DEBUG - iomediator - Send via event interface
DEBUG - interface - Sending string: u'Regards.
DEBUG - interface - Send special key: [u'<enter>']
DEBUG - interface - Send special key: [u'<enter>']
DEBUG - interface - Sending string: u'Johnny Rosenberg'
DEBUG - interface - Send special key: [u'<enter>']
DEBUG - service - Input stack at end of handle_keypress: []
DEBUG - service - Received mouse click - resetting buffer
DEBUG - phrase-menu - Sorting phrase menu by usage count
DEBUG - service - Received mouse click - resetting buffer
INFO - root - Shutting down
INFO - service - Service shutting down
INFO - interface - EvDev interface thread terminated
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - config-manager - Finished persisting configuration - no errors
$
</pre>
This is what I did:

<pre>
Started Autokey from the terminal with the l option.
Switched to an already open Gedit window.
Typed "regj" followed by Enter â€" got "RegardsJohnny Rosenberg" as a result of that.
Right clicked the AutoKey icon, clicked Cancel.
</pre>
Hope this gives some more info.

J.R.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/19/10.

That all looks completely normal.  The correct keys are being typed, it is detecting the keycode of your Enter key correctly.  I don't see any problems.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

4/20/10.

<pre>
2010/4/20 Christiaan Dekter:
> That all looks completely normal. The correct keys are being typed, it
> is detecting the keycode of your Enter key correctly. I don't see any
> problems.
</pre>
Well, it seems like the only problem is that the Enter key seems to get lost somewhere on its way, somehow.  Any ideas how to debug that?

It feels like there is nothing wrong with AutoKey, but something must be wrong somewhere with something.  Maybe waiting for Ubuntu 10.04 and do a fresh install of everything is easiest way in this case.

Thanks anyway.

Johnny Rosenberg.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

5/9/10.

2010/4/20 Johnny Rosenberg:

<pre>
> 2010/4/20 Christiaan Dekter:
>> That all looks completely normal. The correct keys are being typed, it
>> is detecting the keycode of your Enter key correctly. I don't see any
>> problems.
>
> Well, it seems like the only problem is that the Enter key seems to
> get lost somewhere on its way, somehow. Any ideas how to debug that?
>
> It feels like there is nothing wrong with AutoKey, but something must
> be wrong somewhere with something. Maybe waiting for Ubuntu 10.04 and
> do a fresh install of everything is easiest way in this case.
>
>
> Thanks anyway.
>
> Johnny Rosenberg
</pre>
I have now done the fresh install of Ubuntu 10.04 and the problem persist.  I kept my old /home partition, so it seems like the problem lies somewhere in some settings in my home folder.

I tried to make a script that sends the <enter> key but that doesn't work either.  However, I also tried sending other keys, like <tab>, <delete>, <down> and more and those were sent properly.

Please tell me what to do next for debugging this, and I will do it (except following advice like "stand on one leg for 15 minutes and sound like a confused hen").

Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">Chris D said…</font></h3>

5/9/10.

I think the next step should be to try it with a default keymap.  Temporarily force your machine to use standard US layout:

setxkbmap -model pc104 -layout us  Then try the phrases again and see what happens.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

5/10/10.

<pre>
2010/5/10 Christiaan Dekter:
> I think the next step should be to try it with a default keymap. Temporarily
> force your machine to use standard US layout:
>
> setxkbmap -model pc104 -layout us
>
> Then try the phrases again and see what happens.
</pre>
I tried that one and also "setxkbmap -model pc105 -layout se" and both worked strange enough, because when I select the original Swedish layout in gnome-keyboard-properties it doesn't work but yesterday it didÂ· it seems to depend HOW I select the layout, unless that my own layout never works with AutoKey since version 0.70.2.  I haven't changed my layout in months, so I am pretty sure that it works with AutoKey 0.70.1.  Is that version available somewhere so I can verify that?

Otherwise I guess I have to find out exactly what is wrong with my own layout, so I can correct it somehow.  I really do nothing fancy, except that I use the AltGr key in combination with keys like Enter, TAB, arrow keys, PgDn and so on, to type different characters with them, for example AltGr+Shift+<down> types a â†", AltGr+<enter> types a â†µ and AltGr+<tab> types a â‡¥.

Maybe I should look for a forum or a mailing list where they discuss things like that and try there to find a solution, but on the other hand, what do they know about AutoKey.?

At the moment AutoKey doesn't work at all, maybe because that I experimented a lot with it a moment ago.  Restarting AutoKey didn't help so I guess something related to EvDev crashed or something.  Not sure about that.  I don't even know how to restart EvDev if that's something that could be done.

I hope this is solvable, otherwise I am forced to either go back to AutoKey 0.70.1 or abandon AutoKey.  The reason I made my own keyboard layout is that I think all none of the existing ones fulfils my needs at all, so I really want to use it, but of course I want to correct it if there's something wrong with it.

If you are familiar with the EvDev configuration files I can send you mine (there are three of them) if you like.  Maybe you could find something wrong somewhere.

I also tried to set my own layout by this command: setxkbmap -model pc105 -layout se -variant johnny At least I get no errors when doing that, and the layout works properly in all applications that I tried except AutoKey â©¾0.70.2.

That was some unstructured thoughts and I hope they were not too confusing.  I am pretty confused myself, so.

Johnny Rosenberg.

<h3><font color="#FF4500">Chris D said…</font></h3>

5/13/10.

The only thing I can suggest is trying to use the XRecord interface in Karmic if you're not already doing so.

Aside from that, I'm not really sure what can be done…if you alter the EvDev config files it really fundamentally changes things in a way that is not possible to handle.  I don't think this can be fixed…sorry.  I would suggest using a standard keymap, after all AutoKey will accelerate a lot of things for you.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

5/15/10.

<pre>
2010/5/14 Christiaan Dekter:
> The only thing I can suggest is trying to use the XRecord interface in
> Karmic if you're not already doing so.
</pre>
Tried it, same result.  And I am running Lucid, not Karmic now (installed it last weekend).  That didn't make any difference for AutoKey anyway.

<pre>
> Aside from that, I'm not really sure what can be done…if you alter the
> EvDev config files it really fundamentally changes things in a way that is
> not possible to handle. I don't think this can be fixed…sorry.
</pre>
But it worked with 0.70.1 (or was it 0.70.0?), and I didn't change my keyboard layout since a long time ago now.  And I am not changing anything in the EvDev files, I am just ADDING things.  I can not say for 100% sure that I did a perfect job doing it, but it served me well so far, except for this issue and I get no errors when I switch to my own layout from the terminal.

<pre>
> I would
> suggest using a standard keymap, after all AutoKey will accelerate a lot of
> things for you.
</pre>
So does my keyboard layout. :) Besides AutoKey still works, I just can't have it type newlines.  Most of my phrases are oneliners anyway, so I casn still use most of them, but I am some kind of a perfectionist, I think. :P

I would really like to install 0.70.1 or 0.70.0 again to see what happens.  Could you make those available for me somehow?  Maybe emailing them to me or temporarily include them in your PPA for a couple of days so I can install them and do some testings?  Then you can take them away again.  Maybe a long shot, but I would really like to try that before I give up.

My thought is that if it works with those versions it should be a clue making it possible to find what's causing the problem.

Kind Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">Chris D said…</font></h3>

5/19/10.

<pre>
On 15 May 2010 19:45, Johnny Rosenberg wrote:
2010/5/14 Christiaan Dekter:
> The only thing I can suggest is trying to use the XRecord interface in
> Karmic if you're not already doing so.
</pre>
Tried it, same result.  And I am running Lucid, not Karmic now (installed it last weekend).  That didn't make any difference for AutoKey anyway,  Oops, yes I meant try it on Lucid:

<pre>
 > Aside from that, I'm not really sure what can be done…if you alter the
 > EvDev config files it really fundamentally changes things in a way that is
 > not possible to handle. I don't think this can be fixed…sorry.
</pre>
But it worked with 0.70.1 (or was it 0.70.0?), and I didn't change my keyboard layout since a long time ago now.  And I am not changing anything in the EvDev files, I am just ADDING things.  I can not say for 100% sure that I did a perfect job doing it, but it served me well so far, except for this issue and I get no errors when I switch to my own layout from the terminal.

<pre>
 > I would
 > suggest using a standard keymap, after all AutoKey will accelerate a lot of
 > things for you.
</pre>
So does my keyboard layout. :) Besides AutoKey still works, I just can't have it type newlines.  Most of my phrases are oneliners anyway, so I casn still use most of them, but I am some kind of a perfectionist, I think. :P

I would really like to install 0.70.1 or 0.70.0 again to see what happens.  Could you make those available for me somehow?  Maybe emailing them to me or temporarily include them in your PPA for a couple of days so I can install them and do some testings?  Then you can take them away again.  Maybe a long shot, but I would really like to try that before I give up.

I can't make it available in the PPA as the PPA only allows one version at a time to be published.  However, if you visit the downloads page on the AutoKey site, the search feature lets you search for deprecated downloads - all the old versions are there.  You can download the source archive and build it using dpkg-buildpackage.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

5/19/10.

2010/5/19 Christiaan Dekter:

Okay, I should have known that, sorry.  Downloaded it now and will try it later.

Johnny Rosenberg.

<h3><font color="#FF4500">Chris D said…</font></h3>

7/18/10.

My guess would be that the change in behaviour was caused by the removal of the code that updates the keyboard layout when a change is detected.  In my tests I found that the event that notifies clients of a keyboard layout change arrives a random time interval after the actual change, and sometimes after processing the change the X keymap got corrupted - especially if AutoKey had adjusted the keymap to include characters not originally part of the map.  So all in all, the keymap change processing in X (or python-xlib) seems to be pretty darn buggy and removing it altogether seems to have fixed a lot of issues.

<pre>
On 19 July 2010 00:33, Johnny Rosenberg wrote:
 > I updated today, think it was 0.70.2.
 >
 > Let's say that my address is the following:
 >
 > MyStreet 14
 > MyZip MyCity
 >
 > and I create a Ã¥hrase for it, it will look like this:
 >
 > MyStreet 14MyZip MyCity
 >
 > In other words: Newlines seems to be ignored now.
 > I restarted AutoKey with no success. I haven't restarted my computer yet though.
 >
 >
 > RegardsJohnny Rosenberg
 >
</pre>
Have tried this again now.  I still have Ubuntu 10.04 and today I installed the latest Autokey, 0.70.5 (right?).  I don't know what you changed in this version, but just for fun I did some tests without expecting any improvements.

I have two keyboard layouts at the moment and I select them by clicking the keyboard layout icon in the upper Gnome panel.  I usually use my own layout, which means that when I hover the mouse pointer above Swe it says "Sverige Johnny Rosenberg" ("Sverige" = "Sweden" in Swedish) and if I click it and then hover again it says Sverige, which is the standard Swedish layout.

Anyway, first I had my own layout and Enter wasn't printed out by Autokey.  Then I clicked the Swe icon and changed to Sverige, which means that I now used the standard Swedish layout.  Tried again, but still no Enter printed out.  Then I removed the Sverige Johnny Rosenberg layout by clicking Remove (or Delete?  I have the Swedish version of Ubuntu so I translate the best I can) at gnome-keyboard-properties > Layouts, which cause the Swe icon to disappear since there is only one layout to select.  Tried again and now Enter was printed out by Autokey.

All this was expected, but now I added Sverige Johnny Rosenberg back by doing gnome-keyboard-properties > Layouts > Add.  I tried again and it still worked with Sverige.  I switched to Sverige Johnny Rosenberg and tried again.  Surprisingly it still worked!  I can now use my own layout and still have Autokey print out newlines for me!

Okay, maybe this was only temporarily, so I logged out and then in again and switched between Sverige and Sverige Johnny Rosenberg a number of times and it worked every time.  I also closed Ubuntu entirely, started it again and still it worked perfectly!

So this leaves me even more confused.  Why does it work now and not before?  The only thing I did was to remove Sverige Johnny Rosenberg and put it back again.  I have done that before but with NO success.  Can it be the latest Autokey upgrade?  Well, maybe, but why didn't it work directly in that case?

I have changed one thing in my own layout (Sverige Johnny Rosenberg) since last time I wrote.  In my "se" file in /usr/share/X11/xkb/symbols I have my own layout defined.  Here is my old definition of the Enter key (rows with only a . means "one or more rows that are not important in this case"):

<pre>
    .
    key.type[Group1]="FOUR_LEVEL";
    .
    key <RTRN> {[Return,               Return,               U21B5,
            paragraph            ]};
    .

 Here's my new definition:
    .
    key.type[Group1]="FOUR_LEVEL";
    .
    key.type[Group1]="FOUR_LEVEL_X";
    key <RTRN> {[Return,                                     U21B5,
            paragraph            ]};
    .
    key.type[Group1]="FOUR_LEVEL";
    .
</pre>
I don't know if this had any effect to this issue, and if it had, why didn't it work immediately when I restarted my computer after making this new version of my layout?

Well, who knows.

Anyway, it seems like my problems are gone for now, but I won't bet they will stay away forever.  Let's see what happens in the future. :)

Regards.

Johnny Rosenberg   <br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: can't get configuration window open, plus some hotkeys not working</font></h1>


11 posts by 2 authors.

<h3><font color="#FF4500">cedardoc said…</font></h3>

7/15/10.

Hi, I don't know what I did to screw up Autokey, but suddenly (today) I can't get the configuration window open (by clicking the autokey icon, right clicking it and selecting "configure" or using ctrl-k).  Also a small portion of my hotkey scripts are not working, but most still are.  I'm on Ubuntu 10.04.

Here's what comes up with "autokey-gtk -l" at the terminal.

<pre>
INFO - root - Initialising application
INFO - config-manager - Loading config from existing file: /home/
david/.config/autokey/autokey.json
INFO - config-manager - Configuration changed - rebuilding in-memory
structures
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - config-manager - Finished persisting configuration - no errors
INFO - root - Initialise global hotkeys
INFO - config-manager - Successfully loaded configuration file
DEBUG - config-manager - Global settings: {'showTrayIcon': True,
'windowDefaultSize': [1259, 693], 'undoUsingBackspace': True,
'enableQT4Workaround': False, 'promptToSave': True, 'interfaceType':
u'XRecord', 'showToolbar': True, 'serviceRunning': True,
'columnWidths': [150, 50, 100], 'isFirstRun': False,
'sortByUsageCount': True, u'inputSavings': 4, 'hPanePosition': 557,
'menuTakesFocus': False}
INFO - service - Starting service
Xlib.protocol.request.QueryExtension
DEBUG - interface - Modifier masks: {'<capslock>': 2, '<alt_gr>': 128,
'<numlock>': 16, '<ctrl>': 4, '<shift>': 1, '<alt>': 8, '<super>': 64}
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'k'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>', u'<shift>'] u'k'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u' '
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'2'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'w'
DEBUG - interface - Grabbing hotkey: [u'<alt>', u'<ctrl>', u'<super>']
u'g'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'<f12>'
DEBUG - interface - Grabbing hotkey: [u'<alt>', u'<ctrl>'] u'p'
DEBUG - interface - Grabbing hotkey: [u'<alt>', u'<super>'] u't'
DEBUG - interface - Grabbing hotkey: [u'<alt>', u'<ctrl>'] u't'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'<f2>'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'<f1>'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'<f3>'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'<f4>'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'<menu>'
DEBUG - interface - Grabbing hotkey: [u'<super>'] u'<f4>'
DEBUG - interface - Grabbing hotkey: [u'<alt>', u'<ctrl>', u'<super>']
u'c'
DEBUG - interface - Grabbing hotkey: [u'<alt>'] u'w'
DEBUG - interface - Grabbing hotkey: [] None
WARNING - interface - Failed to grab hotkey [] None: 'NoneType' object
has no attribute 'startswith'
DEBUG - interface - Grabbing hotkey: [u'<alt>', u'<ctrl>', u'<super>']
u't'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>', u'<super>'] u'c'
DEBUG - interface - Grabbing hotkey: [u'<super>'] u'8'
DEBUG - interface - Grabbing hotkey: [u'<alt>', u'<super>'] u'c'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'<delete>'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'<insert>'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'/'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'<pause>'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'3'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'4'
DEBUG - interface - Grabbing hotkey: [u'<alt>'] u' '
DEBUG - interface - Grabbing hotkey: [u'<super>'] u'9'
DEBUG - interface - Grabbing hotkey: [u'<super>'] u'n'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u't'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'<f7>'
X protocol error:
<class 'Xlib.error.BadAccess'>: code = 10, resource_id = 429,
sequence_number = 62, major_opcode = 33, minor_opcode = 0
X protocol error:
<class 'Xlib.error.BadAccess'>: code = 10, resource_id = 429,
sequence_number = 63, major_opcode = 33, minor_opcode = 0
X protocol error:
<class 'Xlib.error.BadAccess'>: code = 10, resource_id = 429,
sequence_number = 64, major_opcode = 33, minor_opcode = 0
X protocol error:
<class 'Xlib.error.BadAccess'>: code = 10, resource_id = 429,
sequence_number = 65, major_opcode = 33, minor_opcode = 0
X protocol error:
<class 'Xlib.error.BadAccess'>: code = 10, resource_id = 429,
sequence_number = 122, major_opcode = 33, minor_opcode = 0
X protocol error:
<class 'Xlib.error.BadAccess'>: code = 10, resource_id = 429,
sequence_number = 123, major_opcode = 33, minor_opcode = 0
X protocol error:
<class 'Xlib.error.BadAccess'>: code = 10, resource_id = 429,
sequence_number = 124, major_opcode = 33, minor_opcode = 0
X protocol error:
<class 'Xlib.error.BadAccess'>: code = 10, resource_id = 429,
sequence_number = 125, major_opcode = 33, minor_opcode = 0
DEBUG - interface - Alt-Grid: XK_Alt_R, 65514
DEBUG - interface - [(92, 0), (92, 2)]
DEBUG - interface - X Server Keymap
DEBUG - interface - [\] : [(51, 0), (51, 2)]
DEBUG - interface - [|] : [(51, 1), (51, 3), (94, 4)]
DEBUG - interface - [`] : [(49, 0), (49, 2)]
DEBUG - interface - [1] : [(10, 0), (10, 2)]
DEBUG - interface - [2] : [(11, 0), (11, 2)]
DEBUG - interface - [3] : [(12, 0), (12, 2)]
DEBUG - interface - [4] : [(13, 0), (13, 2)]
DEBUG - interface - [5] : [(14, 0), (14, 2)]
DEBUG - interface - [6] : [(15, 0), (15, 2)]
DEBUG - interface - [7] : [(16, 0), (16, 2)]
DEBUG - interface - [8] : [(17, 0), (17, 2)]
DEBUG - interface - [9] : [(18, 0), (18, 2)]
DEBUG - interface - [0] : [(19, 0), (19, 2)]
DEBUG - interface - [-] : [(20, 0), (20, 2)]
DEBUG - interface - [=] : [(21, 0), (21, 2)]
DEBUG - interface - [~] : [(49, 1), (49, 3)]
DEBUG - interface - [!] : [(10, 1), (10, 3)]
DEBUG - interface - [@] : [(11, 1), (11, 3)]
DEBUG - interface - [#] : [(12, 1), (12, 3)]
DEBUG - interface - [$] : [(13, 1), (13, 3)]
DEBUG - interface - [%] : [(14, 1), (14, 3)]
DEBUG - interface - [^] : [(15, 1), (15, 3)]
DEBUG - interface - [&] : [(16, 1), (16, 3)]
DEBUG - interface - [`*`] : [(17, 1), (17, 3)]
DEBUG - interface - [(] : [(187, 0), (18, 1), (187, 2), (18, 3)]
DEBUG - interface - [)] : [(188, 0), (19, 1), (188, 2), (19, 3)]
DEBUG - interface - [q] : [(24, 0), (24, 2)]
DEBUG - interface - [w] : [(25, 0), (25, 2)]
DEBUG - interface - [e] : [(26, 0), (26, 2)]
DEBUG - interface - [r] : [(27, 0), (27, 2)]
DEBUG - interface - [t] : [(28, 0), (28, 2)]
DEBUG - interface - [y] : [(29, 0), (29, 2)]
DEBUG - interface - [u] : [(30, 0), (30, 2)]
DEBUG - interface - [i] : [(31, 0), (31, 2)]
DEBUG - interface - [o] : [(32, 0), (32, 2)]
DEBUG - interface - [p] : [(33, 0), (33, 2)]
DEBUG - interface - [[] : [(34, 0), (34, 2)]
DEBUG - interface - []] : [(35, 0), (35, 2)]
DEBUG - interface - [a] : [(38, 0), (38, 2)]
DEBUG - interface - [s] : [(39, 0), (39, 2)]
DEBUG - interface - [d] : [(40, 0), (40, 2)]
DEBUG - interface - [f] : [(41, 0), (41, 2)]
DEBUG - interface - [g] : [(42, 0), (42, 2)]
DEBUG - interface - [h] : [(43, 0), (43, 2)]
DEBUG - interface - [j] : [(44, 0), (44, 2)]
DEBUG - interface - [k] : [(45, 0), (45, 2)]
DEBUG - interface - [l] : [(46, 0), (46, 2)]
DEBUG - interface - [;] : [(47, 0), (47, 2)]
DEBUG - interface - ['] : [(48, 0), (48, 2)]
DEBUG - interface - [z] : [(52, 0), (52, 2)]
DEBUG - interface - [x] : [(53, 0), (53, 2)]
DEBUG - interface - [c] : [(54, 0), (54, 2)]
DEBUG - interface - [v] : [(55, 0), (55, 2)]
DEBUG - interface - [b] : [(56, 0), (56, 2)]
DEBUG - interface - [n] : [(57, 0), (57, 2)]
DEBUG - interface - [m] : [(58, 0), (58, 2)]
DEBUG - interface - [,] : [(59, 0), (59, 2)]
DEBUG - interface - [.] : [(60, 0), (60, 2)]
DEBUG - interface - [/] : [(61, 0), (61, 2)]
DEBUG - interface - [Q] : [(24, 1), (24, 3)]
DEBUG - interface - [W] : [(25, 1), (25, 3)]
DEBUG - interface - [E] : [(26, 1), (26, 3)]
DEBUG - interface - [R] : [(27, 1), (27, 3)]
DEBUG - interface - [T] : [(28, 1), (28, 3)]
DEBUG - interface - [Y] : [(29, 1), (29, 3)]
DEBUG - interface - [U] : [(30, 1), (30, 3)]
DEBUG - interface - [I] : [(31, 1), (31, 3)]
DEBUG - interface - [O] : [(32, 1), (32, 3)]
DEBUG - interface - [P] : [(33, 1), (33, 3)]
DEBUG - interface - [{] : [(34, 1), (34, 3)]
DEBUG - interface - [}] : [(35, 1), (35, 3)]
DEBUG - interface - [A] : [(38, 1), (38, 3)]
DEBUG - interface - [S] : [(39, 1), (39, 3)]
DEBUG - interface - [D] : [(40, 1), (40, 3)]
DEBUG - interface - [F] : [(41, 1), (41, 3)]
DEBUG - interface - [G] : [(42, 1), (42, 3)]
DEBUG - interface - [H] : [(43, 1), (43, 3)]
DEBUG - interface - [J] : [(44, 1), (44, 3)]
DEBUG - interface - [K] : [(45, 1), (45, 3)]
DEBUG - interface - [L] : [(46, 1), (46, 3)]
DEBUG - interface - [:] : [(47, 1), (47, 3)]
DEBUG - interface - ["] : [(48, 1), (48, 3)]
DEBUG - interface - [Z] : [(52, 1), (52, 3)]
DEBUG - interface - [X] : [(53, 1), (53, 3)]
DEBUG - interface - [C] : [(54, 1), (54, 3)]
DEBUG - interface - [V] : [(55, 1), (55, 3)]
DEBUG - interface - [B] : [(56, 1), (56, 3)]
DEBUG - interface - [N] : [(57, 1), (57, 3)]
DEBUG - interface - [M] : [(58, 1), (58, 3)]
DEBUG - interface - [<] : [(94, 0), (59, 1), (94, 2), (59, 3)]
DEBUG - interface - [>] : [(60, 1), (94, 1), (60, 3), (94, 3)]
DEBUG - interface - [?] : [(61, 1), (61, 3)]
DEBUG - iomediator - Set modifier <capslock> to False
DEBUG - iomediator - Set modifier <numlock> to True
Xlib.protocol.request.QueryExtension
INFO - interface - XRecord interface thread starting
INFO - service - Service now marked as running
INFO - root - Entering main()
DEBUG - service - Received mouse click - resetting buffer
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

7/15/10.

I don't see any problems in the log you posted.  Did you include an attempt to open the main window in this log?

<h3><font color="#FF4500">cedardoc said…</font></h3>

7/15/10.

No I didn't.  Here it is:

<pre>
INFO - root - Displaying configuration window
Traceback (most recent call last):
  File "/usr/lib/python2.6/dist-packages/autokey/gtkui/notifier.py",
line 135, in on_show_configure
    self.app.show_configure()
  File "/usr/lib/python2.6/dist-packages/autokey/gtkapp.py", line 211,
in show_configure
    self.configWindow = ConfigWindow(self)
  File "/usr/lib/python2.6/dist-packages/autokey/gtkui/
configwindow.py", line 560, in __init__
    self.__initTreeWidget()
  File "/usr/lib/python2.6/dist-packages/autokey/gtkui/
configwindow.py", line 1024, in __initTreeWidget

self.treeView.set_model(AkTreeModel(self.app.configManager.folders))
  File "/usr/lib/python2.6/dist-packages/autokey/gtkui/
configwindow.py", line 1139, in __init__
    self.populate_store(iter, folder)
  File "/usr/lib/python2.6/dist-packages/autokey/gtkui/
configwindow.py", line 1148, in populate_store
    self.populate_store(iter, folder)
  File "/usr/lib/python2.6/dist-packages/autokey/gtkui/
configwindow.py", line 1151, in populate_store
    self.append(parent, item.get_tuple())
  File "/usr/lib/python2.6/dist-packages/autokey/model.py", line 713,
in get_tuple
    return ("text-x-script", self.description,
self.get_abbreviation(), self.get_hotkey_string(), self)
  File "/usr/lib/python2.6/dist-packages/autokey/model.py", line 233,
in get_hotkey_string
    ret += key
TypeError: cannot concatenate 'str' and 'NoneType' objects
DEBUG - service - Received mouse click - resetting buffer
</pre>
Thanks.  Dave.

<h3><font color="#FF4500">Chris D said…</font></h3>

7/15/10.

You have a script with a corrupted hotkey setting - the key for the hotkey is set to None/null.  You should be able to find this in your autokey.json file and fix it.  I would open the json file using a json editor (there are several available) look for a script (type = "script") that has mode 3 (hotkey) as one of it's modes.  Just get rid of the 3 and you should be ok.  I'll add some code to a future version to avoid this kind of problem.

<h3><font color="#FF4500">cedardoc said…</font></h3>

7/15/10.

in the Json editor I see this:

<pre>
String           |  <ctrl>
Key             |  modes
Array           |
Numeric       | 3
Key             | omitTrigger
FalseClass  | false
</pre>
etc…So anywhere I see "modes" followed by a "3", just delete the "3"?

I'd include a screenshot, but not sure how.  Maybe dropbox:

<tt>http://dl.dropbox.com/u/2161814/autokeyJson.png</tt>

<h3><font color="#FF4500">Chris D said…</font></h3>

7/15/10.

If you do what you just described, you will end up having to reconfigure all your hotkeys.  What you need to look for is a script object with mode 3 which has a hotkey with the hotkey property set to 'null'  Tbh this is going to be very tricky…maybe I could throw together a quick python script to fix your config file automatically. hmm   <h3><font color="#FF4500">Chris D said…</font></h3>


7/16/10.

Here's the script that can fix your config file.  Use at your own risk - back up before running!

#p #!/usr/bin/env python  import os  try: import json l = json.load except: import simplejson as json  CONFIG_FILE = os.path.expanduser("~/.config/autokey/autokey.json")

def recurse(folder): print "Examining folder", folder["title"] for f in folder["folders"]: recurse(f)

for item in folder["items"]: print "Examining item ", item["description"]

if 3 in item["modes"] and item["hotkey"]["hotKey"] is None: print "fixing…" item["modes"].remove(3)

if __name__ == "__main__": pFile = open(CONFIG_FILE, 'r') configData = json.load(pFile) pFile.close()

for folder in configData["folders"]: recurse(folder)

outFile = open(CONFIG_FILE, "w") json.dump(configData, outFile, indent=4) outFile.close() print "done" </pre>

<h3><font color="#FF4500">cedardoc said…</font></h3>

7/16/10.

Cool - and thanks, I'll try that tomorrow when I'm at that computer.

<h3><font color="#FF4500">cedardoc said…</font></h3>

7/16/10.

this is weird…I ran that script, and it said that it worked (corrected a single hotkey), then I backed that configuration up.  There was still no response in trying to open the main window.  Then I uninstalled autokey and reinstalled - no change.  Then I completely removed autokey and reinstalled - //still// no change!  Does that mean its my computer and not the autokey configuration thats screwed up?

Anyway, heres the readout now, including trying to get the main window open 2 ways at the end.

<pre>
david@david-desktop:~$ autokey-gtk -l
INFO - root - Initialising application
INFO - config-manager - Loading config from existing file: /home/
david/.config/autokey/autokey.json
INFO - config-manager - Configuration changed - rebuilding in-memory
structures
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - config-manager - Finished persisting configuration - no errors
INFO - root - Initialise global hotkeys
INFO - config-manager - Successfully loaded configuration file
DEBUG - config-manager - Global settings: {'showTrayIcon': True,
'windowDefaultSize': [1259, 693], 'undoUsingBackspace': True,
'enableQT4Workaround': False, 'promptToSave': True, 'interfaceType':
u'XRecord', 'showToolbar': True, 'serviceRunning': True,
'columnWidths': [150, 50, 100], 'isFirstRun': False,
'sortByUsageCount': True, 'notificationIcon': u'/usr/share/pixmaps/
akicon.png', u'inputSavings': 4, 'hPanePosition': 557,


INFO - root - Displaying configuration window
/usr/lib/python2.6/dist-packages/autokey/gtkui/configwindow.py:549:
GtkWarning: gtk_menu_attach_to_widget(): menu already attached to
GtkImageMenuItem
  create.set_menu(menu)
Traceback (most recent call last):
  File "/usr/lib/python2.6/dist-packages/autokey/gtkui/notifier.py",
line 133, in on_show_configure

DEBUG - phrase-menu - Sorting phrase menu by usage count
DEBUG - service - Received mouse click - resetting buffer
DEBUG - service - Received mouse click - resetting buffer
INFO - root - Displaying configuration window
Traceback (most recent call last):
  File "/usr/lib/python2.6/dist-packages/autokey/gtkui/notifier.py",
line 133, in on_show_configure
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

7/16/10.

You need to quit AutoKey completely, then run the script, then start AutoKey again.  Otherwise it will just overwrite the repaired config file with the corrupted version again.

<h3><font color="#FF4500">cedardoc said…</font></h3>

7/16/10.

Thanks - that worked, and thanks again for writing that correction script in the first place.   :-)

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: feature requests: search inside autokey & backup</font></h1>

4 posts by 3 authors.

<h3><font color="#FF4500">cedardoc said…</font></h3>

7/14/10.

As my list of autokey scripts grow I often wish there was a way to search the script names and contents for certain words.

Also (of secondary importance as I'm going to try to write a python script to do this once a day) it would be nice if for the last X# of changes the entire json file was backed up somehow - I just did a stupid mistake and lost a script that took a long time to get right :~(

I have no expectations (beggers can't be choosers), but it'll never get done if its not asked..  :-)

Dave.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

7/15/10.

2010/7/14 cedardoc:

<pre>
> As my list of autokey scripts grow I often wish there was a way to
> search the script names and contents for certain words.
>
> Also (of secondary importance as I'm going to try to write a python
> script to do this once a day) it would be nice if for the last X# of
> changes the entire json file was backed up somehow - I just did a
> stupid mistake and lost a script that took a long time to get right :-(
>
</pre>
Why don't you just write a bash (or whatever shell you use) script for doing that (with rsync for example)?  Why invent the wheel again?

Johnny Rosenberg.

<pre>
> I have no expectations (beggers can't be choosers), but it'll never
> get done if its not asked..  :-)
>
> Dave.
</pre>
<h3><font color="#FF4500">cedardoc said…</font></h3>

7/15/10.

This worked:

<pre>
#!/usr/bin/python
import os
code = os.system("cp /home/david/.config/autokey/autokey.json /home/
david/AutokeyBackup/autokey.json")
</pre>
for a once a day backup for now.

I noticed that there are 4 different files in /home/user/.config/ autokey.  Is there any reason to back them up too?

<h3><font color="#FF4500">Chris D said…</font></h3>

7/15/10.

No the other files are all temporary, so you don't need to back them up.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: trouble using fake_keypress</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">cedardoc said…</font></h3>

7/6/10.

When I do this in a script:

<pre>
keyboard.fake_keypress("<pause>", repeat=1)
time.sleep(0.5)
window.activate("Quick Search Box", switchDesktop=False)
</pre>
I get this error:

<pre>
Traceback (most recent call last):
  File "/usr/lib/python2.6/dist-packages/autokey/service.py", line
395, in execute
    exec script.code in self.scope
  File "<string>", line 1, in <module>
  File "/usr/lib/python2.6/dist-packages/autokey/scripting.py", line
74, in fake_keypress
    self.mediator.fake_keypress(key.decode("utf-8"))
  File "/usr/lib/python2.6/dist-packages/autokey/iomediator.py", line
285, in fake_keypress
    keyName = keyName.replace('\n', "<enter>")
UnboundLocalError: local variable 'keyName' referenced before
assignment
</pre>
am I missing something?

<h3><font color="#FF4500">Chris D said…</font></h3>

7/6/10.

That's a bug…Fix in next release.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: restart AutoKey whenever you change keyboard maps</font></h1>

9 posts by 2 authors.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

6/6/10.

I have the following short phase: ct â‡¨ CitroÃ«n  However this works only once (per session I think).  First time I use it, it types "CitroÃ«n" and after that it types "Citron" (which by the way means "lemon" in Swedish.).  Have anyone else seen this?

Thanks.

<h3><font color="#FF4500">Chris D said…</font></h3>

6/6/10.

Is that character in the keyboard map you are using?

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

6/7/10.

<pre>
2010/6/7 Christiaan Dekter:
> Is that character in the keyboard map you are using?
</pre>
Indirectly.  I first hit Â¨, then e.  Â¨ is configured as a "dead" key (and that's the default behaviour of the standard Swedish layout).

Well, never mind.  I just wanted to know if I am the only one who have this problem.  Seems like I am.

Johnny Rosenberg.

<pre>
On 7 June 2010 02:32, Johnny Rosenberg wrote:
>>
>> I have the following short phase:
>> ct â‡¨ CitroÃ«n
>>
>> However this works only once (per session I think). First time I use
>> it, it types "CitroÃ«n" and after that it types "Citron" (which by the
>> way means "lemon" in Swedish.). Have anyone else seen this?
>>
>> Thanks.
>
>
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

6/23/10.

I'm looking at doing a release soon as I have a fix for window titles in KDE.  Can you possibly post a sample phrase that produces the problem you mentioned?  And also, include information on your keyboard layout so I can duplicate your setup exactly.

Thanks.  Christiaan.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

6/23/10.

<pre>
2010/6/23 Chris Dekter:
> I'm looking at doing a release soon as I have a fix for window titles
> in KDE. Can you possibly post a sample phrase that produces the
> problem you mentioned? And also, include information on your keyboard
> layout so I can duplicate your setup exactly.
>
> Thanks.
> Christiaan.
</pre>
Well, as you might remember I have my own keyboard layout, but I tested it with the default Swedish layout and had the same problem.  I also installed Autokey from your PPA on my wife's computer and she never touched the layout so she has always had the default Swedish layout.  Same problem on her machine.  All tested machines has Ubuntu 10.04.

Here's the phrase:

Name: CitroÃ«n  Abbreviation: ct  I didn't check or uncheck anything in the abbreviation dialogue, so "Remove typed abbreviation" is the only checkbox that is checked.

Output phrase: CitroÃ«n  This is what happens for us (on both computers):

First time I type ct it's replaced by CitroÃ«n.  Second time nothing happens for several seconds until ct is replaced by Citron (which by the way means lemon in Swedish.).  Third time ct is immediately replaced by Citron.  Sometimes Autokey seems to crash, but I am not sure those crashes are related to the same problem.

To get the original CitroÃ«n phrase working again (still only once, though), I need to cancel Autokey, wait for a while (several seconds) and then start Autokey.

Hope this helps.

Johnny Rosenberg.

<pre>
 On Jun 8, 1:28 am, Johnny Rosenberg wrote:
>> 2010/6/7 Christiaan Dekter:
>>
>> > Is that character in the keyboard map you are using?
>>
>> Indirectly. I first hit Â¨, then e. Â¨ is configured as a "dead" key
>> (and that's the default behaviour of the standard Swedish layout).
>>
>> Well, never mind. I just wanted to know if I am the only one who have
>> this problem. Seems like I am.
>>
>> Johnny Rosenberg
>>
>>
>>
>>
>>
>> > On 7 June 2010 02:32, Johnny Rosenberg wrote:
>>
>> >> I have the following short phase:
>> >> ct â‡¨ CitroÃ«n
>>
>> >> However this works only once (per session I think). First time I use
>> >> it, it types "CitroÃ«n" and after that it types "Citron" (which by the
>> >> way means "lemon" in Swedish.). Have anyone else seen this?
>>
>> >> Thanks.
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

7/5/10.

The next version of AutoKey, which I will be releasing in the next few days, fixes this bug.

Unfortunately, fixing it meant that I had to disable detection of keyboard map changes in AutoKey.  So from this version onwards, you will need to restart AutoKey whenever you change keyboard maps.  Unfortunately this was unavoidable as there seems to be a bug in the X server where the keymap gets muddled under certain conditions.  Not handling keymap changes dynamically works around this bug.

If anyone wants to test the changes, here is a diff that can be applied to /usr/share/pyshared/autokey/interface.py:

<pre>
Index: interface.py
==========================
 — interface.py    (revision 285)
+++ interface.py    (working copy)
@@ -538,15 +538,13 @@
         if self.localDisplay in r:
             for x in range(self.localDisplay.pending_events()):
                 event = self.localDisplay.next_event()
 -                if event.type == X.MappingNotify:
-                    self.__updateMapping(event)
-                elif event.type == X.MapNotify:
+                if event.type == X.MapNotify:
                     logger.debug("New window mapped, grabbing hotkeys")
                      try:
                         self.__grabHotkeysForWindow(event.window)
                     except:
                         logging.exception("Window destroyed during hotkey grab")
 -
+
     def _handleKeyPress(self, keyCode):
         self.lock.acquire()
</pre>
<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

7/5/10.

<pre>
2010/7/5 Christiaan Dekter:
> The next version of AutoKey, which I will be releasing in the next few days,
> fixes this bug.
>
> Unfortunately, fixing it meant that I had to disable detection of keyboard
> map changes in AutoKey. So from this version onwards, you will need to
> restart AutoKey whenever you change keyboard maps. Unfortunately this was
> unavoidable as there seems to be a bug in the X server where the keymap gets
> muddled under certain conditions. Not handling keymap changes dynamically
> works around this bug.
</pre>
Do you know if anyone has filed a bug report about this X server bug?

Johnny Rosenberg.

<h3><font color="#FF4500">Chris D said…</font></h3>

7/5/10.

I haven't tried looking for a bug report.  It's an extremely obscure part of X so I doubt many applications are using it - hence the existence of the bug.  If I have the time I might look into it further and file a bug.  I wouldn't hold your breath though, X bugs, especially obscure ones like this take an extremely long time to get fixed.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

7/6/10.

<pre>
2010/7/5 Christiaan Dekter:
>  I haven't tried looking for a bug report. It's an extremely obscure part of
> X so I doubt many applications are using it - hence the existence of the
> bug. If I have the time I might look into it further and file a bug. I
> wouldn't hold your breath though, X bugs, especially obscure ones like this
> take an extremely long time to get fixed.
</pre>
Maybe, but it takes even more time if nobody reports it.  :)

Johnny Rosenberg.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Change default trigger key</font></h1>

4 posts by 2 authors.

<h3><font color="#FF4500">Victor Petryk said…</font></h3>

7/5/10.

Hi.  I use AutoKey on Ubuntu 9.04, and my default trigger key is Space.  How can I change this to Tab?

<h3><font color="#FF4500">Chris D said…</font></h3>

7/5/10.

Hmm.. in fact AutoKey should already accept tab as a trigger key by default.  The fact that it does not is actually a bug!

<h3><font color="#FF4500">Victor Petryk said…</font></h3>

7/5/10.

Can there be a problem in the locale - my locale is LANG=ru_UA.utf8 ?

<h3><font color="#FF4500">Chris D said…</font></h3>

7/5/10.

No it really is a bug…will be fixed in the next release.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Script directory on autokey</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">Gustavo Lacoste said…</font></h3>

6/29/10.

Hi all.

I noticed that my script are located in cat .config / Autokey / autokey.bin.  Is it possible to state that my scripts are stored in a directory?.

Example: /home/knx/.scripts //script directory /home/knx/.scripts/myscript1.py /home/knx/.scripts/myscript2.py /home/knx/.scripts/myscript3.py  Reason: "I would like to reuse my script such as templates for nautilus"  With Kind regards.

Gustavo A.  Lacoste Z.

<h3><font color="#FF4500">Chris D said…</font></h3>

6/29/10.

Actually if you are using the latest version, they are stored in ~/.config/autokey/autokey.json  But no, at this stage the scripts can't be stored in a separate file.  You could make use of the "user module folder" feature however.  You can place Python files in this folder, and they can then be imported within an AutoKey script.

Say you set your user module folder to be /home/knx/.scripts.  Then you have a Python file /home/knx/.scripts/myscript1.py containing:

#!/usr/bin/env python def dostuff(): print "doing stuff"  if __name__ == "__main__": dostuff()

If you execute this file, it will run the dostuff() function.  You could then create an AutoKey script and import your Python file e.g.

import myscript1 myscript1.dostuff()

Note however that you can't use AutoKey functions such as keyboard.send_keys() in Python scripts outside of AutoKey.  These functions are only available in AutoKey scripts running inside AutoKey.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: lag autokey -> firefox, ideas?</font></h1>

3 posts by 2 authors.

<h3><font color="#FF4500">Gustavo Lacoste said…</font></h3>

6/28/10.

Hi comunity.

I have a question.  I have tried creating a script to automatically write the content "Hello world" in an HTML form The problem is that the rate at which X is written is too fast and  produce is a bottle neck in firefox (lag behind), can you give me an idea to fix this?.  My script is as follows:

import time  while 1==1: keyboard.send_keys("texto a escribir recursivamente ") time.sleep(0.25)

With Kind regards.

Gustavo A.  Lacoste Z.

<h3><font color="#FF4500">Chris D said…</font></h3>

6/29/10.

At the moment there is no way to slow down the rate at which Autokey sends the keystrokes.  You could trying using paste via clipboard instead.  This is achieved by using clipboard.fill_clipboard("mytext") and then sending the appropriate paste keystroke combination, e.g. keyboard.send_keys("<ctrl>+v")

<h3><font color="#FF4500">Gustavo Lacoste said…</font></h3>

6/29/10.

ok, Thanks.

With Kind regards..

Gustavo A.  Lacoste Z.

2010/6/29 Christiaan Dekter   <br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: how to keyboard.send_keys((the contents of a string))</font></h1>


5 posts by 2 authors.

<h3><font color="#FF4500">cedardoc said…</font></h3>

6/22/10.

I tried this:

<pre>
keyboard.send_keys(finalitem"<enter>")
</pre>
Where finalitem is a string, and got this error:

<pre>
Traceback (most recent call last):
  File "/usr/lib/python2.6/dist-packages/autokey/service.py", line
395, in execute
    exec script.code in self.scope
  File "<string>", line 14
    keyboard.send_keys(finalitem"<enter>")
                                        ^
SyntaxError: invalid syntax
</pre>
Is it currently possible to do this?

Thanks.  Dave.

ps I also tried it with the string inside square and regular brackets   <h3><font color="#FF4500">Chris D said…</font></h3>


6/22/10.

<tt>http://docs.python.org/tutorial/introduction.html</tt>

The above link gives a basic introduction to Python concepts, should give you the answer.

<h3><font color="#FF4500">cedardoc said…</font></h3>

6/24/10.

Sorry, I'd thought that "keyboard.send_keys" was an Autokey thing and not a python thing.  Thanks for the link.  When I figure it out I'll post here for others who might want the same functionality.

Dave.

<h3><font color="#FF4500">Chris D said…</font></h3>

6/24/10.

To get you out of trouble quickly:

keyboard.send_keys(finalitem + "<enter>")

A script in AutoKey is a Python script - the two are equivalent.  So anything you could do in a separate Python script, you can do within an AutoKey script.

<h3><font color="#FF4500">cedardoc said…</font></h3>

6/28/10.

thanks, that worked.

Sorry I didn't think of trying that myself - I was under the impression that using the plus sign meant the two things on either side of the plus sign are pressed simultaneously, as in "<ctrl>+s", but I'm just noticing that finalitem is not within the quotes - I bet that's part of the answer.

anyways, many thanks for your work and patience!!

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: The latest with my troubles with Autokey</font></h1>
 1 post by 1 author
<h3><font color="#FF4500">Jeff Needle said…</font></h3>

6/22/10.

Well, here's an odd one for you.  On another computer, I have a Wubi install of Ubuntu.  The machine I was testing Autokey on has the Ubuntu Netbook install.

I downloaded Autokey on the Wubi computer, and bingo, it works fine!  It appears there's something about Ubuntu Netbook that prevents the date script from executing properly.

Just thought you'd like to know.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Trouble with autokey</font></h1>

7 posts by 2 authors.

<h3><font color="#FF4500">Jeff Needle said…</font></h3>

6/18/10.

After struggling with autokey for hours, I suddenly realized that I was trying to use it within Evolution, and it simply doesn't work.  I opened an OpenOffice document, and it worked fine.  Is this a problem known to autokey, and will it be fixed?

Also, the date macro doesn't work anywhere.  I've cut and pasted the example from the webpage, but when I type the code to insert the date, all I get, in any app, is an echo of the instructions in the macro.

I have the following as the phrase:

<pre>
output = system.exec_command("date")
keyboard.send_keys(output)
</pre>
I notice in the webpage, the word "date" is in a different color font.  Mine is not differently colored.  I suspect this has something to do with the problem.  Can someone advise on this?

I'm pretty new to Linux, so some of this is pretty confusing.  I'm using Ubuntu Linux Desktop Remix.  My entire system is up to date—I have the latest versions of everything, as far as I can see.  My autokey version is AutoKey (GTK UI) 0.61.7.

Thanks.

<h3><font color="#FF4500">Chris D said…</font></h3>
 6/18/10.
<pre>
On 19 June 2010 06:02, Jeffrey Needle wrote:
After struggling with autokey for hours, I suddenly realized
that I was trying to use it within Evolution, and it simply
doesn't work.  I opened an OpenOffice document, and it
worked fine.  Is this a problem known to autokey, and will
it be fixed?
</pre>
This is not a known issue.  AutoKey is completely application-agnostic, and should work fine in any application.  We haven't had any reports of this problem.

Also, the date macro doesn't work anywhere.  I've cut and pasted the example from the webpage, but when I type the code to insert the date, all I get, in any app, is an echo of the instructions in the macro.

I have the following as the phrase:

<pre>
 output = system.exec_command("date")
 keyboard.send_keys(output)
</pre>
I notice in the webpage, the word "date" is in a different color font.  Mine is not differently colored.  I suspect this has something to do with the problem.  Can someone advise on this?

That is because you need to create this as a script, not a phrase (File -> Create…-> New Script)

I'm pretty new to Linux, so some of this is pretty confusing.  I'm using Ubuntu Linux Desktop Remix.  My entire system is up to date—I have the latest versions of everything, as far as I can see.  My autokey version is AutoKey (GTK UI) 0.61.7.

Thanks.

<h3><font color="#FF4500">Jeff Needle said…</font></h3>

6/18/10.

<pre>
On Sat, 2010-06-19 at 09:26 +1000, Christiaan Dekter wrote:

> On 19 June 2010 06:02, Jeffrey Needle wrote:
>         After struggling with autokey for hours, I suddenly realized
>         that I was trying to use it within Evolution, and it simply
>         doesn't work.  I opened an OpenOffice document, and it worked
>         fine.  Is this a problem known to autokey, and will it be
>         fixed?
>
> This is not a known issue. AutoKey is completely application-agnostic,
> and should work fine in any application. We haven't had any reports of
> this problem.
>
</pre>
And the crazy thing?  Today it works!  I admit—I'm baffled.

<pre>
>         Also, the date macro doesn't work anywhere.  I've cut and
>         pasted the example from the webpage, but when I type the code
>         to insert the date, all I get, in any app, is an echo of the
>         instructions in the macro.
>
>         I have the following as the phrase:
>
>         output = system.exec_command("date")
>         keyboard.send_keys(output)
>
>         I notice in the webpage, the word "date" is in a different
>         color font. Mine is not differently colored.  I suspect this
>         has something to do with the problem.  Can someone advise on
>         this?
>
> That is because you need to create this as a script, not a phrase
> (File -> Create…-> New Script)
>
>         I'm pretty new to Linux, so some of this is pretty confusing.
>          I'm using Ubuntu Linux Desktop Remix.  My entire system is up
>         to date — I have the latest versions of everything, as far as
>         I can see.  My autokey version is AutoKey (GTK UI) 0.61.7.
>
>         Thanks.
</pre>
Okay, so I've set it up as a script, and indeed, the word date is in red.  Typing the code, dt, is replaced only by two blank spaces.  Something isn't grabbing correctly.

Any further ideas?  Thanks so much!

<h3><font color="#FF4500">Chris D said…</font></h3>

6/19/10.

What do you get if you open a terminal and type in the command 'date'?

<h3><font color="#FF4500">Jeff Needle said…</font></h3>

6/19/10.

<pre>
On Sat, 2010-06-19 at 20:44 +1000, Christiaan Dekter wrote:

>         >         I'm pretty new to Linux, so some of this is pretty
>         confusing.
>         >          I'm using Ubuntu Linux Desktop Remix.  My entire
>         system is up
>         >         to date — I have the latest versions of everything,
>         as far as
>         >         I can see.  My autokey version is AutoKey (GTK UI)
>         0.61.7.
>         >
>         >         Thanks.
>         >
>         >
>
>
>         Okay, so I've set it up as a script, and indeed, the word date
>         is in
>         red.  Typing the code, dt, is replaced only by two blank
>         spaces.
>         Something isn't grabbing correctly.
>
>         Any further ideas?  Thanks so much!
>
>
>
</pre>
I've typed 'date' in terminal and get the full date and time.

<h3><font color="#FF4500">Chris D said…</font></h3>

6/20/10.

I'm afraid I have no idea why the date script isn't working.  Perhaps you could try again in a few different programs to see if the results are different.

<h3><font color="#FF4500">Jeff Needle said…</font></h3>

6/20/10.

I did try, and got the same results in other apps.  I'll look at it more closely and see if I can figure it out.

Thanks.

<pre>
Christiaan Dekter wrote:
> I'm afraid I have no idea why the date script isn't working. Perhaps you
> could try again in a few different programs to see if the results are
> different.
>
> On 20 June 2010 06:52, Jeffrey Needle  wrote:
>
>     On Sat, 2010-06-19 at 20:44 +1000, Christiaan Dekter wrote:
>
>      > >         I'm pretty new to Linux, so some of this is pretty
>      >         confusing.
>      > >          I'm using Ubuntu Linux Desktop Remix.  My entire
>      >         system is up
>      > >         to date — I have the latest versions of everything,
>      >         as far as
>      > >         I can see.  My autokey version is AutoKey (GTK UI)
>      >         0.61.7.
>      > >
>      > >         Thanks.
>      > >
>      > >
>      >
>      >
>      >         Okay, so I've set it up as a script, and indeed, the word
>     date
>      >         is in
>      >         red.  Typing the code, dt, is replaced only by two blank
>      >         spaces.
>      >         Something isn't grabbing correctly.
>      >
>      >         Any further ideas?  Thanks so much!
>      >
>      >
>      >
>
>     I've typed 'date' in terminal and get the full date and time.
</pre>
<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: dialog.list_menu</font></h1>

3 posts by 2 authors.

<h3><font color="#FF4500">cedardoc said…</font></h3>

6/19/10.

What am I doing wrong here?

When I use this:

<pre>
retCode, item2 = dialog.list_menu(options="home, work, freetime,
yard", title="Choose a project", message="Choose only one project",
default="")
</pre>
The options presented are:

<pre>
h
o
m
e
,

w
(etc)
</pre>
What's the proper way to do this (there were no examples in the API Documentation here:

<tt>http://autokey.googlecode.com/svn/trunk/doc/scripting/index.html</tt>  Thanks.  Dave.

<h3><font color="#FF4500">Chris D said…</font></h3>

6/19/10.

In the API doc it states that options must be a list of strings.  In Python, this would be:

options=["home", "work", "freetime", "yard"]

Try that ;)

<h3><font color="#FF4500">cedardoc said…</font></h3>

6/19/10.

thanks, that works :-)

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: command line - run scripts/abbreviations</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">skooter1121 said…</font></h3>

6/14/10.

I'd like to be able to run a phrase/script like:

<pre>
$autokey (abbreviation SK)
 paste Skooter1121

$autokey (script I've called Insert Day Date Time)
 import datetime
 output = datetime.datetime.today().strftime("%a %m-%d-%y %I:%M:%S  ")
 keyboard.send_keys(output)
</pre>
I have a thought about the 'menu' idea I suggested previously.  I think that if I can run these sort of commands from the command line I'd be able to set up a gnome panel drawer, on the ends of the panel with launchers for these commands.  This would enable a panel drawer to be open, show the launchers effectively as buttons, on top of the desktop.

This would provide a custom 'menu' option to run AutoKey phrases and scripts.

AutoKey is the greatest utility since Norton Commander!

—Skooter

<h3><font color="#FF4500">Chris D said…</font></h3>

6/18/10.

This is certainly possible but not really all that easy to implement.  It's also not really in keeping with the main way AutoKey works (i.e. by responding to typed input).  It'll go on the possible ideas pile for now:

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: running scripts simultaneously?</font></h1>

7 posts by 3 authors.

<h3><font color="#FF4500">cedardoc said…</font></h3>

6/2/10.

please excuse my many posts lately, but I'm really loving autokey and am using it a lot:

anyway, I've noticed that when you're entering info, say into a dialog box brought up by autokey, you can't trigger another autokey script,e.g. the hotkey to insert a date or time, presumably because autokey is still busy with the first thing you opened.

Is there a simple way around this?

-Dave.

<h3><font color="#FF4500">Chris D said…</font></h3>

6/2/10.

The simple answer is no…the complex answer is that currently the code that manages script execution is not threadsafe/reentrant.  It's not just a matter of allowing multiple scripts to be executed in parallel, there would need to be further modifications to make everything threadsafe.

<h3><font color="#FF4500">cedardoc said…</font></h3>

6/9/10.

I had this idea that if I make the dialog script into its own separate file.py and just launch it with a hot key, the second autokey script would be free to run once the dialog is open.  But, surprise, theres a problem (it doesn't work - nothing happens).  Here's my addTaskGui.py script:

<pre>
#!/usr/bin/python
retCode, item = dialog.input_dialog("Add to task", "What would you
like to add to tasks?", default="add pro:work ")
item2="/usr/bin/task "
item3=item2 + item
system.exec_command(item3, False)
</pre>
which I took right from the autokey script that does work just fine.  Is "retCode" something that's build into autokey and that I need to import into this separate python script?  I tried adding the line "import subprocess" before it, but that didn't work.  I also tried googling "python retcode dependencies" but that wasn't helpful.

Any suggestions?

<h3><font color="#FF4500">Chris D said…</font></h3>

6/9/10.

Nope…that won't work because many of the constructs and namespaces used in AutoKey scripts are provided dynamically at runtime.  The script runs inside the same Python interpreter that AutoKey is running in (in a separate thread).  I'm afraid there simply isn't any way to do what you are trying to do, as things currently stand.

<h3><font color="#FF4500">skooter1121 said…</font></h3>

6/14/10.

I've able to get this to work by using another messaging , zenity, program to open a user input box.

I've created this script that goes to Wikipedia and searches for a word and reports back a mini encyclopedia listing. (It can only search for one word at a time.)

Script:

#!/bin/bash  zenity—info—text="$(dig +short txt $(zenity—entry—title="Quickie Wiki"—text="Enter your search word:").wp.dg.cx)"

<h3><font color="#FF4500">skooter1121 said…</font></h3>

6/14/10.

Apologies for the partial posting:

I've able to get this to work by using another messaging , zenity, program to open a user input box.

I've created this script that goes to Wikipedia and searches for a word and reports back a mini encyclopedia listing. (It can only search for one word at a time.)

Script:

#!/bin/bash  zenity—info—text="$(dig +short txt $(zenity—entry—title="Quickie Wiki"—text="Enter your search word:").wp.dg.cx)"

I have a shortcut that AutoKey recognizes and runs this script.  For example: I also have set an abbreviation  for the phrase 'syzygy', as 'sy' When the user input box opens  and types sy AutoKey pastes 'syzygy'  in and does the search.

Neat.

-Skooter   <h3><font color="#FF4500">cedardoc said…</font></h3>


6/14/10.

When Christiaan said I couldn't use python script for this purpose, I started looking at how to do it with bash and zenity was on my to do list to try.  Thanks for confirming that it works :-)

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: AutoHotKey to AutoKey</font></h1>

4 posts by 2 authors.

<h3><font color="#FF4500">reblok said…</font></h3>

6/5/10.

I'm one of those recent movers to Linux (Ubuntu) form whom a replacement for AutoHotKey was a necessity.  It looks like AutoKey is it.

I understand that at one time there was a script that converted AHK abbreviations to AK abbreviations but it was dropped when a change took place.  That's would be a great solution for movers but even with that:

My biggest qualm with AK as opposed to AHK is the need for dialogs to enter abbreviations.  Not that they are there - obviously it makes entry of simple abbreviations easier in the sense that hitting a radio button for case sensitivity is easier for many people than writing the code for it.

But it's also much slower.  I'm sure people can enter (AHK code) :c:cmrrr::Certified Mail - Return Receipt Requested :c :Cmrrr::CERTIFIED MAIL - RETURN RECEIPT REQUESTED much, much faster in a text editor than making those same two case~sensitive entries using AK's dialogs.

I have well over a hundred entries in my AHK abbreviation script.  It may be over 200 at this point.

Is there any thought (or maybe there already is the ability) to enter abbreviations directly or create a script that can either contain multiple abbreviations or will allow for mass entry?

<h3><font color="#FF4500">Chris D said…</font></h3>

6/6/10.

The API to create abbreviations and set the options on them is extremely simple.  Most of the work to make this happen would be around correctly parsing the input file from AHK.

I guess the main reason this hasn't happened yet is because we only get occasional requests and usually the users making the request have manually entered their data long before any prototype or hack could be prepared…The alternative of implementing it as a proper feature is of course quite a lot of work:

<h3><font color="#FF4500">reblok said…</font></h3>

6/7/10.

Where is the file that contains the abbreviations?  I'd like to give a try at manually converting my AHK abbreviation script and paste it in.  I'll let others know the results for whatever benefit there may be.

<h3><font color="#FF4500">Chris D said…</font></h3>

6/7/10.

~/.config/autokey/autokey.json  Please use the search function on this group, many of these kinds of questions have been answered previously.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Stop running script</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">Geck0 said…</font></h3>

6/4/10.

Dear All.

I've written a script which send some mouse click events into a window.  Some sleep command with more then one seconds had been required to wait for the browser to get done.  While I was debugging this small script I'd to be able to stop the running of it.  Is there any way to stop/exit from the running script ex. with a defined keyboard shortcut?

Thank you in advance.

Best Regards.  Gyorgy   <h3><font color="#FF4500">Chris D said…</font></h3>


6/6/10.

At the moment there is no way to stop a running script, other than to restart AutoKey completely.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: execute shell command from a user input string</font></h1>

7 posts by 2 authors.

<h3><font color="#FF4500">cedardoc said…</font></h3>

5/28/10.

I'm trying to send a user input string to a terminal without actually opening a terminal.  Here's what I tried:

<pre>
retCode, item = dialog.input_dialog("Add to task", "What would you
like to add to tasks?")
system.exec_command(item)
</pre>
And I also tried:

<pre>
system.exec_command(item, False)
</pre>
an example string would be "task add get the mail" which, if entered at a terminal (anywhere in the tree) would do what I want.  I know I could just open the terminal and enter it, but I'm going for fast and least possible keystrokes (type, enter (done))

Is this even possible?

Thanks.  Dave.

<h3><font color="#FF4500">Chris D said…</font></h3>

5/28/10.

I don't see any problem with what you're trying to do.  What actually happens when you run the script?

<h3><font color="#FF4500">cedardoc said…</font></h3>

5/28/10.

When I do the first one, the command doesn't work and there's this error:

<pre>
Traceback (most recent call last):
  File "/usr/lib/python2.6/dist-packages/autokey/service.py", line
395, in execute
    exec script.code in self.scope
  File "<string>", line 2, in <module>
  File "/usr/lib/python2.6/dist-packages/autokey/scripting.py", line
350, in exec_command
    raise subprocess.CalledProcessError(retCode, output)
CalledProcessError: Command '' returned non-zero exit status 127
</pre>
When I do the one with ", False)" in it, it also doesn't work, but there's no errors.

<h3><font color="#FF4500">Chris D said…</font></h3>

5/28/10.

Exit code 127 means "command not found".  You need to give the full path to the binary (e.g. /usr/bin/task instead of just task)

<h3><font color="#FF4500">cedardoc said…</font></h3>

5/28/10.

I tried this:

<pre>
retCode, item = dialog.input_dialog("Add a task", "What's the new
task?")
item2="/usr/bin/task "
item3=item + item2
system.exec_command(item3, False)
</pre>
(and also without the "False)" in it.  In both cases it didn't work and the one without "False" got the same error.

I did check and the task executable is in "/usr/bin"   <h3><font color="#FF4500">Chris D said…</font></h3>


5/30/10.

There is a mistake in your script - you are prepending the task to the binary name ending up with a command that looks like this:

"Add get the mail/usr/bin/task ".  Change your script as follows:

<pre>
retCode, item = dialog.input_dialog("Add a task", "What's the new task?")
 system.exec_command("task add " + item, False)
</pre>
<h3><font color="#FF4500">cedardoc said…</font></h3>

5/31/10.

Yikes! how embarrassing!

and…

Yay! now it works - Thanks!

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Can I exclude windows in Window Filter?</font></h1>

3 posts by 2 authors.

<h3><font color="#FF4500">hobbyhack said…</font></h3>

5/26/10.

Is there a way to exclude windows with the Window Filter field?

I am a heavily virtualized and at any given time I have 2-3 different guest operating systems running through Virtual Box.  I can easily identify the windows because they end in "VirtualBox OSE".

I would like to run autokey on both the guest and host operating system and use the same abbreviations and hotkeys.  A good example is I replace adr with my phone number.  When I am on my work virtual machine computer I want it to input my work address.  When I am on my host system I want it to type my home address.  Right now the host grabs that input and sends my home address while my work machine is changing it to my work address and the result is garbled.

<h3><font color="#FF4500">Chris D said…</font></h3>

5/26/10.

Yes, that is pretty much the point of the window filter.  The text you enter is compiled as a regular expression, so you have pretty much unlimited power in how you want to match window names.  Only window names that match the expression will cause the abbreviation to trigger.

To match in all windows except one with a certain title is a little trickier as regexes do not provide a straight-forward way of doing so.  However, the following should work:

^((?!.`*`VirtualBox OSE).)`*`$

The above assumes that the window title ends on VirtualBox OSE.  Any window titles that end on this will NOT trigger a match, and any that don't, will.

<h3><font color="#FF4500">hobbyhack said…</font></h3>

5/26/10.

Awesome!  Thank you very much.  This tool is amazing and has allowed me to finally move completely to Linux.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: how to get a script to invoke an abbreviation</font></h1>

5 posts by 2 authors.

<h3><font color="#FF4500">cedardoc said…</font></h3>

5/23/10.

Good afternoon.

I'm trying to make a script open a terminal and type in the following:

curl -u gmailname—silent "https://mail.google.com/mail/feed/atom" | perl -ne 'print "\t" if //; print "$2\n" if /<(title)>(.`*`)<\/\1>/;'

(its a thing that fetches the titles of your most recent gmails)

but when I use this:    keyboard.send_keys("clgs ") in the script (clgs is the abbreviation trigger) it doesn't expand out.

Initially I tried to put the whole "curl…" thing in "keyboard.send_keys("curl…"), but with all the quotes in there already I couldn't get that to be rendered by the script.  I tried using single quotes and two double quotes and square brackets, but to no avail:

Can someone help me out with either approach to getting this to work?

Thanks. and don't forget the final episode of Lost (if you're into that sort of thing)  ;-) Dave.

<h3><font color="#FF4500">Chris D said…</font></h3>

5/23/10.

You can't trigger an abbreviation by typing it using a script - this is a deliberate design decision to avoid infinite recursive abbreviations from accidental miss-configuration.

The easiest way to escape that string would be to triple-quote it, like so:

"""curl -u gmailname—silent "https://mail.google.com/mail/feed/atom" | perl -ne 'print "\t" if //; print "$2\n" if /<(title)>(.`*`)<\/\1>/;'"""

<h3><font color="#FF4500">cedardoc said…</font></h3>

5/23/10.

Thank you - that worked.

<pre>
On May 23, 6:44 pm, Christiaan Dekter wrote:
> You can't trigger an abbreviation by typing it using a script - this is a
> deliberate design decision to avoid infinite recursive abbreviations from
> accidental miss-configuration.
>
> The easiest way to escape that string would be to triple-quote it, like so:
>
> """curl -u gmailname —silent
> "https://mail.google.com/mail/feed/atom<feed/atom>"
</pre>
<h3><font color="#FF4500">cedardoc said…</font></h3>

5/24/10.

One final note - it actually didn't work until I added an extra backslash for every one in the original - I guess in Autokey the backslash is some sort of escape thingie.  Anyway, for those who are interested, here's the final script that works - its handy for checking just the titles of emails really quickly.

If anyone can figure out how to get it to write the list out to a file instead of print it, I think that would be even more valuable.

if window.wait_for_exist(".`*`david@linux.`*`", timeOut=.5): window.activate("david@linux", switchDesktop=False) keyboard.send_keys("clear<enter>") keyboard.send_keys("""curl -u accountname—silent "https:// mail.google.com/mail/feed/atom" | perl -ne 'print "\\t" if //; print "$2\\n" if /<(title)>(.`*`)<\/\\1>/;'""") keyboard.send_key("<enter>") keyboard.send_keys("accountpassword<enter>") else: system.exec_command("gnome-terminal", False) time.sleep(0.5) keyboard.send_keys("""curl -u accountname—silent "https:// mail.google.com/mail/feed/atom" | perl -ne 'print "\\t" if //; print "$2\\n" if /<(title)>(.`*`)<\/\\1>/;'""") keyboard.send_key("<enter>") keyboard.send_keys("accountpassword<enter>")

<h3><font color="#FF4500">cedardoc said…</font></h3>

5/24/10.

ps, if it sometimes doesn't work for you, throw in a  time.sleep(0.5)

before the part where you enter the password  Dave. (ref for searches: "favourite scripts")

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: French (Azerty) keyboard problem (solved)</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">kaspin said…</font></h3>

5/13/10.

An unusual AZERTY keyboard problem crept in recently when using Autokey with Ubuntu 10.04.  The "@" key in a phrase expansion text changed the French keyboard layout to QWERTY.  For example my text "amq@amq" was output by Autokey as "amqq;a" (the @ did not appear in the output).  I had only the AZERTY layout configured on my PC.  I tried reloading Ubuntu and reinstalling version 0.61.72 of Autokey, but still the same problem.  However, after adding CDekter's repository in Synaptics and updating from 0.61.7 to 0.70.4 the problem went away!  Strange, but true……..Thanks for a great product. kaspin   <h3><font color="#FF4500">Chris D said…</font></h3>


5/13/10.

That's good to know…there were a large number of changes to the keyboard mapping code from 0.61.7 to 0.70.4 so I'm not surprised that it fixed the problem for you.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: How to start matlab?</font></h1>

10 posts by 5 authors.

<h3><font color="#FF4500">suresh said…</font></h3>

5/6/10.

Hi  When I used the following script for starting matlab, system.exec_command("/usr/local/bin/matlab") matlab starts, but ends quickly without giving command prompt etc.

Any suggestions?

Thanks suresh   <h3><font color="#FF4500">Chris D said…</font></h3>


5/6/10.

Maybe try:

system.exec_command("/usr/local/bin/matlab", False)

<h3><font color="#FF4500">suresh said…</font></h3>

5/7/10.

No, it does not work.  Matlab emblem appears and then vanishes: suresh   <h3><font color="#FF4500">Luke Faraone said…</font></h3>


5/7/10.

<pre>
On Fri, May 7, 2010 at 22:01, suresh wrote:
> No, it does not work. Matlab emblem appears and then vanishes:
</pre>
That sounds like a problem with Matlab.  Can you start it by executing "/usr/local/bin/matlab" in the terminal?

—Luke Faraone.

<h3><font color="#FF4500">suresh said…</font></h3>

5/8/10.

Yes.  I can run matlab from command line like this $/usr/local/bin/matlab  See when I press the hot key, matlab `*`does`*` start but stops automatically just after displaying its logo.

My autokey script is like this: system.exec_command("/usr/local/bin/matlab",False)

But I tried to test this command in a python shell which didnt work either.  I am surprised why?

Thanks suresh   <h3><font color="#FF4500">Saravanan said…</font></h3>


5/9/10.

Hello Suresh.

I have a similar problem although my script is this:

import subprocess subprocess.Popen(["/usr/local/bin/matlab", "-glnx86"])

Note : If you are using a 64 bit system and have done a 32 bit install (most student versions are) , then you need to use -glnx86 flag.

For me the interesting thing is that, matlab starts successfully when I execute the script from Python shell (2.6.5) and when I am running autokey-gtk -l.  But when autokey is started automatically (using Ubuntu's System -> Preferences -> Startup apps) , it does not work ~It just shows the startup screen and immediately quits.

I am not sure of the reason though .  Quite strange, I have to say !  I dont find any core files or other logs and hence it is hard to debug.

Regards.  Saravanan   <h3><font color="#FF4500">Saravanan said…</font></h3>


5/9/10.

Forgot to add that this `*`MOST`*` likely is not autokey's fault.

When you invoke matlab from your autokey script, it will show you a welcome screen and immediately disappear.  But if you do a ps -auxwww | grep -i matlab  you will see  [MATLAB] <defunct> process in the process listing.

What is happening is this : when you start matlab from a script , it goes in to a command line mode instead of going into the GUI mode .  To see it for yourself, do this : have a script eg startmatlab.sh and have the file content as /usr/local/bin/matlab -glnx86 & (or whatever you use to run matlab)

Now try invoking the script from Python shell.

<pre>
>>> import subprocess
>>> subprocess.Popen(["/bin/bash", "/home/neo/startMatlab.sh"])
</pre>
Matlab will be opened "within" the python  shell AND in command line mode.  I `*`guess`*` this is what is happening when we invoke matlab using autokey scripts.  I had done some research on how to avoid this but so far no solution yet.

So I suggest, you have a bash (or some shell)  alias for matlab if you do not want to type the whole command.

Regards.  Saravanan.

<pre>
On May 9, 5:23 pm, Saravanan wrote:
</pre>
<h3><font color="#FF4500">suresh said…</font></h3>

5/9/10.

Saravanan, thanks for the reply!

Regards.

suresh.

<pre>
On May 9, 3:23 pm, Saravanan wrote:
</pre>
<h3><font color="#FF4500">Derek said…</font></h3>

5/10/10.

This page gives some command line options for matlab:

<pre>
 http://www.mathworks.com/access/helpdesk/help/techdoc/ref/matlabunix.shtml
</pre>
It looks like you might need to use the -desktop option: "Allow the MATLAB desktop to be started by a process without a controlling terminal.  This is usually a required command line argument when attempting to start MATLAB from a window manager menu or desktop icon."

On May 9, 3:47 pm, Saravanan   <h3><font color="#FF4500">Saravanan said…</font></h3>


5/11/10.

Derek.

Adding the  -desktop option solved the issue.  Thanks a lot !

Suresh.

The script that works for me is:

<pre>
import subprocess
subprocess.Popen(["/usr/local/bin/matlab", "-glnx86", "-desktop"])
</pre>
<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: New attempt with AutoKey, this time with new Ubuntu</font></h1>

5 posts by 2 authors.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

5/9/10.

History: I had a problem with AutoKey that I wrote about in another thread.  The problem was that AutoKey doesn't send the <Enter> key, so my multi row phrases came out on only one row.  I thought that the problem might be related to a gbug in my system, since it happened on one of my computer but not on the other one, and both of them had the same version of Ubuntu and AutoKey.

Problem: Well, now I finally installed Ubuntu 10.04 and maybe I did something wrong when I installed AutoKey.  The problem now is that I got an very old version of AutoKey, that is 0.61.7.

What I did:

I installed AutoKey with a script that I use to install all the software that Ubuntu lacks out of the box automatically and it looks like this (everything that is not related to AutoKey is omitted here and I translated all text to English, just for you.):

<pre>
#!/bin/sh

Work () { ######################################################################
    x=$(zenity —list —title "$1" —text "Do you want to install $1?" \
    —column "Answer" "Yes" "No" —height 150)
    case $x in
    "Ja")
        gksudo — apt-get $3 install $2;;
    "Nej")
        ;;
    `*`)
        zenity —info —text "Welcome back\!"
        exit 10;;
    esac
}

# Main menu ####################################################################
x=$(zenity —list —title "Mode" \
—text "Do you want to install or simulate?" \
—column "VÃ¤lj" "Simulate" "Install" —height 150)

case "$x" in
"Simulate")
    Options="—simulate";;
"Install")
    Options="—yes"
    gksudo — apt-get update
    gksudo — apt-get upgrade;;
`*`)
    zenity —info —text "Welcome back\!"
    exit 10;;
esac

##########################################################
PackageName="AutoKey"
Package="autokey-gtk"
add-apt-repository ppa:cdekter/ppa
gksudo — apt-get update
Work "$PackageName" "$Package" "$Options"

# More code to install a lot of other stuff here
################################################################################
</pre>
Do I use the wrong repository or what?

Thanks  Johnny Rosenberg.

<h3><font color="#FF4500">Chris D said…</font></h3>

5/9/10.

The version you got is the version that is in the official repositories for Lucid…check in Synaptic that the PPA repository has been added properly, check that the available version for autokey-gtk is 0.70.4, try disabling and re-enabling the repo in Synaptic and doing update:

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

5/9/10.

<pre>
2010/5/9 Christiaan Dekter:
> The version you got is the version that is in the official repositories for
> Lucid…check in Synaptic that the PPA repository has been added properly,
> check that the available version for autokey-gtk is 0.70.4, try disabling
> and re-enabling the repo in Synaptic and doing update:
</pre>
Oh, that explains it.  I didn't know that AutoKey was available in the official repos, so I didn't check that, but you are right.  For some reason "add-apt-repository ppa:cdekter/ppa" seems to have failed.  Do I need to do that is root?  Because I didn't, so maybe that's why I got the wrong version.

If I get it right, how can I be sure which version is installed when I do the "gksudo—apt-get—yes install autokey" in my script?  If there are two different versions available, which one will be installed.?

Johnny Rosenberg.

<h3><font color="#FF4500">Chris D said…</font></h3>

5/9/10.

<pre>
On 9 May 2010 19:55, Johnny Rosenberg wrote:

> 2010/5/9 Christiaan Dekter:
> The version you got is the version that is in the official repositories for
 > Lucid…check in Synaptic that the PPA repository has been added properly,
 > check that the available version for autokey-gtk is 0.70.4, try disabling
 > and re-enabling the repo in Synaptic and doing update:
</pre>
Oh, that explains it.  I didn't know that AutoKey was available in the official repos, so I didn't check that, but you are right.  For some reason "add-apt-repository ppa:cdekter/ppa" seems to have failed.  Do I need to do that is root?  Because I didn't, so maybe that's why I got the wrong version.

Yes you need to be root when running add-apt-repository  If I get it right, how can I be sure which version is installed when I do the "gksudo—apt-get—yes install autokey" in my script?  If there are two different versions available, which one will be installed.?

The version with the highest version number will always be installed, so if you set up the repository correctly this will happen without any further intervention.  As an aside, the autokey package is deprecated and should not be installed.  Install either autokey-gtk or autokey-qt   <h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>


5/9/10.

<pre>
2010/5/9 Christiaan Dekter:
>
>
> On 9 May 2010 19:55, Johnny Rosenberg wrote:
>>
>> 2010/5/9 Christiaan Dekter:
>> > The version you got is the version that is in the official repositories
>> > for
>> > Lucid…check in Synaptic that the PPA repository has been added
>> > properly,
>> > check that the available version for autokey-gtk is 0.70.4, try
>> > disabling
>> > and re-enabling the repo in Synaptic and doing update:
>>
>> Oh, that explains it. I didn't know that AutoKey was available in the
>> official repos, so I didn't check that, but you are right. For some
>> reason "add-apt-repository ppa:cdekter/ppa" seems to have failed. Do I
>> need to do that is root? Because I didn't, so maybe that's why I got
>> the wrong version.
>
> Yes you need to be root when running add-apt-repository
>
>>
>> If I get it right, how can I be sure which version is installed when I
>> do the "gksudo — apt-get —yes install autokey" in my script? If
>> there are two different versions available, which one will be
>> installed.?
>>
>
> The version with the highest version number will always be installed, so if
> you set up the repository correctly this will happen without any further
> intervention. As an aside, the autokey package is deprecated and should not
> be installed. Install either autokey-gtk or autokey-qt
</pre>
Yes, I know that.  I installed autokey-gtk as usual, see my first post in this thread.

Johnny Rosenberg.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: A note for those upgrading to Lucid</font></h1>

28 posts by 6 authors.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/29/10.

If you are upgrading to Lucid, you might like to change your Interface setting to XRecord - the patch I wrote to fix this in X.org has been backported to Lucid so it should work.  At the same time, you might like to disable the AutoKey daemon as it's not required if you're not using the XEvDev interface.  You can do this by running  sudo update-rc.d autokey disable  I'm very interested to hear any reports about using AutoKey in Lucid too:

<h3><font color="#FF4500">Luke Faraone said…</font></h3>

4/29/10.

<pre>
On 04/29/2010 07:54 PM, Chris Dekter wrote:
> If you are upgrading to Lucid, you might like to change your Interface
> setting to XRecord - the patch I wrote to fix this in X.org has been
> backported to Lucid so it should work. At the same time, you might
> like to disable the AutoKey daemon as it's not required if you're not
> using the XEvDev interface. You can do this by running
>
> sudo update-rc.d autokey disable
</pre>
Works fine for me under Lucid.  If you'd like, we can remove or disable the XEvDev daemon from all but builds prior to Ubuntu Lucid and current Debian testing/unstable, assuming we get good feedback.

<pre>
> I'm very interested to hear any reports about using AutoKey in Lucid
> too:
</pre>
See above ^^ :)

Luke Faraone.

<h3><font color="#FF4500">mfseeker said…</font></h3>

5/1/10.

I followed these instructions, changing the interface to XRecord and disabling the Autokey daemon.  My hotkeys and expansions no longer work.  Only the menu phrases work.  I uninstalled Autokey-gtk and replaced it with Autokey-qt.  Same result.  I restarted my system (Karmic).  Same result.

<h3><font color="#FF4500">Luke Faraone said…</font></h3>

5/1/10.

<pre>
On May 1, 2010, at 13:12, Stan Armstrong wrote:
> I followed these instructions, changing the interface to XRecord and
> disabling the Autokey daemon. My hotkeys and expansions no longer
> work. Only the menu phrases work. I uninstalled Autokey-gtk and
> replaced it with Autokey-qt. Same result. I restarted my system
> (Karmic). Same result.

As the original email stated, XRecord will only work on Lucid. What
you experienced is the expected behavior.
</pre>
Thanks.  Luke Faraone.

<h3><font color="#FF4500">mfseeker said…</font></h3>

5/1/10.

Well, that was a costly oversight.  Now I am unable to restore the program.  I have reinstalled Autokey-gtk, reselected EvDev, and run sudo update-rc.d autokey enable.  Apparently, I need to add some parameters to that command in order to get Autokey to work again.  When I issued the command I got this result.

<pre>
stan@stan-desktop:~$ sudo update-rc.d autokey enable
update-rc.d: warning: autokey start runlevel arguments (none) do not
match LSB Default-Start values (2 3 4 5)
update-rc.d: warning: autokey stop runlevel arguments (none) do not
match LSB Default-Stop values (0 1 6)
  Enabling system startup links for /etc/init.d/autokey :
  Removing any system startup links for /etc/init.d/autokey :
    /etc/rc0.d/K20autokey
    /etc/rc1.d/K20autokey
    /etc/rc2.d/K80autokey
    /etc/rc3.d/K80autokey
    /etc/rc4.d/K80autokey
    /etc/rc5.d/K80autokey
    /etc/rc6.d/K20autokey
  Adding system startup for /etc/init.d/autokey :
    /etc/rc0.d/K20autokey -> ../init.d/autokey
    /etc/rc1.d/K20autokey -> ../init.d/autokey
    /etc/rc6.d/K20autokey -> ../init.d/autokey
    /etc/rc2.d/S20autokey -> ../init.d/autokey
    /etc/rc3.d/S20autokey -> ../init.d/autokey
    /etc/rc4.d/S20autokey -> ../init.d/autokey
    /etc/rc5.d/S20autokey -> ../init.d/autokey
</pre>
What do I need to do to restore Autokey?

Thanks.

Stan Armstrong   <h3><font color="#FF4500">Derek said…</font></h3>


5/1/10.

<pre>
On May 1, 5:18 pm, Stan Armstrong wrote:
> What do I need to do to restore Autokey?
Maybe this:
</pre>
sudo update-rc.d autokey defaults   <h3><font color="#FF4500">Chris D said…</font></h3>


5/1/10.

And then a reboot   <h3><font color="#FF4500">mfseeker said…</font></h3>


5/2/10.

Fixed.

Thanks guys.

Stan.

<h3><font color="#FF4500">mfseeker said…</font></h3>

5/2/10.

Kudos Chris.

Just before I messed up by reading your latest instructions in haste, I was about to write this note.  Now it applies even more.

Congratulations on a steadily maturing program.  Rarely have I found such good development work and prompt, courteous, patient and useful help to those who ran into difficulties along the way.

Thanks yet again for this elegant, useful program.

Stan Armstrong   <h3><font color="#FF4500">Chris D said…</font></h3>


5/2/10.

Re: Kudos Thanks Stan for your kind words, and as we say here in Aus, no worries :P A lot of the enjoyment in writing free software comes from other people finding it useful, so it's great to hear about that.

<h3><font color="#FF4500">Mobilediesel said…</font></h3>

5/2/10.

Re: Kudos.

<pre>
On May 2, 5:25 am, Stan Armstrong wrote:
> Chris.
>
> Congratulations on a steadily maturing program. Rarely have I found such
> good development work and prompt, courteous, patient and useful help to
> those who ran into difficulties along the way.
>
> Thanks yet again for this elegant, useful program.
>
> Stan Armstrong
</pre>
No argument here!

Chris, since you sped up the text replacement I'm trying to invent things to use it for.  Maybe make up my own short-hand typing and have autokey fill everything out.  The only downside would be trying to use someone else's computer and forgetting how to type. :D

<h3><font color="#FF4500">Chris D said…</font></h3>

5/3/10.

Re: Kudos  Yes I was actually thinking that using AutoKey as a system-wide autocorrect tool is now quite feasible.  I now use it for replacing IM abbreviations in Kopete (e.g. y, u, r and so on) and no matter how fast I type it works perfectly.

<h3><font color="#FF4500">Benjamin Kudria said…</font></h3>

5/3/10.

Re: Kudos.

<pre>
On Sun, May 2, 2010 at 22:03, Christiaan Dekter wrote:
> Yes I was actually thinking that using AutoKey as a system-wide autocorrect
> tool is now quite feasible.
</pre>
This would be awesome.  Maybe a special shortcut that would attempt to correct the previous word, and autocorrect in cases where there is a high degree of confidence that something was misspelled (although I could see how that might cause complaints.)

Ben Kudria   <h3><font color="#FF4500">Derek said…</font></h3>


5/3/10.

Re: Kudos  You can easily define autocorrections now using an abbreviation~triggered phrase for each word.

To make it automatically find a misspelled word, I think you would want to select the word and then trigger your autocorrection script to work on it.  You could use Aspell to get a list of suggestions and then popup a menu for choosing the replacement, one of the choices being to keep the original word.

<h3><font color="#FF4500">Derek said…</font></h3>

5/3/10.

Re: Kudos.

<pre>
On May 3, 10:57 am, Derek wrote:
> To make it automatically find a misspelled word, I think you would
> want to select the word and then trigger your autocorrection script to
> work on it.  You could use Aspell to get a list of suggestions and
> then popup a menu for choosing the replacement, one of the choices
> being to keep the original word.
</pre>
Actually, I would call that a spot spell-checker rather than autocorrection.

<h3><font color="#FF4500">Chris D said…</font></h3>

5/3/10.

Re: Kudos  Yup…and in fact this sort of thing is already possible with the features currently available.  You could use the clipboard selection to get the selected text, then use aspell to get suggestions.  If a single suggestion is found you erase the selection and replace.  If not, you can use dialog.list_menu() to display the list of matches.

There is a lot of untapped power in AutoKey's scripting interface…it's just a matter of finding it :)

<h3><font color="#FF4500">mfseeker said…</font></h3>

5/7/10.

I spoke too soon.  My fix didn't survive a reboot.  I get this on rebooting:

<pre>
Stan Armstrong wrote:
Fixed.
</pre>
Thanks guys.

Stan.

Derek wrote:

<pre>
On May 1, 5:18 pm, Stan Armstrong wrote:
What do I need to do to restore Autokey?
</pre>
Maybe this:

<pre>
 sudo update-rc.d autokey defaults
</pre>
97 KB   View   Download   <h3><font color="#FF4500">Derek said…</font></h3>


5/7/10.

If you run this:

<pre>
sysv-rc-conf —list autokey
</pre>
Do you get this?

<pre>
autokey      0:off 1:off 2:on 3:on 4:on 5:on 6:off
</pre>
If you type this does it work?

<pre>
sudo /etc/init.d/autokey start.
</pre>
<pre>
On May 7, 2:01 pm, Stan Armstrong wrote:
> I spoke too soon. My fix didn't survive a reboot. I get this on rebooting:
>
> Stan Armstrong wrote:
> > Fixed.
>
> > Thanks guys.
>
> > Stan.
>
> > Derek wrote:
> >> On May 1, 5:18 pm, Stan Armstrong wrote:
> >>> What do I need to do to restore Autokey?
> >> Maybe this:
> >> sudo update-rc.d autokey defaults
>
>
>
>  moz-screenshot.png
> 97KViewDownload
</pre>
<h3><font color="#FF4500">mfseeker said…</font></h3>

5/7/10.

This is what I get, Derek.

<pre>
stan@stan-desktop:~$ sudo sysv-rc-conf —list autokey
[sudo] password for stan:
autokey      0:off 1:off 2:on 3:on 4:on 5:on 6:off
stan@stan-desktop:~$ sudo /etc/init.d/autokey start
pidfile /var/run/autokey-daemon.pid already exist. Daemon already running?
</pre>
It still doesn't work.  No autokey process is running except autokey-gtk. evDev is not running either.

Stan.

<h3><font color="#FF4500">mfseeker said…</font></h3>

5/7/10.

I spoke too soon, it is running properly now.  Let me try a restart.

Stan.

<h3><font color="#FF4500">mfseeker said…</font></h3>

5/7/10.

Nope, restart killed it again.  Same error message.

Stan.

<h3><font color="#FF4500">Chris D said…</font></h3>

5/7/10.

You need to completely reinstall everything.

<pre>
sudo apt-get remove —purge autokey-common autokey-gtk
</pre>
Make sure /etc/init.d/autokey is gone after this is done, if it's still there    <pre>
sudo rm /etc/init.d/autokey </pre>
Then install again    <pre>
sudo apt-get install autokey-gtk </pre>
<h3><font color="#FF4500">Derek said…</font></h3>

5/7/10.

What do you get for this?:

<pre>
sudo find /etc -name "`*`autokey`*`"
</pre>
<h3><font color="#FF4500">mfseeker said…</font></h3>

5/7/10.

The remove key did remove /etc/init.d/autokey.  The install worked.  Autokey is working again.

Now to see whether it survives a system restart.

Stan.

<h3><font color="#FF4500">mfseeker said…</font></h3>

5/7/10.

Here's what I get:

<pre>
stan@stan-desktop:~$ sudo find /etc -name "`*`autokey`*`"
[sudo] password for stan:
/etc/rc0.d/K20autokey
/etc/rc6.d/K20autokey
/etc/rc5.d/S20autokey
/etc/rc1.d/K20autokey
/etc/rc2.d/S20autokey
/etc/rc4.d/S20autokey
/etc/rc3.d/S20autokey
/etc/init.d/autokey
</pre>
That's before the reinstall that Chris recommended, to which I now turn.

<h3><font color="#FF4500">mfseeker said…</font></h3>

5/7/10.

It survived.  All is well…I think, hope.

Out of curiosity, why did this work when my previous attempt to reinstall with Synaptic failed?  Was it the—purge flag in apt-get?  If so, what was the likely culprit file that apt-get removed and Synaptic left in place?

Thanks.

Stan.

<pre>
 Stan Armstrong wrote:
 The remove key did remove /etc/init.d/autokey.
 The install worked. Autokey is working again.
</pre>
Now to see whether it survives a system restart.

Stan.

<pre>
 Christiaan Dekter wrote:
You need to completely reinstall everything.

 sudo apt-get remove —purge autokey-common autokey-gtk

 Make sure /etc/init.d/autokey is gone after this is done, if it's still there.

 sudo rm /etc/init.d/autokey

 Then install again

 sudo apt-get install autokey-gtk
</pre>
<pre>
On 8 May 2010 09:14, Stan Armstrong wrote:
Nope, restart killed it again. Same error message.

 Stan.
</pre>
<pre>
 Stan Armstrong wrote:
I spoke too soon, it is running properly now. Let me try a restart.

 Stan.
</pre>
<pre>
 Derek wrote:
If you run this:


 sysv-rc-conf —list autokey

 Do you get this?

 autokey      0:off    1:off    2:on    3:on    4:on    5:on    6:off

 If you type this does it work?

 sudo /etc/init.d/autokey start
</pre>
<pre>
 On May 7, 2:01 pm, Stan Armstrong wrote:

I spoke too soon. My fix didn't survive a reboot. I get this on rebooting:

 Stan Armstrong wrote:

Fixed.
 Thanks guys.
 Stan.
</pre>
<pre>
 Derek wrote:
On May 1, 5:18 pm, Stan Armstrong  wrote:
What do I need to do to restore Autokey?
</pre>
Maybe this: sudo update-rc.d autokey defaults  moz-screenshot.png   <h3><font color="#FF4500">Derek said…</font></h3>


5/7/10.

That looks correct anyway.  I was just looking for anything that might have gone wrong with disabling the service and then putting it back.

Glad to see the complete uninstall and reinstall has made it all good again.

Derek.

<pre>
On May 7, 5:18 pm, Stan Armstrong wrote:
> Here's what I get:
>
> stan@stan-desktop:~$ sudo find /etc -name "'*'autokey'*'"
> [sudo] password for stan:
> /etc/rc0.d/K20autokey
> /etc/rc6.d/K20autokey
> /etc/rc5.d/S20autokey
> /etc/rc1.d/K20autokey
> /etc/rc2.d/S20autokey
> /etc/rc4.d/S20autokey
> /etc/rc3.d/S20autokey
> /etc/init.d/autokey
>
> That's before the reinstall that Chris recommended, to which I now turn.
>
> Derek wrote:
> > What do you get for this?:
> > sudo find /etc -name "`*`autokey`*`"
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

5/7/10.

The purge just removes any global (non-user specific) config files.  AutoKey doesn't really have any of those, but I added the—purge flag just to be safe.

The reason it worked this time is that last time you didn't remove autokey-common (or at least you didn't mention it).  That package contains the autokey init script which is where the problem was.

Chris.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: how to get Autokey to "overpower" VNC</font></h1>

3 posts by 2 authors.

<h3><font color="#FF4500">cedardoc said…</font></h3>

5/3/10.

I use VNC a lot (remote desktop viewer on Ubuntu 9.1) and have noticed that when I have a vnc window open that happens to have a text field waiting for input, and then invoke an autokey script that also will be asking for text input, my script will launch, but when I start typing the input I intend for the script input text, the vnc text gets the typing.

Is there a way to change this that you know of?

Thanks.  Dave.

<h3><font color="#FF4500">Chris D said…</font></h3>

5/3/10.

Hmm.. so the script pops up a window to input text, yet the VNC window still gets the keyboard input?  Sounds rather like a bug in VNC viewer.  You could try using window.activate() to activate some other window, then run the input dialog, then use window.activate() to activate the VNC window again.  A bit dodgy, but it might work around the problem.

<h3><font color="#FF4500">cedardoc said…</font></h3>

5/3/10.

what a good idea!  I'll try minimizing all, do the script, and then reverse it (assuming that doesn't minimize all on the viewed computer :-)

Thanks !

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: AutoKey 0.70.4</font></h1>

9 posts by 5 authors.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/29/10.

I take it from the total silence that there are zero bugs in this release? :)

Anybody noticed how much faster phrases are now? (and keyboard.send_keys())

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

4/29/10.

2010/4/29 Chris Dekter:

I don't use it as much as before since I got that strange bug in my system (probably not AutoKey's fault).  I will install the new Ubuntu from scratch soon, maybe this weekend, and hopefully I get rid of that bug then.  Since I am a beginner and know practically nothing about computers I don't see how I can debug the problem.

And yes, phrases are typed much faster now, but I can't see any difference as long as I use them in Opera.  Something is delaying them here, but the speed is at least acceptable also in Opera.

Johnny Rosenberg.

<h3><font color="#FF4500">Derek said…</font></h3>

4/29/10.

<pre>
On Apr 28, 11:10 pm, Chris Dekter wrote:
> I take it from the total silence that there are zero bugs in this
> release? :)
</pre>
I haven't found any bugs.  AutoKey is running better than ever.  I use it constantly, and I haven't had to restart it for anything with this version.  I'm still on Hardy.

<pre>
> Anybody noticed how much faster phrases are now? (and
> keyboard.send_keys())
</pre>
Yes, the keystroke sending is dramatically faster, perceptually instantaneous now.  That's a very nice improvement.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/29/10.

If after upgrading you are still having that problem, we'll try to debug it further.  I suspect there is some problem somewhere with your keymap on that machine, so a fresh install will prove or disprove that.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

4/30/10.

<pre>
2010/4/30 Christiaan Dekter:
> If after upgrading you are still having that problem, we'll try to debug it
> further. I suspect there is some problem somewhere with your keymap on that
> machine, so a fresh install will prove or disprove that.
</pre>
I am not sure what a keymap is, but as you probably know I use my own keyboard layout, but I don't think it has anything to do with my problem, because I switched back to the default Swedish layout and that didn't solve the problem.  But maybe you mean something else by "keymap".

I think the problem started when I installed something else, but I am not sure what.  The first application I suspected was something called PDF Studio, but that's a Java application and is not really "installed on the system", so I don't blame it anymore.  But I install things now and then so I am not sure what caused it.

I'll probably install Ubuntu 10 this weekend and I'll get back here telling you the result.  Have a nice weekend, everyone!

Johnny Rosenberg.

<h3><font color="#FF4500">Joon said…</font></h3>

5/2/10.

Actually I haven't tried to upgrade after I found the Caps Lock to CTRL mapping did not work in the previous version.  I'm still using 0.61.6, and may I ask you if the Caps Lock thing is fixed?

Thank you.  Joon   <h3><font color="#FF4500">Chris D said…</font></h3>


5/3/10.

Yes that should be fixed.  Make sure you back up your ~./config/autokey folder because from 0.61.6 to 0.70.4 is quite a big jump - it should work, but I haven't specifically tested it.

<h3><font color="#FF4500">Joon said…</font></h3>

5/3/10.

Yes it works perfectly.

I just did $ python setup.py build and then  $ python setup.py install, and it just worked.  Very nice.  Though I am not sure what would happen if I were to install it from the scratch in openSUSE :)

The speed increase it very impressive.  It is now almost instantaneous.

By the way, now autokey.json in .config/autokey is the file containing the configurations?

Best Regards.  Joon   <h3><font color="#FF4500">Luke Faraone said…</font></h3>


5/3/10.

<pre>
On 05/03/2010 06:17 PM, joon wrote:
> By the way, now autokey.json in .config/autokey is the file containing
> the configurations?
</pre>
Yes.

Luke Faraone.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: version 1.0 ?</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">jflevi said…</font></h3>

5/2/10.

I have been using AK for quite a while now; just before Chris took over.  I am amazed to see the progress made; the app is stable, the support, OUTSTANDING.  Actually, it is what I needed to ditch Windoze.

I don't know what you guys think, but I feel Autokey is ready for "prime time".

Once more a big THANK YOU to Chris.

<h3><font color="#FF4500">Chris D said…</font></h3>

5/3/10.

That has been my goal the last few months - to iron out the remaining design flaws and bugs to get to a v1.0 level of stability.  It's been almost exactly two years since I started working on AutoKey.  Perhaps by the feature freeze date for Ubuntu 10.10 I'll reach v1.0 :)

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Converting/Teleporting AHK Data to Autokey??</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">qalisto said…</font></h3>

4/30/10.

I am new to Ubuntu (9.10) and finally got Autokey working after some false starts.  (I learned a lot about Repository config, etc.!)

Having finally dumped Win-Doze I needed badly to find a text expander to replace AutoHotKey.  Autokey is now working OK at first blush. (Really, it makes a huge impact in OS conversion for those of us hooked on 'productivity').

Knowing zero about programming…I wonder if anyone could opine on whether a file converter could conceivably be developed to convert AHK files - in particular those containing text expansions in the common "::<abbrev>::<full expansion>" syntax.

That would be brilliant!

Am I correct that the mythical `*`.json file contain expansion data??

Big thanks to Mr.  Dekter and all others assisting this important project.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/30/10.

<pre>
On 30 April 2010 16:52, qalisto wrote:
 I am new to Ubuntu (9.10) and finally got Autokey working after some
 false starts.  (I learned a lot about Repository config, etc.!)

 Having finally dumped Win-Doze I needed badly to find a text expander
 to replace AutoHotKey.  Autokey is now working OK at first blush.
 (Really, it makes a huge impact in OS conversion for those of us
 hooked on 'productivity').

 Knowing zero about programming…I wonder if anyone could opine on
 whether a file converter could conceivably be developed to convert AHK
 files - in particular those containing text expansions in the common
 "::<abbrev>::<full expansion>" syntax.
</pre>
I had hacked together a conversion script for exactly that purpose, but it was about a year ago.  It wouldn't work with the current version any more.  However, it wouldn't be too hard for me to come up with a current version of the script, if you're really that keen :)

That would be brilliant!

Am I correct that the mythical `*`.json file contain expansion data??

That is correct - it contains that and a lot of other configuration data as well.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Version 0.70.3 incoming</font></h1>

9 posts by 2 authors.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/21/10.

A new version is uploading to the PPA right now.  There are quite a few tweaks and fixes, but the main highlight is that AutoKey can now send characters via the keyboard that aren't in your keyboard map.  This is done by intelligently adjusting the keyboard map before sending the phrase.  It's a fairly core change so there might be some bugs.  For KDE users this means at last they can send unicode characters via the keyboard.

I'm also interested in test results from anyone using the Record interface (successfully), specifically some messages that are printed during startup in debug mode.

<h3><font color="#FF4500">Derek said…</font></h3>

4/21/10.

So far, it's working perfectly for me.  I'm using X Record on Hardy with GNOME.

I like that I can now use abbreviations and hotkeys within the configuration window, since I sometimes want to use them in editing a script.  Thanks for the improvements.

Here are my log results:

<pre>
autokey-gtk -l
INFO - root - Initialising application
INFO - config-manager - Loading config from existing file: /home/
derek/.config/autokey/autokey.json
INFO - config-manager - Configuration changed - rebuilding in-memory
structures
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - config-manager - Finished persisting configuration - no errors
INFO - root - Initialise global hotkeys
INFO - config-manager - Successfully loaded configuration file
DEBUG - config-manager - Global settings: {'showTrayIcon': True,
'sortByUsageCount': True, 'undoUsingBackspace': True,
'enableQT4Workaround': False, 'promptToSave': False, 'menuTakesFocus':
False, 'inputSavings': 2342, 'interfaceType': 'XRecord',
'windowDefaultSize': [1067, 1038], 'showToolbar': True,
'serviceRunning': True, 'columnWidths': [150, 50, 100],
'hPanePosition': 401, 'isFirstRun': False}
INFO - service - Starting service
DEBUG - interface - Modifier masks: {'<capslock>': 2, '<alt_gr>': 128,
'<numlock>': 16, '<ctrl>': 4, '<shift>': 1, '<alt>': 8, '<super>': 64}
DEBUG - interface - Grabbing hotkey: ['<ctrl>', '<super>'] 'k'

…(more hotkey grabbing):

DEBUG - interface - Alt-Grid: XK_KP_Enter, 65421
DEBUG - interface - [(113, 0), (124, 0), (113, 2)]
DEBUG - interface - X Server Keymap
DEBUG - interface - [\] : [(51, 0)]

…(more key codes):

INFO - interface - XRecord interface thread starting
INFO - service - Service now marked as running
INFO - root - Entering main()

…[selected Quit from the notifier icon menu]:

DEBUG - service - Received mouse click - resetting buffer
DEBUG - phrase-menu - Sorting phrase menu by usage count
DEBUG - service - Received mouse click - resetting buffer
INFO - root - Shutting down
INFO - service - Service shutting down
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - config-manager - Finished persisting configuration - no errors
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

4/21/10.

That's great to hear.

I just realised that the message I'm looking for is logged when you press the first key after starting the program - up for doing another log? :P

<h3><font color="#FF4500">Derek said…</font></h3>

4/21/10.

<pre>
On Apr 21, 5:02 pm, Christiaan Dekter wrote:
> I just realised that the message I'm looking for is logged when you
> press the first key after starting the program - up for doing another
> log? :P
</pre>
Here you go:

<pre>
INFO - root - Entering main()
DEBUG - iomediator - Set modifier <numlock> to False
DEBUG - iomediator - Set modifier <capslock> to False
DEBUG - iomediator - <ctrl> pressed
DEBUG - iomediator - <super> pressed
DEBUG - service - Key: u'k', modifiers: ['<ctrl>', '<super>']
DEBUG - config-manager - Triggered global hotkey using modifiers:
['<ctrl>', '<super>'] key: u'k'
INFO - root - Displaying configuration window
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

4/21/10.

So both Capslock and Numlock were off at the time?

<h3><font color="#FF4500">Derek said…</font></h3>

4/21/10.

<pre>
On Apr 21, 5:05 pm, Christiaan Dekter wrote:
> So both Capslock and Numlock were off at the time?
</pre>
No.  Capslock is off and Numlock is on at all times before/during/ after any of this, and at no point did the Numlock light go out.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/21/10.

Thanks…I guess it needs a bit more work.

<h3><font color="#FF4500">Derek said…</font></h3>

4/28/10.

<pre>
On Apr 21, 5:11 pm, Christiaan Dekter wrote:
> Thanks…I guess it needs a bit more work.
>
> On 22 April 2010 10:10, Derek wrote:
>
> > On Apr 21, 5:05 pm, Christiaan Dekter wrote:
> >> So both Capslock and Numlock were off at the time?
> > No.  Capslock is off and Numlock is on at all times before/during/
> > after any of this, and at no point did the Numlock light go out.
</pre>
Since the update to v0.70.4, it does show the Capslock and Numlock status correctly:

<pre>
DEBUG - iomediator - Set modifier <capslock> to False
DEBUG - iomediator - Set modifier <numlock> to True
</pre>
I tested both states for both keys.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/28/10.

Yup, I completely changed the way it was detected, so now it gets the state of the keyboard LEDs from X and decodes that :)

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Autokey 0.70.3 only works one time.</font></h1>

19 posts by 5 authors.

<h3><font color="#FF4500">Mobilediesel said…</font></h3>

4/22/10.

After the latest update I can only get Autokey to work one time.  Then it ignores all shortcuts until I kill it and run it again.  Running it with the -l flag to get debug output locks up my computer so that I can't even get to a virtual terminal.  I even tried autokey-gtk -l > autokey.txt and the file has nothing as it doesn't get written when the computer locks up.

I would appreciate any suggestions on what to try next.

<h3><font color="#FF4500">Derek said…</font></h3>

4/22/10.

What Linux distribution and version are you running it on?  I think I would backup the configuration file, completely uninstall it, and then re-install.

<h3><font color="#FF4500">cedardoc said…</font></h3>

4/22/10.

I get the same thing.  Here's the autokey-gtk -l readout:

<pre>
dave@dave-desktop:~$ autokey-gtk -l

INFO - root - Initialising application
INFO - config-manager - Loading config from existing file: /home/
dave/.config/autokey/autokey.json
INFO - config-manager - Configuration changed - rebuilding in-memory
structures
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - config-manager - Finished persisting configuration - no errors
INFO - root - Initialise global hotkeys
INFO - config-manager - Successfully loaded configuration file
DEBUG - config-manager - Global settings: {'showTrayIcon': True,
'windowDefaultSize': [1191, 653], 'undoUsingBackspace': True,
'enableQT4Workaround': False, 'promptToSave': True, 'interfaceType':
u'XEvDev', 'showToolbar': True, 'serviceRunning': True,
'columnWidths': [150, 50, 100], 'isFirstRun': False,
'sortByUsageCount': True, u'inputSavings': 12, 'hPanePosition': 690,
'menuTakesFocus': False}
INFO - service - Starting service
DEBUG - interface - Modifier masks: {'<capslock>': 2, '<alt_gr>': 128,
'<numlock>': 16, '<ctrl>': 4, '<shift>': 1, '<alt>': 8, '<super>': 64}
DEBUG - interface - Grabbing hotkey: [u'<alt>', u'<ctrl>', u'<super>']
u'a'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u' '
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'2'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'3'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'w'
DEBUG - interface - Grabbing hotkey: [u'<alt>', u'<ctrl>'] u'g'
DEBUG - interface - Grabbing hotkey: [u'<alt>', u'<ctrl>'] u'p'
DEBUG - interface - Grabbing hotkey: [u'<alt>', u'<ctrl>'] u'e'
DEBUG - interface - Grabbing hotkey: [u'<alt>', u'<ctrl>', u'<super>']
u'g'
DEBUG - interface - Grabbing hotkey: [u'<alt>', u'<ctrl>'] u't'
DEBUG - interface - Grabbing hotkey: [u'<alt>', u'<super>'] u't'
DEBUG - interface - Grabbing hotkey: [u'<super>'] u'g'
DEBUG - interface - Grabbing hotkey: [u'<super>'] u'n'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'<insert>'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u't'
DEBUG - interface - Grabbing hotkey: [u'<super>'] u'e'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'h'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'g'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'u'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>', u'<super>'] u'c'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>', u'<super>'] u'd'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'<f12>'
DEBUG - interface - Grabbing hotkey: [u'<alt>', u'<ctrl>', u'<super>']
u't'
DEBUG - interface - Grabbing hotkey: [u'<alt>', u'<ctrl>', u'<super>']
u'p'
DEBUG - interface - Grabbing hotkey: [u'<super>'] u'8'
DEBUG - interface - Grabbing hotkey: [u'<alt>'] u' '
DEBUG - interface - Grabbing hotkey: [u'<ctrl>', u'<super>'] u'e'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'<escape>'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'<f7>'
X protocol error:
<class 'Xlib.error.BadAccess'>: code = 10, resource_id = 423,
sequence_number = 68, major_opcode = 33, minor_opcode = 0
X protocol error:
<class 'Xlib.error.BadAccess'>: code = 10, resource_id = 423,
sequence_number = 69, major_opcode = 33, minor_opcode = 0
X protocol error:
<class 'Xlib.error.BadAccess'>: code = 10, resource_id = 423,
sequence_number = 70, major_opcode = 33, minor_opcode = 0
X protocol error:
<class 'Xlib.error.BadAccess'>: code = 10, resource_id = 423,
sequence_number = 71, major_opcode = 33, minor_opcode = 0
X protocol error:
<class 'Xlib.error.BadAccess'>: code = 10, resource_id = 423,
sequence_number = 108, major_opcode = 33, minor_opcode = 0
X protocol error:
<class 'Xlib.error.BadAccess'>: code = 10, resource_id = 423,
sequence_number = 109, major_opcode = 33, minor_opcode = 0
X protocol error:
<class 'Xlib.error.BadAccess'>: code = 10, resource_id = 423,
sequence_number = 110, major_opcode = 33, minor_opcode = 0
X protocol error:
<class 'Xlib.error.BadAccess'>: code = 10, resource_id = 423,
sequence_number = 111, major_opcode = 33, minor_opcode = 0
DEBUG - interface - Alt-Grid: XK_Alt_R, 65514
DEBUG - interface - [(92, 0), (92, 2), (92, 4)]
DEBUG - interface - X Server Keymap
DEBUG - interface - [\] : [(51, 0), (51, 2), (51, 4)]
DEBUG - interface - [|] : [(51, 1), (51, 3), (94, 4), (51, 5)]
DEBUG - interface - [`] : [(49, 0), (49, 2), (49, 4)]
DEBUG - interface - [1] : [(10, 0), (10, 2), (10, 4)]
DEBUG - interface - [2] : [(11, 0), (11, 2), (11, 4)]
DEBUG - interface - [3] : [(12, 0), (12, 2), (12, 4)]
DEBUG - interface - [4] : [(13, 0), (13, 2), (13, 4)]
DEBUG - interface - [5] : [(14, 0), (14, 2), (14, 4)]
DEBUG - interface - [6] : [(15, 0), (15, 2), (15, 4)]
DEBUG - interface - [7] : [(16, 0), (16, 2), (16, 4)]
DEBUG - interface - [8] : [(17, 0), (17, 2), (17, 4)]
DEBUG - interface - [9] : [(18, 0), (18, 2), (18, 4)]
DEBUG - interface - [0] : [(19, 0), (19, 2), (19, 4)]
DEBUG - interface - [-] : [(20, 0), (20, 2), (20, 4)]
DEBUG - interface - [=] : [(21, 0), (21, 2), (21, 4)]
DEBUG - interface - [~] : [(49, 1), (49, 3), (49, 5)]
DEBUG - interface - [!] : [(10, 1), (10, 3), (10, 5)]
DEBUG - interface - [@] : [(11, 1), (11, 3), (11, 5)]
DEBUG - interface - [#] : [(12, 1), (12, 3), (12, 5)]
DEBUG - interface - [$] : [(13, 1), (13, 3), (13, 5)]
DEBUG - interface - [%] : [(14, 1), (14, 3), (14, 5)]
DEBUG - interface - [^] : [(15, 1), (15, 3), (15, 5)]
DEBUG - interface - [&] : [(16, 1), (16, 3), (16, 5)]
DEBUG - interface - [`*`] : [(17, 1), (17, 3), (17, 5)]
DEBUG - interface - [(] : [(187, 0), (18, 1), (187, 2), (18, 3), (187,
4), (18, 5)]
DEBUG - interface - [)] : [(188, 0), (19, 1), (188, 2), (19, 3), (188,
4), (19, 5)]
DEBUG - interface - [q] : [(24, 0), (24, 2), (24, 4)]
DEBUG - interface - [w] : [(25, 0), (25, 2), (25, 4)]
DEBUG - interface - [e] : [(26, 0), (26, 2), (26, 4)]
DEBUG - interface - [r] : [(27, 0), (27, 2), (27, 4)]
DEBUG - interface - [t] : [(28, 0), (28, 2), (28, 4)]
DEBUG - interface - [y] : [(29, 0), (29, 2), (29, 4)]
DEBUG - interface - [u] : [(30, 0), (30, 2), (30, 4)]
DEBUG - interface - [i] : [(31, 0), (31, 2), (31, 4)]
DEBUG - interface - [o] : [(32, 0), (32, 2), (32, 4)]
DEBUG - interface - [p] : [(33, 0), (33, 2), (33, 4)]
DEBUG - interface - [[] : [(34, 0), (34, 2), (34, 4)]
DEBUG - interface - []] : [(35, 0), (35, 2), (35, 4)]
DEBUG - interface - [a] : [(38, 0), (38, 2), (38, 4)]
DEBUG - interface - [s] : [(39, 0), (39, 2), (39, 4)]
DEBUG - interface - [d] : [(40, 0), (40, 2), (40, 4)]
DEBUG - interface - [f] : [(41, 0), (41, 2), (41, 4)]
DEBUG - interface - [g] : [(42, 0), (42, 2), (42, 4)]
DEBUG - interface - [h] : [(43, 0), (43, 2), (43, 4)]
DEBUG - interface - [j] : [(44, 0), (44, 2), (44, 4)]
DEBUG - interface - [k] : [(45, 0), (45, 2), (45, 4)]
DEBUG - interface - [l] : [(46, 0), (46, 2), (46, 4)]
DEBUG - interface - [;] : [(47, 0), (47, 2), (47, 4)]
DEBUG - interface - ['] : [(48, 0), (48, 2), (48, 4)]
DEBUG - interface - [z] : [(52, 0), (52, 2), (52, 4)]
DEBUG - interface - [x] : [(53, 0), (53, 2), (53, 4)]
DEBUG - interface - [c] : [(54, 0), (54, 2), (54, 4)]
DEBUG - interface - [v] : [(55, 0), (55, 2), (55, 4)]
DEBUG - interface - [b] : [(56, 0), (56, 2), (56, 4)]
DEBUG - interface - [n] : [(57, 0), (57, 2), (57, 4)]
DEBUG - interface - [m] : [(58, 0), (58, 2), (58, 4)]
DEBUG - interface - [,] : [(59, 0), (59, 2), (59, 4)]
DEBUG - interface - [.] : [(60, 0), (60, 2), (60, 4)]
DEBUG - interface - [/] : [(61, 0), (61, 2), (61, 4)]
DEBUG - interface - [Q] : [(24, 1), (24, 3), (24, 5)]
DEBUG - interface - [W] : [(25, 1), (25, 3), (25, 5)]
DEBUG - interface - [E] : [(26, 1), (26, 3), (26, 5)]
DEBUG - interface - [R] : [(27, 1), (27, 3), (27, 5)]
DEBUG - interface - [T] : [(28, 1), (28, 3), (28, 5)]
DEBUG - interface - [Y] : [(29, 1), (29, 3), (29, 5)]
DEBUG - interface - [U] : [(30, 1), (30, 3), (30, 5)]
DEBUG - interface - [I] : [(31, 1), (31, 3), (31, 5)]
DEBUG - interface - [O] : [(32, 1), (32, 3), (32, 5)]
DEBUG - interface - [P] : [(33, 1), (33, 3), (33, 5)]
DEBUG - interface - [{] : [(34, 1), (34, 3), (34, 5)]
DEBUG - interface - [}] : [(35, 1), (35, 3), (35, 5)]
DEBUG - interface - [A] : [(38, 1), (38, 3), (38, 5)]
DEBUG - interface - [S] : [(39, 1), (39, 3), (39, 5)]
DEBUG - interface - [D] : [(40, 1), (40, 3), (40, 5)]
DEBUG - interface - [F] : [(41, 1), (41, 3), (41, 5)]
DEBUG - interface - [G] : [(42, 1), (42, 3), (42, 5)]
DEBUG - interface - [H] : [(43, 1), (43, 3), (43, 5)]
DEBUG - interface - [J] : [(44, 1), (44, 3), (44, 5)]
DEBUG - interface - [K] : [(45, 1), (45, 3), (45, 5)]
DEBUG - interface - [L] : [(46, 1), (46, 3), (46, 5)]
DEBUG - interface - [:] : [(47, 1), (47, 3), (47, 5)]
DEBUG - interface - ["] : [(48, 1), (48, 3), (48, 5)]
DEBUG - interface - [Z] : [(52, 1), (52, 3), (52, 5)]
DEBUG - interface - [X] : [(53, 1), (53, 3), (53, 5)]
DEBUG - interface - [C] : [(54, 1), (54, 3), (54, 5)]
DEBUG - interface - [V] : [(55, 1), (55, 3), (55, 5)]
DEBUG - interface - [B] : [(56, 1), (56, 3), (56, 5)]
DEBUG - interface - [N] : [(57, 1), (57, 3), (57, 5)]
DEBUG - interface - [M] : [(58, 1), (58, 3), (58, 5)]
DEBUG - interface - [<] : [(94, 0), (59, 1), (94, 2), (59, 3), (59,
5)]
DEBUG - interface - [>] : [(60, 1), (94, 1), (60, 3), (94, 3), (60,
5)]
DEBUG - interface - [?] : [(61, 1), (61, 3), (61, 5)]
INFO - interface - Attempting to establish connection to EvDev daemon
INFO - interface - EvDev daemon connected
INFO - interface - EvDev interface thread starting
INFO - service - Service now marked as running
INFO - root - Entering main()
DEBUG - service - Received mouse click - resetting buffer
DEBUG - service - Received mouse click - resetting buffer
DEBUG - service - Received mouse click - resetting buffer
DEBUG - service - Received mouse click - resetting buffer
DEBUG - service - Received mouse click - resetting buffer
DEBUG - service - Received mouse click - resetting buffer
DEBUG - service - Received mouse click - resetting buffer
DEBUG - service - Received mouse click - resetting buffer
DEBUG - interface - New window mapped, grabbing hotkeys
DEBUG - interface - New window mapped, grabbing hotkeys
DEBUG - interface - New window mapped, grabbing hotkeys
DEBUG - interface - New window mapped, grabbing hotkeys
DEBUG - interface - New window mapped, grabbing hotkeys
DEBUG - interface - New window mapped, grabbing hotkeys
DEBUG - interface - New window mapped, grabbing hotkeys
DEBUG - interface - New window mapped, grabbing hotkeys
DEBUG - interface - New window mapped, grabbing hotkeys
DEBUG - iomediator - <ctrl> pressed
DEBUG - iomediator - <ctrl> released
DEBUG - iomediator - <ctrl> pressed
DEBUG - iomediator - <ctrl> released
DEBUG - iomediator - <ctrl> pressed
DEBUG - iomediator - <ctrl> released
DEBUG - iomediator - <ctrl> pressed
DEBUG - iomediator - <ctrl> released
DEBUG - iomediator - <ctrl> pressed
DEBUG - iomediator - <ctrl> released
DEBUG - iomediator - <ctrl> pressed
DEBUG - iomediator - <ctrl> released
DEBUG - iomediator - <ctrl> pressed
DEBUG - iomediator - <ctrl> released
DEBUG - iomediator - <ctrl> pressed
DEBUG - iomediator - <ctrl> released
DEBUG - iomediator - <ctrl> pressed
DEBUG - iomediator - <ctrl> released
DEBUG - iomediator - <ctrl> pressed
DEBUG - iomediator - <ctrl> released
DEBUG - iomediator - <ctrl> pressed
DEBUG - iomediator - <ctrl> released
DEBUG - iomediator - <ctrl> pressed
DEBUG - iomediator - <ctrl> released
DEBUG - iomediator - <ctrl> pressed
DEBUG - iomediator - <ctrl> released
DEBUG - iomediator - <ctrl> pressed
DEBUG - iomediator - <ctrl> released
DEBUG - iomediator - <ctrl> pressed
DEBUG - iomediator - <ctrl> released
DEBUG - iomediator - <ctrl> pressed
DEBUG - iomediator - <ctrl> released
DEBUG - iomediator - <ctrl> pressed
DEBUG - iomediator - <ctrl> released
DEBUG - iomediator - <ctrl> pressed
DEBUG - iomediator - <ctrl> released
DEBUG - iomediator - <ctrl> pressed
DEBUG - iomediator - <ctrl> released
DEBUG - service - Received mouse click - resetting buffer
DEBUG - iomediator - <ctrl> pressed
^ADEBUG - service - Key: u'a', modifiers: ['<ctrl>']
DEBUG - service - No phrase/script matched hotkey
DEBUG - iomediator - <ctrl> released
DEBUG - service - Received mouse click - resetting buffer
DEBUG - service - Received mouse click - resetting buffer
DEBUG - service - Received mouse click - resetting buffer
DEBUG - service - Received mouse click - resetting buffer
DEBUG - service - Received mouse click - resetting buffer
DEBUG - interface - New window mapped, grabbing hotkeys
DEBUG - interface - New window mapped, grabbing hotkeys
DEBUG - interface - New window mapped, grabbing hotkeys
DEBUG - interface - New window mapped, grabbing hotkeys
DEBUG - iomediator - <ctrl> pressed
DEBUG - iomediator - <ctrl> released
DEBUG - iomediator - <ctrl> pressed
DEBUG - iomediator - <ctrl> released
DEBUG - iomediator - <ctrl> pressed
DEBUG - iomediator - <ctrl> released
DEBUG - iomediator - <ctrl> pressed
DEBUG - iomediator - <ctrl> released
DEBUG - iomediator - <ctrl> pressed
DEBUG - iomediator - <ctrl> released
DEBUG - iomediator - <ctrl> pressed
DEBUG - iomediator - <ctrl> released
DEBUG - iomediator - <ctrl> pressed
DEBUG - iomediator - <ctrl> released
DEBUG - iomediator - <ctrl> pressed
DEBUG - iomediator - <ctrl> released
DEBUG - iomediator - <ctrl> pressed
DEBUG - iomediator - <ctrl> released
DEBUG - iomediator - <ctrl> pressed
DEBUG - iomediator - <ctrl> released
DEBUG - iomediator - <ctrl> pressed
DEBUG - iomediator - <ctrl> released
DEBUG - iomediator - <ctrl> pressed
DEBUG - iomediator - <ctrl> released
DEBUG - iomediator - <ctrl> pressed
^CDEBUG - service - Key: u'c', modifiers: ['<ctrl>']
DEBUG - service - No phrase/script matched hotkey
INFO - root - Shutting down
INFO - service - Service shutting down
INFO - interface - EvDev interface thread terminated
DEBUG - service - Key: u'c', modifiers: ['<ctrl>']
DEBUG - service - No phrase/script matched hotkey
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - config-manager - Finished persisting configuration - no errors
Traceback (most recent call last):
  File "/usr/bin/autokey-gtk", line 11, in <module>
    a.shutdown()
  File "/usr/lib/python2.6/dist-packages/autokey/gtkapp.py", line 191,
in shutdown
    gtk.main_quit()
RuntimeError: called outside of a mainloop
</pre>
<h3><font color="#FF4500">cedardoc said…</font></h3>

4/22/10.

I forgot to say I'm on Ubutu 9.1

<h3><font color="#FF4500">Chris D said…</font></h3>

4/22/10.

Seems like there might be a deadlock or a silent exception lurking somewhere.

Does the problem occur with say a script that doesn't use keyboard.send_keys()?  For example, try a script that just has one line it:

print "I ran a script"  Or does it only occur with phrases, and scripts that send keyboard output?

<h3><font color="#FF4500">cedardoc said…</font></h3>

4/22/10.

now I can't get it to fail, although I just rebooted for a different reason so that probably reset something.

I will post later if I'm able to reproduce it again.

<h3><font color="#FF4500">Mobilediesel said…</font></h3>

4/25/10.

I meant to get back here sooner.  I'm running Ubuntu 8.04.4 Hardy.  I followed your suggestion and backed up my config, purged autokey and reinstalled.  It now works like I want it.  I don't know what went wrong before but it's fine now.

After so many years of running Windows I keep forgetting how simple it is to reinstall software in Linux.  It's even worse for someone like me who was a Windows "Power User".  You end up thinking "it CAN'T be that easy" then proceed to make it more difficult than it needs to be.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/25/10.

That's good news, if a little unfortunate that we couldn't pin down the problem.  I just released v0.70.4 which does fix a couple of bugs so hopefully this will increase stability.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

4/25/10.

<pre>
2010/4/25 Mobilediesel:
> I meant to get back here sooner. I'm running Ubuntu 8.04.4 Hardy.
> I followed your suggestion and backed up my config, purged autokey and
> reinstalled. It now works like I want it. I don't know what went wrong
> before but it's fine now.
</pre>
I am thinking of doing the same thing about my problem (a quite different one already mentioned in another thread).  Will backing the autokey.json file up be enough or do I also need to backup the autokey.bin file?  Is the autokey.bin file used at all these days?  I know it was important a couple of versions ago.

RegardsJohnny Rosenberg   <h3><font color="#FF4500">Chris D said…</font></h3>


4/25/10.

<pre>
On 25 April 2010 22:01, Johnny Rosenberg wrote:
> I am thinking of doing the same thing about my problem (a quite
> different one already mentioned in another thread). Will backing the
> autokey.json file up be enough or do I also need to backup the
> autokey.bin file? Is the autokey.bin file used at all these days? I
> know it was important a couple of versions ago.
>
</pre>
The json file is the new config file, you don't need the bin file any more.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

4/25/10.

<pre>
2010/4/25 Christiaan Dekter:
> On 25 April 2010 22:01, Johnny Rosenberg wrote:
>> I am thinking of doing the same thing about my problem (a quite
>> different one already mentioned in another thread). Will backing the
>> autokey.json file up be enough or do I also need to backup the
>> autokey.bin file? Is the autokey.bin file used at all these days? I
>> know it was important a couple of versions ago.
>>
>
> The json file is the new config file, you don't need the bin file any more.
</pre>
Thanks.

<h3><font color="#FF4500">cedardoc said…</font></h3>

4/26/10.

I found the script that locks up autokey:

<pre>
if window.wait_for_exist(".`*`Search for Files.`*`", timeOut=1):
    window.activate("Search for Files", switchDesktop=False)
else:
    system.exec_command("gnome-search-tool")
</pre>
I have a similar If/Else script that works just fine.  I obviously have no idea why this doesn't, but if it helps, the script only works if there is no "Search for Files" window already open.  In such a case it opens up the search window like normal.  As long as I close it, I can relaunch it this way as many times as I want.  As soon as I run the script though with the "Search for Files" window open, nothing happens, and I can't get autokey going again until I reboot the computer.  The "view script error" always says no error, and I'd imaging the autokey-gtk -l readout would be the same as last time.

hope this helps:

Dave.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/26/10.

Need log file   <h3><font color="#FF4500">Chris D said…</font></h3>


4/26/10.

I meant to say, need logs because it works fine for me ;)

<h3><font color="#FF4500">cedardoc said…</font></h3>

4/26/10.

I'll have to wait til I'm at work tomorrow afternoon (it only happens there).  So I'll reproduce the problem and then do the log thing, and post it here.

<h3><font color="#FF4500">cedardoc said…</font></h3>

4/27/10.

OK, here it is again:

<pre>
dave@dave-desktop:~$ autokey-gtk -l
ERROR - root - AutoKey is already running - exiting

(at this point I exited the program from the icon - don't remember
having to do that before (but I could be mistaken))

DEBUG - interface - Grabbing hotkey: [u'<alt>'] u'x'
DEBUG - interface - Grabbing hotkey: [u'<super>'] u'x'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'h'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'g'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'u'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>', u'<super>'] u'c'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>', u'<super>'] u'd'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'<f12>'
DEBUG - interface - Grabbing hotkey: [u'<alt>', u'<ctrl>', u'<super>']
u't'
DEBUG - interface - Grabbing hotkey: [u'<alt>', u'<ctrl>', u'<super>']
u'p'
DEBUG - interface - Grabbing hotkey: [u'<super>'] u'8'
DEBUG - interface - Grabbing hotkey: [u'<alt>'] u' '
DEBUG - interface - Grabbing hotkey: [u'<ctrl>', u'<super>'] u'e'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'<delete>'
DEBUG - interface - Grabbing hotkey: [u'<alt>', u'<ctrl>'] u'x'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'<f7>'
X protocol error:
<class 'Xlib.error.BadAccess'>: code = 10, resource_id = 423,
sequence_number = 116, major_opcode = 33, minor_opcode = 0
X protocol error:
<class 'Xlib.error.BadAccess'>: code = 10, resource_id = 423,
sequence_number = 117, major_opcode = 33, minor_opcode = 0
X protocol error:
<class 'Xlib.error.BadAccess'>: code = 10, resource_id = 423,
sequence_number = 118, major_opcode = 33, minor_opcode = 0
X protocol error:
<class 'Xlib.error.BadAccess'>: code = 10, resource_id = 423,
sequence_number = 119, major_opcode = 33, minor_opcode = 0

DEBUG - iomediator - Set modifier <capslock> to False
DEBUG - iomediator - Set modifier <numlock> to True
INFO - interface - Attempting to establish connection to EvDev daemon
INFO - interface - EvDev daemon connected
INFO - interface - EvDev interface thread starting
INFO - service - Service now marked as running
INFO - root - Entering main()
</pre>
once it was running again I tried a few shortcuts and they didn't work. hope this helps: Dave.

<h3><font color="#FF4500">cedardoc said…</font></h3>

4/27/10.

The script that crashed autokey was this:

<pre>
system.exec_command("gnome-search-tool")
</pre>
<h3><font color="#FF4500">cedardoc said…</font></h3>

4/27/10.

FYI, I replaced the "bad" script with the following which works fine and doesn't cause any problems (so,this is "Solved" from my perspective, but probably not from yours ;-)    - Ill just avoid "system.exec_command" for now:

<pre>
if window.wait_for_exist(".`*`Search for Files.`*`", timeOut=1):
    window.activate("Search for Files", switchDesktop=False)
else:
    import subprocess
    subprocess.Popen(['gnome-search-tool'])
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

4/27/10.

The problem you have here is that    <pre>
system.exec_command("gnome-search-tool")
</pre>
Does not return until gnome-search-tool exits.  You need to change it to:

<pre>
system.exec_command("gnome-search-tool", False)
</pre>
This is documented in the scripting API  - if you use system.exec_command() to start a process that does not immediately return and exit, you will cause AutoKey's script engine to get tied up in that script.  So no bug, just user error ;)

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: System tray icon</font></h1>

3 posts by 2 authors.

<h3><font color="#FF4500">riffian said…</font></h3>

4/19/10.

Sorry if this seems a bit trivial, but I have a theme that has all black icons in the system tray and the blue Autokey system tray icon stands out a bit.  I'd like to use the akicon-status.png (the black A) if it's possible.  Could anyone tell me how to change the icon?  Thanks.

<h3><font color="#FF4500">Derek said…</font></h3>

4/19/10.

<pre>
>…I'd like to use the akicon-status.png (the black A)
> if it's possible. Could anyone tell me how to change the icon? Thanks.
</pre>
Make sure you have akicon-status.png in /usr/share/pixmaps.

Open this file:

<pre>
 /usr/share/pyshared/autokey/gtkui/notifier.py
</pre>
Change this line:

<pre>
 STATUS_ICON_FILE = "/usr/share/pixmaps/akicon.png"
</pre>
to

<pre>
 STATUS_ICON_FILE = "/usr/share/pixmaps/akicon-status.png"
</pre>

Restart AutoKey.

If you are using the Qt/KDE version it might be slightly different.

<h3><font color="#FF4500">riffian said…</font></h3>

4/20/10.

Brilliant!  Thanks Derek, that worked a treat.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: sending election from my text editor too a terminal running bpython</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">Jose Quesada said…</font></h3>

4/19/10.

Hi.

I want to send the selection from my text editor too a terminal running bpython.

This doesn't work…why?

<pre>
keyboard.send_keys("<ctrl>+c")
text = clipboard.get_selection()
window.activate("Terminal - bpython")
if window.wait_for_focus("Terminal - bpython.`*`"):
    keyboard.send_keys(text)
</pre>
Thanks   <h3><font color="#FF4500">Chris D said…</font></h3>


4/19/10.

This should work - what behaviour are you seeing?

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Error when starting Autokey</font></h1>

5 posts by 2 authors.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

4/16/10.

<pre>
<class 'Xlib.error.BadWindow'>: code = 3, resource_id =
Xlib.xobject.resource.Resource(0x01c0040e), sequence_number = 788,
major_opcode = 15, minor_opcode = 0
</pre>
Is there a way to eliminate this?

I'll restart my computer now and see if the problem persists.

Johnny Rosenberg.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/16/10.

It's not actually a problem.  It's just an asynchronous error being returned by X, saying that a window that was mentioned in a request does not exist.  Probably because the window has already been destroyed—some windows are very short-lived.  Just ignore it.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/16/10.

Oh I see you mean it happens during startup.  I just got the same error—fix will be in the next release.  The solution is to just restart AutoKey, not your whole PC ;)

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

4/17/10.

<pre>
2010/4/17 Christiaan Dekter:
> Oh I see you mean it happens during startup. I just got the same error
> - fix will be in the next release. The solution is to just restart
> AutoKey, not your whole PC ;)
</pre>
It didn't help.  Loging out and then logging in again didn't help either.  Restarting the computer helped.

But usually restarting AutoKey helps.  This was a one time thing (I hope).  I noticed that my abbreviations didn't work any more, so I restarted AutoKey and this message came up.  I then restarted AutoKey again.  Same thing.  Then I logged out and logged in again.  Same thing.  Restarting the computer was the only thing that helped.  So I guess something else in my system has crashed.

Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/17/10.

Whatever the case may be, I believe I have a fix in place for the next release.

As an aside, posting error messages without debug logging is not very helpful.  The Troubleshooting Wiki page shows you how to post useful debugging information.

Thanks.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: eft click on autokey icon</font></h1>

3 posts by 2 authors.

<h3><font color="#FF4500">Frank Harper said…</font></h3>

4/16/10.

I've been using autokey for a while now and have never been able to figure out what the "Enter abbreviation" window, that appears when I left click on the autokey icon, is supposed to do.

If I enter an existing abbreviation and close the window nothing happens.  If I select text and enter a new abbreviation and close the window nothing happens.

There aren't any hints that I saw in:

<tt>http://code.google.com/p/autokey/wiki/BeginnersGuide</tt>

Could someone please let me in on the secret?

<h3><font color="#FF4500">Chris D said…</font></h3>

4/16/10.

Have you tried entering an abbreviation then pressing enter?

Anyway, this feature will be gone in the next version - you will only be able to call it up by the keyboard shortcut.  Left click will open the main window.

<h3><font color="#FF4500">Frank Harper said…</font></h3>

4/17/10.

Yes, I did, and nothing seemed to happen.

Opening the window seems like a better thing to do.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: New User suggestions & questions</font></h1>

4 posts by 2 authors.

<h3><font color="#FF4500">skooter1121 said…</font></h3>

4/15/10.

I was doing some cleanup when the update to 0.70.1 came in, so I'm not sure if I caused this or not.  Initially I had problems saving my phrases.  So I decided to uninstall and then reinstall. (I only had a few phrases on this machine.)  Then I was unable to get the config window up.  Only after deleting the .config/Autokey folder and reinstalling was I able to get it working again.  Others might find this useful if they find the update to 0.70.1 goes amiss.

Suggestions/Thoughts  1.  I do a lot of folder/ file renaming.  I'm IT for a small law firm and the Attorneys are always messing up file/folder names.  We keep document naming in a strict format.  Autokey works fine with folder/ file renaming.  What would be helpful if when you right click and show the shortcuts per folder you could keep the selection window open.  Sort of like a menu, that way you could easily have it handy to reuse.  Phrase Express has something like this that pops up a menu,to a config~folder, at the cursor.  With Phrase Express I would trigger this with a mouse wheel click.  I primarily use the mouse to select files/folders to rename, and I realize that Autokey is mainly a keystroke substitution program. (I know there are many other renaming programs out there, but I have not found one that I easily insert text as yours.)

I have an working Autokey script that renames the selected image file:

keyboard.send_keys("<f2>CEO Picture")

I would like to ask a user for the CEO Name and paste that text at the cursor, but can't get it to work:

<pre>
output = dialog.input_dialog(title="CEO Name", message="Ex: Smith,
William", default="")
keyboard.send_keys(output)
</pre>
2.  Offer a left/right click switching option for the  abbrev. and config windows.

3.  I did not see a 'nesting' feature mentioned. (Although I might have missed it.)  Where one phrase could call another.

BTW - Your program has saved me hours of work.  Thank You !

Obviously scripting and Linux is brand new for me since I've only been using Ubuntu since January.  I'm getting better looking at samples and customize.

Again THANX

-Skooter   <h3><font color="#FF4500">Chris D said…</font></h3>


4/15/10.

<pre>
On 16 April 2010 09:34, skooter1121 wrote:
> Suggestions/Thoughts
>
> 1. I do a lot of folder/ file renaming. I'm IT for a small law firm
> and the Attorneys are always messing up file/folder names. We keep
> document naming in a strict format. Autokey works fine with folder/
> file renaming. What would be helpful if when you right click and show
> the shortcuts per folder you could keep the selection window open.
> Sort of like a menu, that way you could easily have it handy to reuse.
> Phrase Express has something like this that pops up a menu,to a config-
> folder, at the cursor. With Phrase Express I would trigger this with a
> mouse wheel click. I primarily use the mouse to select files/folders
> to rename, and I realize that Autokey is mainly a keystroke
> substitution program. (I know there are many other renaming programs
> out there, but I have not found one that I easily insert text as
> yours.)
</pre>
So if I understand correctly, you are looking for the popup menu to stay visible rather than disappearing once an entry is selected?

<pre>
> I have an working Autokey script that renames the selected image file:
>
> keyboard.send_keys("<f2>CEO Picture")
>
> I would like to ask a user for the CEO Name and paste that text at the
> cursor, but can't get it to work:
>
> output = dialog.input_dialog(title="CEO Name", message="Ex: Smith,
> William", default="")
> keyboard.send_keys(output)
</pre>
Your problem is that dialog.input_dialog actually returns two values ~the user input and the return code.  You need to check the return code to make sure the user didn't click Cancel in the dialog:

<pre>
retCode, output = dialog.input_dialog(title="CEO Name", message="Ex:
Smith, William", default="")
if retCode == 0:
    keyboard.send_keys(output)
</pre>
I guess this isn't really clear from the API documentation - I'll add these details in the next release.

<pre>
> 2. Offer a left/right click switching option for the  abbrev. and
> config windows.
</pre>
I'm planning to change it so that left click always opens the config window, right click opens the context menu.  Abbrev. window will be available via hotkey only.

<pre>
> 3. I did not see a 'nesting' feature mentioned. (Although I might have
> missed it.) Where one phrase could call another.
</pre>
You are correct, phrases cannot call each other.  Phrases in AutoKey are treated as simple blocks of text with minimal additional features.  Scripts can call each other however.

<h3><font color="#FF4500">skooter1121 said…</font></h3>

4/16/10.

Thanx for the quick response.

<pre>
> So if I understand correctly, you are looking for the popup menu to
> stay visible rather than disappearing once an entry is selected?
</pre>
Yes.  A constant menu would be helpful.  For example: My employer is a big PokerStars fan.  He has some standard things that he likes to say to the other players in chat.  So it would be nice to have a list on hand to choose from rather than remembering shortcuts.  OR programmers would have a list of code snippets to select from.  You could put a tic box, stay open, on the popup when the folder shortcut is first called.

<pre>
> > I have an working Autokey script that renames the selected image file:
>
> > keyboard.send_keys("<f2>CEO Picture")
>
> > I would like to ask a user for the CEO Name and paste that text at the
> > cursor, but can't get it to work:
>
> > output = dialog.input_dialog(title="CEO Name", message="Ex: Smith,
> > William", default="")
> > keyboard.send_keys(output)
>
> Your problem is that dialog.input_dialog actually returns two values -
> the user input and the return code. You need to check the return code
> to make sure the user didn't click Cancel in the dialog:
>
> retCode, output = dialog.input_dialog(title="CEO Name", message="Ex:
> Smith, William", default="")
> if retCode == 0:
>     keyboard.send_keys(output)
>
> I guess this isn't really clear from the API documentation - I'll add
> these details in the next release.
</pre>
Yes this worked.  I think I'm beginning to understand.  The API doc was a little vague there.

<pre>
> I'm planning to change it so that left click always opens the config
> window, right click opens the context menu. Abbrev. window will be
> available via hotkey only.
>
> > 3. I did not see a 'nesting' feature mentioned. (Although I might have
> > missed it.) Where one phrase could call another.
>
> You are correct, phrases cannot call each other. Phrases in AutoKey
> are treated as simple blocks of text with minimal additional features.
> Scripts can call each other however.
</pre>
Since Phrases can be also done with scripting, this sounds great.  I'll be testing this out over the weekend.  Nesting my script above with a Calendar Popup.

-Skooter   <h3><font color="#FF4500">Chris D said…</font></h3>


4/16/10.

<pre>
On 17 April 2010 03:30, skooter1121 wrote:
> Yes. A constant menu would be helpful.
> For example: My employer is a big PokerStars fan. He has some standard
> things that he likes to say to the other players in chat. So it would
> be nice to have a list on hand to choose from rather than remembering
> shortcuts. OR programmers would have a list of code snippets to select
> from. You could put a tic box, stay open, on the popup when the folder
> shortcut is first called.
</pre>
This is an interesting idea, but it is not straight forward to implement.  I was aware that PE had this feature and I attempted it a while ago, but had a lot of problems with it.  I'll keep it in mind for some possible future enhancement.

<pre>
> Yes this worked. I think I'm beginning to understand. The API doc was
> a little vague there.
</pre>
I just added a lot of extra info about the return values - have another look.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: keyboard.send_keys("`<shift>`+`<end>`") translated as "1"</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">cedardoc said…</font></h3>

4/15/10.

I have this script to launch a URL from a line of text that used to work (see below), and it took me a while to figure out why it would place the cursor at the "home" position, and then type the number "1", then launch firefox and paste in whatever was copied to the clipboard last.  I finally realized that  "end" is also on the number 1 key.  It must have something to do with that:

Is this a glitch, or am I doing something wrong? (there was no error message)

<pre>
#place cursor on URL line first

keyboard.send_keys("<home>")
time.sleep(2)
keyboard.send_keys("<shift>+<end>")
time.sleep(2)
keyboard.send_keys("<ctrl>+c")

if window.wait_for_exist(".`*`Namoroka.`*`", timeOut=2):
    window.activate("Namoroka", switchDesktop=False)
    time.sleep(0.5)
    keyboard.send_keys("<ctrl>+t")
    time.sleep(0.5)
    keyboard.send_keys("<ctrl>+v")
    time.sleep(0.5)
    keyboard.send_keys("<enter>")
else:
    import subprocess
    subprocess.Popen(['firefox'])
    window.wait_for_exist(".`*`Firefox.`*`", timeOut=4)
    keyboard.send_keys("<ctrl>+t")
    time.sleep(0.5)
    keyboard.send_keys("<ctrl>+v")
    time.sleep(0.5)
    keyboard.send_keys("<enter>")
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

4/15/10.

This because the keycode that is being chosen for "End" is the numpad 1 key.  If you apply shift to a numpad key you get the number instead of the action.  The root of the problem is that AutoKey doesn't distinguish between regular and numpad keys (since some keys like insert, end, etc are duplicated between the main keyboard and the numpad).

Will fix in the next release.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: AutoKey Tutorial</font></h1>

3 posts by 2 authors.

<h3><font color="#FF4500">Saravanan said…</font></h3>

4/15/10.

Hello  All.

I have been a passive user in this great mailing list .  I am a passionate user of AutoKey .  So I wrote a reasonably comprehensive tutorial (as of now) at <tt>http://saravananthirumuruganathan.wordpress.com/2010/04/14/autokey-linux-utility-for-text-substitution-hotkeys-and-desktop-automation/</tt>

Your comments , suggestions and criticisms are welcome !

Thanks to Chris and all others who made this cool utility !

Regards.  Saravanan   <h3><font color="#FF4500">Chris D said…</font></h3>


4/15/10.

Excellent tutorial - if it's OK with you I'll link to it from the home page.

One comment: you state that "Enable "Prompt for unsaved changes" checkbox in "General" tab.  Else, you will loose the changes without any warning !"  This is not correct - if you uncheck this option the changes are automatically saved.  If there are any cases where the changes are not automatically saved, please let me know so I can fix them :)

<h3><font color="#FF4500">Saravanan said…</font></h3>

4/15/10.

Thanks for the correction Chris.  Have updated the post.

Of course, you can link the post in AutoKey's home page.  Thanks for this utility.

Regards.  Saravanan.

<pre>
On Apr 15, 12:51 am, Christiaan Dekter wrote:
> Excellent tutorial - if it's OK with you I'll link to it from the home page.
>
> One comment: you state that "Enable "Prompt for unsaved changes"
> checkbox in "General" tab. Else, you will loose the changes without
> any warning !" This is not correct - if you uncheck this option the
> changes are automatically saved. If there are any cases where the
> changes are not automatically saved, please let me know so I can fix
> them :)
>
> On 15 April 2010 15:45, Saravanan wrote:
>
>
>
> > Hello  All.
>
> > I have been a passive user in this great mailing list . I am a passionate
> > user of AutoKey . So I wrote a reasonably comprehensive tutorial (as of now)
> > at
> >http://saravananthirumuruganathan.wordpress.com/2010/04/14/autokey-li:

>
> > Your comments , suggestions and criticisms are welcome !
>
> > Thanks to Chris and all others who made this cool utility !
>
> > Regards.
> > Saravanan
</pre>
<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: autokey freezes sometimes when using clipboard</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">adyeths said…</font></h3>

4/14/10.

I have had a problem with autokey (gtk version) freezing up and not responding when I try to use the clipboard in scripts.  It doesn't happen all the time though and of course at the point where it freezes it stops giving debug information.  I'm using 0.70.1 right now but its done this with every version I've used (going back to 0.60)

Sometimes after a brief amount of time autokey will suddenly come alive again and respond.  Other times I have to kill it and restart it to get it working again.  Here's a sample script I used for testing purposes.

<pre>
clipboard.fill_clipboard("This is a sample string")
keyboard.send_keys("<ctrl>+v")
</pre>
I know this may not be very useful, but here's the part of the debug information showing one good execution of the test script and one execution of it immediately afterwards where it froze up right at the point where it tries to fill the clipboard.  At which point autokey never started responding again and I had to kill it.  No debug information showed up after the last line shown here.

<pre>
INFO - interface - Attempting to establish connection to EvDev daemon
INFO - interface - EvDev daemon connected
INFO - interface - EvDev interface thread starting
INFO - service - Service now marked as running
INFO - root - Entering main()
DEBUG - service - Received mouse click - resetting buffer
DEBUG - phrase-menu - Sorting phrase menu by item name/title
DEBUG - service - Received mouse click - resetting buffer
DEBUG - service - Received mouse click - resetting buffer
DEBUG - service - Script runner executing: Script('testoutput')
DEBUG - iomediator - Send via event interface
DEBUG - interface - Send modified key: modifiers: [u'<ctrl>'] key: v
DEBUG - service - Received mouse click - resetting buffer
DEBUG - phrase-menu - Sorting phrase menu by item name/title
DEBUG - service - Received mouse click - resetting buffer
DEBUG - service - Script runner executing: Script('testoutput')
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

4/14/10.

Thanks for reporting…this is caused by calling methods on the GTK clipboard outside the GDK mainloop…the method blocks until Python allows the mainloop thread to execute (which happens at different random intervals).  Fixed by calling gtk.gdk.threads_enter() before filling the clipboard.

Fix will be in the next release.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Two problems in openSUSE</font></h1>

5 posts by 4 authors.

<h3><font color="#FF4500">Joon said…</font></h3>

4/13/10.

Hi.

I was happily using 0.61, but I messed up my system and I had to reinstall openSUSE.  So I tried 0.70.  First of all, I'm getting the usual error:

<pre>
Error starting interface. Keyboard monitoring will be disabled.
Check your system/configuration.
Unable to connect to EvDev daemon:
[Errno 2] ê·¸ëŸ° íŒŒì¼ì´ë‚˜ ë""ë  ‰í„°ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤
</pre>
But it seems $ sudo /etc/init.d/autokey start does not work this time. (sudo: /etc/init.d/autokey: command not found) Should I use different location or I haven't installed everything needed?

The other thing is that in the keyboard preferences, if I have Use capslock as another ctrl option on, autokey shows this error:

<pre>
Error starting interface. Keyboard monitoring will be disabled.
Check your system/configuration.
'<capslock>'
</pre>
In both cases, the gui of autokey comes up alright.

The following is the output from autokey-gtk -l.

<pre>
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - config-manager - Finished persisting configuration - no errors
INFO - root - Initialise global hotkeys
INFO - config-manager - Successfully loaded configuration file
DEBUG - config-manager - Global settings: {'showTrayIcon': True,
'windowDefaultSize': [1193, 543], 'undoUsingBackspace': True,
'enableQT4Workaround': False, 'promptToSave': True, 'interfaceType':
u'XEvDev', 'showToolbar': True, 'serviceRunning': False, 'isFirstRun':
False, 'sortByUsageCount': True, u'inputSavings': 8947,
'hPanePosition': 300, 'menuTakesFocus': False}
INFO - service - Starting service
DEBUG - interface - Modifier masks: {'<alt_gr>': 128, '<numlock>': 16,
'<ctrl>': 4, '<shift>': 1, '<alt>': 8, '<super>': 64}
DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'k'
ERROR - root - Error starting interface: '<capslock>'
Traceback (most recent call last):
  File "/usr/local/lib/python2.6/site-packages/autokey/gtkapp.py",
line 125, in initialise
    self.service.start()
  File "/usr/local/lib/python2.6/site-packages/autokey/service.py",
line 63, in start
    self.mediator = IoMediator(self)
  File "/usr/local/lib/python2.6/site-packages/autokey/iomediator.py",
line 125, in __init__
    self.interface = EvDevInterface(self, service.app)
  File "/usr/local/lib/python2.6/site-packages/autokey/interface.py",
line 549, in __init__
    XInterfaceBase.__init__(self, mediator, app)
  File "/usr/local/lib/python2.6/site-packages/autokey/interface.py",
line 81, in __init__
    self.__initMappings()
  File "/usr/local/lib/python2.6/site-packages/autokey/interface.py",
line 111, in __initMappings
    self.__grabHotkeys()
  File "/usr/local/lib/python2.6/site-packages/autokey/interface.py",
line 143, in __grabHotkeys
    self.__grabHotkey(item.hotKey, item.modifiers, self.rootWindow)
  File "/usr/local/lib/python2.6/site-packages/autokey/interface.py",
line 190, in __grabHotkey
    window.grab_key(keycode, mask|self.modMasks[Key.CAPSLOCK], True,
X.GrabModeAsync, X.GrabModeAsync)
KeyError: '<capslock>'
INFO - root - Entering main()
DEBUG - phrase-menu - Sorting phrase menu by usage count
DEBUG - phrase-menu - Sorting phrase menu by usage count
INFO - root - Shutting down
INFO - service - Service shutting down
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - config-manager - Finished persisting configuration - no errors
</pre>
Thank you!!  Joon   <h3><font color="#FF4500">Chris D said…</font></h3>


4/13/10.

<pre>
2010/4/14 joon:

> Hi.
>
> I was happily using 0.61, but I messed up my system and I had to
> reinstall openSUSE.
> So I tried 0.70. First of all, I'm getting the usual error:
>
> Error starting interface. Keyboard monitoring will be disabled.
> Check your system/configuration.
> Unable to connect to EvDev daemon:
> [Errno 2] ê·¸ëŸ° íŒŒì¼ì´ë‚˜ ë""ë  ‰í„°ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤
>
> but it seems $ sudo /etc/init.d/autokey start does not work this time.
> (sudo: /etc/init.d/autokey: command not found) Should I use different
> location or I haven't installed everything needed?
</pre>
It should be there - you must have missed an installation step.

<pre>
> The other thing is that in the keyboard preferences, if I have Use
> capslock as another ctrl option on, autokey shows this error:
>
</pre>
More weird and wonderful keyboard mapping combinations - seems like they are never ending!  Will fix   <h3><font color="#FF4500">Derek said…</font></h3>


4/14/10.

<pre>
On Apr 13, 5:05 pm, Christiaan Dekter wrote:
> More weird and wonderful keyboard mapping combinations - seems like
> they are never ending! Will fix
</pre>
It looks like the same thing as with the super key for me.  Capslock should map to 2.  It's the only one missing from his modifier masks.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/14/10.

Well yes, it's similar but the fix is different.  I've already committed the fix, will be in the next release.

<pre>
On 14/04/2010 10:36 PM, "Derek" wrote:
</pre>
<pre>
On Apr 13, 5:05 pm, Christiaan Dekter wrote:
 > More weird and wonderful keyboard:
</pre>
It looks like the same thing as with the super key for me.  Capslock should map to 2.  It's the only one missing from his modifier masks.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

4/14/10.

<pre>
2010/4/14 joon:
> Error starting interface. Keyboard monitoring will be disabled.
</pre>
I actually got that message today when I started up Ubuntu (9.10).  Never saw it before, so this was the first time.  I ended AutoKey and started it again and now it works again.  I wonder why this happened.

Regards.

Johnny Rosenberg.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: unicode problem:</font></h1>

4 posts by 2 authors.

<h3><font color="#FF4500">adyeths said…</font></h3>

4/13/10.

After upgrading autokey-gtk to 0.70 my scripts don't seem to output everything properly.  I get a bunch of u's instead of some of the expected characters now.  Everything worked fine prior to upgrading.  I only use one keyboard keyboard layout.  This also happens with gtk apps like AbiWord and gedit.  Anyone know what may be happening?

<h3><font color="#FF4500">Chris D said…</font></h3>

4/13/10.

How to post useful debugging information   <tt>http://code.google.com/p/autokey/wiki/Troubleshooting</tt>

<h3><font color="#FF4500">adyeths said…</font></h3>

4/13/10.

<pre>
On Tue, Apr 13, 2010 at 6:16 PM, Christiaan Dekter wrote:
 How to post useful debugging information

 http://code.google.com/p/autokey/wiki/Troubleshooting
</pre>
<pre>
 On 14 April 2010 05:16, adyeths wrote:
 > After upgrading autokey-gtk to 0.70 my scripts don't seem to output
 > everything properly. I get a bunch of u's instead of some of the
 > expected characters now. Everything worked fine prior to upgrading. I
 > only use one keyboard keyboard layout. This also happens with gtk apps
 > like AbiWord and gedit. Anyone know what may be happening?
 >
</pre>
Here's the entire debug output that I get when I start autokey, run a sample script that should output a string containing characters 0xC0 through 0xC6, and then shut it down. (those 6 characters never show up for me.  If I see anything its u's in place of the characters.).

<pre>
INFO - root - Initialising application
INFO - config-manager - Loading config from existing file: /home/ryan/.config/autokey/autokey.json
INFO - config-manager - Configuration changed - rebuilding in-memory structures
 DEBUG - config-manager - Global hotkeys:
[<autokey.configmanager.GlobalHotkey instance at 0x8b9c7ac>,
<autokey.configmanager.GlobalHotkey instance at 0x8ba01ac>,
<autokey.configmanager.GlobalHotkey instance at 0x8ba020c>]
 DEBUG - config-manager - Hotkey folders: []
DEBUG - config-manager - Hotkey phrases: []
DEBUG - config-manager - Abbreviation phrases: []
DEBUG - config-manager - All folders: [Scripts]
DEBUG - config-manager - All phrases: [Script('AutokeySword'), Script('testoutput')]
 INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - config-manager - Finished persisting configuration - no errors
INFO - root - Initialise global hotkeys
 INFO - config-manager - Successfully loaded configuration file
DEBUG - config-manager - Global settings: {'showTrayIcon': True,
'windowDefaultSize': [776, 563], 'undoUsingBackspace': True,
'enableQT4Workaround': False, 'promptToSave': True, u'detectUnwanted':
False, 'interfaceType': u'XEvDev', 'showToolbar': True, 'serviceRunning':
True, 'isFirstRun': False, 'sortByUsageCount': False, u'predictiveLength':
5, u'inputSavings': 2686, 'hPanePosition': 189, 'menuTakesFocus': True}
 INFO - service - Starting service
DEBUG - interface - Modifier masks: {'<capslock>': 2, '<alt_gr>': 128,
'<numlock>': 16, '<ctrl>': 4, '<shift>': 1, '<alt>': 8, '<super>': 64}
 DEBUG - interface - Grabbing hotkey: [u'<ctrl>'] u'k'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>', u'<shift>'] u'k'
DEBUG - interface - Grabbing hotkey: [u'<ctrl>', u'<shift>'] u' '
 DEBUG - interface - Alt-Grid: XK_Alt_R, 65514
DEBUG - interface - [(92, 0), (92, 2), (92, 4)]
DEBUG - interface - X Server Keymap
DEBUG - interface - [\] : [(51, 0), (51, 2), (51, 4)]
DEBUG - interface - [|] : [(51, 1), (51, 3), (94, 4), (51, 5)]
 DEBUG - interface - [`] : [(49, 0), (49, 2)]
DEBUG - interface - [1] : [(10, 0), (10, 2)]
DEBUG - interface - [2] : [(11, 0), (11, 2)]
DEBUG - interface - [3] : [(12, 0), (12, 2)]
DEBUG - interface - [4] : [(13, 0), (13, 2)]
 DEBUG - interface - [5] : [(14, 0), (14, 2)]
DEBUG - interface - [6] : [(15, 0), (15, 2), (15, 4)]
DEBUG - interface - [7] : [(16, 0), (16, 2)]
DEBUG - interface - [8] : [(17, 0), (17, 2)]
DEBUG - interface - [9] : [(18, 0), (18, 2), (18, 4)]
 DEBUG - interface - [0] : [(19, 0), (19, 2), (19, 4)]
DEBUG - interface - [-] : [(20, 0), (20, 2)]
DEBUG - interface - [=] : [(21, 0), (21, 2)]
DEBUG - interface - [~] : [(49, 1), (49, 3)]
DEBUG - interface - [!] : [(10, 1), (10, 3)]
 DEBUG - interface - [@] : [(11, 1), (11, 3)]
DEBUG - interface - [#] : [(12, 1), (12, 3)]
DEBUG - interface - [$] : [(13, 1), (13, 3), (13, 4)]
DEBUG - interface - [%] : [(14, 1), (14, 3)]
DEBUG - interface - [^] : [(15, 1), (15, 3), (15, 5)]
 DEBUG - interface - [&] : [(16, 1), (16, 3), (16, 4)]
DEBUG - interface - [`*`] : [(17, 1), (17, 3)]
DEBUG - interface - [(] : [(187, 0), (18, 1), (187, 2), (18, 3), (187, 4), (18, 5)]
DEBUG - interface - [)] : [(188, 0), (19, 1), (188, 2), (19, 3), (188, 4), (19, 5)]
 DEBUG - interface - [q] : [(24, 0), (24, 2), (24, 4)]
DEBUG - interface - [w] : [(25, 0), (25, 2), (25, 4)]
DEBUG - interface - [e] : [(26, 0), (26, 2)]
DEBUG - interface - [r] : [(27, 0), (27, 2)]
DEBUG - interface - [t] : [(28, 0), (28, 2)]
 DEBUG - interface - [y] : [(29, 0), (29, 2)]
DEBUG - interface - [u] : [(30, 0), (30, 2), (30, 4)]
DEBUG - interface - [i] : [(31, 0), (31, 2), (31, 4)]
DEBUG - interface - [o] : [(32, 0), (32, 2), (32, 4)]
DEBUG - interface - [p] : [(33, 0), (33, 2)]
 DEBUG - interface - [[] : [(34, 0), (34, 2), (34, 4)]
DEBUG - interface - []] : [(35, 0), (35, 2), (35, 4)]
DEBUG - interface - [a] : [(38, 0), (38, 2)]
DEBUG - interface - [s] : [(39, 0), (39, 2)]
DEBUG - interface - [d] : [(40, 0), (40, 2)]
 DEBUG - interface - [f] : [(41, 0), (41, 2)]
DEBUG - interface - [g] : [(42, 0), (42, 2), (42, 4)]
DEBUG - interface - [h] : [(43, 0), (43, 2), (43, 4)]
DEBUG - interface - [j] : [(44, 0), (44, 2)]
DEBUG - interface - [k] : [(45, 0), (45, 2)]
 DEBUG - interface - [l] : [(46, 0), (46, 2)]
DEBUG - interface - [;] : [(47, 0), (47, 2)]
DEBUG - interface - ['] : [(48, 0), (48, 2)]
DEBUG - interface - [z] : [(52, 0), (52, 2), (52, 4)]
DEBUG - interface - [x] : [(53, 0), (53, 2)]
 DEBUG - interface - [c] : [(54, 0), (54, 2)]
DEBUG - interface - [v] : [(55, 0), (55, 2), (55, 4)]
DEBUG - interface - [b] : [(56, 0), (56, 2), (56, 4)]
DEBUG - interface - [n] : [(57, 0), (57, 2), (57, 4)]
DEBUG - interface - [m] : [(58, 0), (58, 2), (58, 4)]
 DEBUG - interface - [,] : [(59, 0), (59, 2)]
DEBUG - interface - [.] : [(60, 0), (60, 2)]
DEBUG - interface - [/] : [(61, 0), (61, 2)]
DEBUG - interface - [Q] : [(24, 1), (24, 3), (24, 5)]
DEBUG - interface - [W] : [(25, 1), (25, 3), (25, 5)]
 DEBUG - interface - [E] : [(26, 1), (26, 3)]
DEBUG - interface - [R] : [(27, 1), (27, 3)]
DEBUG - interface - [T] : [(28, 1), (28, 3)]
DEBUG - interface - [Y] : [(29, 1), (29, 3)]
DEBUG - interface - [U] : [(30, 1), (30, 3), (30, 5)]
 DEBUG - interface - [I] : [(31, 1), (31, 3), (31, 5)]
DEBUG - interface - [O] : [(32, 1), (32, 3), (32, 5)]
DEBUG - interface - [P] : [(33, 1), (33, 3)]
DEBUG - interface - [{] : [(34, 1), (34, 3), (34, 5)]
DEBUG - interface - [}] : [(35, 1), (35, 3), (35, 5)]
 DEBUG - interface - [A] : [(38, 1), (38, 3)]
DEBUG - interface - [S] : [(39, 1), (39, 3)]
DEBUG - interface - [D] : [(40, 1), (40, 3)]
DEBUG - interface - [F] : [(41, 1), (41, 3)]
DEBUG - interface - [G] : [(42, 1), (42, 3), (42, 5)]
 DEBUG - interface - [H] : [(43, 1), (43, 3), (43, 5)]
DEBUG - interface - [J] : [(44, 1), (44, 3)]
DEBUG - interface - [K] : [(45, 1), (45, 3)]
DEBUG - interface - [L] : [(46, 1), (46, 3)]
DEBUG - interface - [:] : [(47, 1), (47, 3)]
 DEBUG - interface - ["] : [(48, 1), (48, 3)]
DEBUG - interface - [Z] : [(52, 1), (52, 3), (52, 5)]
DEBUG - interface - [X] : [(53, 1), (53, 3)]
DEBUG - interface - [C] : [(54, 1), (54, 3)]
DEBUG - interface - [V] : [(55, 1), (55, 3), (55, 5)]
 DEBUG - interface - [B] : [(56, 1), (56, 3), (56, 5)]
DEBUG - interface - [N] : [(57, 1), (57, 3), (57, 5)]
DEBUG - interface - [M] : [(58, 1), (58, 3), (58, 5)]
DEBUG - interface - [<] : [(94, 0), (59, 1), (94, 2), (59, 3), (59, 5)]
 DEBUG - interface - [>] : [(60, 1), (94, 1), (60, 3), (94, 3), (60, 5)]
DEBUG - interface - [?] : [(61, 1), (61, 3)]
INFO - interface - Attempting to establish connection to EvDev daemon
INFO - interface - EvDev daemon connected
 INFO - interface - EvDev interface thread starting
INFO - service - Service now marked as running
INFO - root - Entering main()
DEBUG - service - Received mouse click - resetting buffer
DEBUG - phrase-menu - Sorting phrase menu by item name/title
 DEBUG - service - Received mouse click - resetting buffer
DEBUG - service - Script runner executing: Script('testoutput')
DEBUG - iomediator - Send via event interface
DEBUG - interface - Sending string: u'Sample String'
 DEBUG - interface - Send special key: [u'<enter>']
DEBUG - iomediator - Send via event interface
DEBUG - interface - Sending string: u'\xc0\xc1\xc2\xc3\xc4\xc5'
DEBUG - interface - Send unicode char: Ã€
 DEBUG - interface - Send modified key: modifiers: ['<ctrl>', '<shift>'] key: u
DEBUG - interface - Send unicode char: Ã
DEBUG - interface - Send modified key: modifiers: ['<ctrl>', '<shift>'] key: u
 DEBUG - interface - Send unicode char: Ã‚
DEBUG - interface - Send modified key: modifiers: ['<ctrl>', '<shift>'] key: u
DEBUG - interface - Send unicode char: Ãƒ
DEBUG - interface - Send modified key: modifiers: ['<ctrl>', '<shift>'] key: u
 DEBUG - interface - Send unicode char: Ã„
DEBUG - interface - Send modified key: modifiers: ['<ctrl>', '<shift>'] key: u
DEBUG - interface - Send unicode char: Ã:
DEBUG - interface - Send modified key: modifiers: ['<ctrl>', '<shift>'] key: u
 DEBUG - interface - Send special key: [u'<enter>']
DEBUG - phrase-menu - Sorting phrase menu by item name/title
DEBUG - service - Received mouse click - resetting buffer
DEBUG - service - Received mouse click - resetting buffer
 INFO - root - Shutting down
INFO - service - Service shutting down
INFO - interface - EvDev interface thread terminated
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - config-manager - Finished persisting configuration - no errors
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

4/13/10.

Thanks for that:

In light of this, I think I'm going to rip out the unicode stuff.  It only works in GTK applications and is very slow (many keypresses for each character).  It also seems to be incompatible with the new keyboard mapping methodology (and I won't be reverting that to the old way).

Here's what I'm considering replacing it with:

For phrases, there would be a dropdown selecting the method used to 'send' the phrase with the following options: "Keyboard" (this would be the default) "Clipboard (Ctrl+V)" "Clipboard (Ctrl+Shift+V)" "Mouse Selection"  And any others that might come along.  There could then be validation added so that when you save the phrase, it warns you if any of the characters aren't in your keyboard map.  You would then select one of the other methods for sending the phrase.

Scripts already have the ability to do all of this (they can fill the clipboard/selection, send Ctrl+V/etc and send mouse clicks).

Any comments?

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Post your GUI suggestions/ideas</font></h1>

11 posts by 4 authors.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/12/10.

I'd like to place an open call for everyone to suggest possible tweaks or improvements to AutoKey's UI.  Sometimes UI bugs can get left behind because they are trivial and you can usually work around them.  Other times there might be workflows that irritate you but you put up with it because 'it's good enough'.

I've tweaked a few things in the KDE version for the upcoming release, but I'd like to hear any other suggestions people might have.

<h3><font color="#FF4500">Derek said…</font></h3>

4/12/10.

Once you accumulate a number of scripts it becomes a challenge to keep track of your hotkeys and abbreviations.

It would be helpful if the left panel had a view with columns to show the hotkey or abbreviation assigned to each script or phrase.

<h3><font color="#FF4500">cedardoc said…</font></h3>

4/12/10.

One thing I've thought would be nice would be if you could double click a folder name to open it up instead of having to click the little indicator left of the folder name (less aiming required :-)

<h3><font color="#FF4500">Derek said…</font></h3>

4/12/10.

<pre>
On Apr 12, 6:54 am, Derek wrote:
> It would be helpful if the left panel had a view with columns to show
> the hotkey or abbreviation assigned to each script or phrase.
</pre>
I have added this feature to my own copy.  I've only added the hotkeys column so far, but the abbreviations column would just be very similar.  I can send you what I did or the later result when I'm done if you're interested.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

4/12/10.

I would like to get rid of that Save button.  If I create a phrase and then click another phrase or folder, or click something else in the dialogue, the phrase should be saved automatically.

But for me personally, I can do without a GUI at all.  All I need is a few simple text files that I can edit.  The Phrase file could look something like this:

"otoh" "on the other hand" "(p)" "â„—" "joh" "Johnny Rosenberg"  And so on.

Or maybe some added code for the behaviour of the phrase:

<pre>
"joh"
"Johnny Rosenberg"
-r
(abreviation <Enter> Phrase <Enter> Options (-r = "remove typed
abbreviation", for example)
</pre>
Maybe accepted trigger keys also could be included:

<pre>
"adr"
"Johnny Rosenberg
My street
My City"
-r
default
</pre>
Just as simple as possible, making it easy to add new phrases, not necessary following the above examples.

Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">Derek said…</font></h3>

4/12/10.

<pre>
On Apr 12, 10:42 am, Johnny Rosenberg wrote:
> I would like to get rid of that Save button. If I create a phrase and
> then click another phrase or folder, or click something else in the
> dialogue, the phrase should be saved automatically.
</pre>
Maybe clearing the "Prompt for unsaved changes" option should provide automatic saving instead of not allowing you to navigate until you manually save.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

4/12/10.

2010/4/12 Derek:

I agree.

Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/12/10.

Good idea…will implement this.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/12/10.

Will implement.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/12/10.

Won't implement…both GTK and QT enforce having the double-click action make the row editable and there is no way around it.

<pre>
On 13 April 2010 01:01, cedardoc wrote:
</pre>
<h3><font color="#FF4500">Derek said…</font></h3>

4/13/10.

Thanks.  Chris!

The new features are perfect.  The modifier keys and everything are all working right out of the box from the PPA update.  The simplejson package came in with the update.  I think I had earlier gotten it with an egg or something unbeknownst to Synaptic.  I saw where you've simplified the key mapping process.

Thanks for taking our requests.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Serious bug (at least for Swedish, German and some more users)</font></h1>

15 posts by 3 authors.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

4/11/10.

It seems like Swedish (and other countries') characters like Ã¥Ã¤Ã¶Ã…Ã„Ã– work like trigger characters now.  I don't know if that was the case in previous versions.

For example if I type a word like "plÃ¶tsligt", "pl" will be expanded.  Those characters are very common when you type in Swedish so that need to be changed as soon as possible, I guess.

I guess I will now spend an hour or two changing all my phrases to only expand by Enter or Space.

Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/11/10.

That is unexpected - I made no changes to the trigger character definitions etc.

If you run autokey in debug mode from the terminal (with the -l switch), does the Ã¶ get detected correctly as such? (You should see a log message each time you type a character)

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

4/11/10.

<pre>
2010/4/11 Chris Dekter:
> That is unexpected - I made no changes to the trigger character
> definitions etc.
>
> If you run autokey in debug mode from the terminal (with the -l
> switch), does the Ã¶ get detected correctly as such? (You should see a
> log message each time you type a character)

DEBUG - service - Key: Ã¶
DEBUG - service - Input stack at end of handle_keypress: [u'\xf6']
</pre>
Regards.

Johnny Rosenberg.

<pre>
> On 11 April 2010 17:37, Johnny Rosenberg wrote:
>> It seems like Swedish (and other countries') characters like Ã¥Ã¤Ã¶Ã…Ã„Ã–
>> work like trigger characters now. I don't know if that was the case in
>> previous versions.
>>
>> For example if I type a word like "plÃ¶tsligt", "pl" will be expanded.
>> Those characters are very common when you type in Swedish so that need
>> to be changed as soon as possible, I guess.
>>
>> I guess I will now spend an hour or two changing all my phrases to
>> only expand by Enter or Space.
>>
>>
>>
>> Regards.
>>
>> Johnny Rosenberg.
>>
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

4/11/10.

That all looks fine.  At this stage I don't have any clues as to why this has changed.  Have you changed any locale or keymap settings on your PC lately?  The set of characters that are considered 'word characters' is defined by the standard Python regex framework so AutoKey has no direct control over it.

Mean time, if you want a quick way to change all your abbreviations to use Space & Enter Only, you can do a search and replace in the autokey.json file to replace all instances of "[\\w]" with "[^ \\n]" (without the quotes obviously).

<h3><font color="#FF4500">sacredeagle said…</font></h3>

4/11/10.

Swedish letters works fine for me, but not the Icelandic ones, those have never worked since I started using Autokey.  Now this has changed a bit, before this latest version Autokey spat out some garble symbols instead of the Icelandic letters, now theres nothing at all:

This: Kr kveja  Is supposed to be this: KÃ¦r kveÃ°ja   <h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>


4/11/10.

<pre>
2010/4/11 Chris Dekter:
> That all looks fine. At this stage I don't have any clues as to why
> this has changed. Have you changed any locale or keymap settings on
> your PC lately?
</pre>
No and I just tried the same thing on my Eee PC, also running Ubuntu 9.10 and it happens there too.  Also characters like #@%&/()=+Â¨^~ etc seems to trig Autokey, so you don't need a keyboard with Ã¥Ã¤Ã¶ to try this yourself.  Characters like â€° doesn't however trig Autokey.

Ubuntu 9.10 with Swedish language packages installed AutoKey (GTK) 0.70.0

I was just thinking, why don't you include some older version of AutoKey in your repository?  It would then be easy for users who installed a new version that doesn't work properly for them to install the old version again while waiting for a fix.  Just a thought.

Regards.

Johnny Rosenberg.

<pre>
> The set of characters that are considered 'word
> characters' is defined by the standard Python regex framework so
> AutoKey has no direct control over it.
>
> Mean time, if you want a quick way to change all your abbreviations to
> use Space & Enter Only, you can do a search and replace in the
> autokey.json file to replace all instances of "[\\w]" with "[^ \\n]"
> (without the quotes obviously).
</pre>
Well, I found that I still need to use characters like .,:() and so on, as trigger characters, so I guess I won't change after all, but thanks anyway.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

4/11/10.

2010/4/11 Helgi:

<pre>
> Swedish letters works fine for me, but not the Icelandic ones, those
> have never worked since I started using Autokey.
</pre>
Swedish characters work for me too, but not they have started acting like trigger characters, so if I have a phrase like "Pipeline" triggered by the abbreviation "pl" and then type a word like "plÃ¶tsligt" (="suddenly"), it all ends up with "Pipelinetsligt".  That's not very convenient.

<pre>
> Now this has changed
> a bit, before this latest version Autokey spat out some garble symbols
> instead of the Icelandic letters, now theres nothing at all:
>
> This:
> Kr kveja
>
> Is supposed to be this:
> KÃ¦r kveÃ°ja
</pre>
I tried that and it locks my keyboard.!  Had to cancel Autokey to get my keyboard working again.  Tried it twice, same result both times.

Seems that there are some bugs to solve here, unfortunately.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/11/10.

Well…let's try and debug this.

How are those missing characters typed on your keyboard?

2010/4/11 Helgi:

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

4/11/10.

<pre>
2010/4/11 Chris Dekter:
> Well…let's try and debug this.
>
> How are those missing characters typed on your keyboard?
</pre>
I guess you are referring to Helgi Ã–rn, but when I tried the phrase I only got a "K" and then the keyboard froze.  I suppose that Helgi is from Iceland and in that case I guess that he use an Icelandic keyboard with those Icelandic characters included from start.  Actually those characters are also included in the Swedish standard keyboard layout for Ubuntu, but I need to use the AltGr key to type them.  I guess Helgi doesn't need to do that.

You can have a look at the Icelandic layout at [System > Preferences > Keyboard > Layouts > Add.] or something like that.

Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/11/10.

<pre>
On 11 April 2010 19:37, Johnny Rosenberg wrote:
> Swedish characters work for me too, but not they have started acting
> like trigger characters, so if I have a phrase like "Pipeline"
> triggered by the abbreviation "pl" and then type a word like
> "plÃ¶tsligt" (="suddenly"), it all ends up with "Pipelinetsligt".
> That's not very convenient.
</pre>
OK…it seems this bug was introduced by the new config file code.  The fix will be in the next version, but if you like you can easily fix it like so:

<tt>Edit /usr/share/pyshared/autokey/model.py</tt>

Change line 56 from:

<pre>
self.wordChars = re.compile(data["wordChars"])
</pre>
To:

<pre>
self.wordChars = re.compile(data["wordChars"], re.UNICODE)
</pre>
<pre>
> I tried that and it locks my keyboard.! Had to cancel Autokey to get
> my keyboard working again. Tried it twice, same result both times.
</pre>
This suggests an exception is occurring while sending one of the key events - it would be good to see the log output during from this occurrence.

<pre>
> Seems that there are some bugs to solve here, unfortunately.
</pre>
It's one of the perils of using software from a PPA - it's not guaranteed to be stable.

<h3><font color="#FF4500">sacredeagle said…</font></h3>

4/11/10.

<pre>
On 11 April 2010 11:39, Chris Dekter wrote:
> Well…let's try and debug this.
>
> How are those missing characters typed on your keyboard?
>
</pre>

<tt>http://commons.wikimedia.org/wiki/File:KB_Iceland.svg</tt>.

I am using a swedish Mac keyboard (wired, thin aluminium) and I use both swedish and icelandic layout, frequently switch between them.  Ubuntu 9.10.

<h3><font color="#FF4500">sacredeagle said…</font></h3>

4/11/10.

<pre>
On 11 April 2010 11:58, Johnny Rosenberg wrote:
> 2010/4/11 Chris Dekter:
>> Well…let's try and debug this.
>>
>> How are those missing characters typed on your keyboard?
>
> I guess you are referring to Helgi Ã–rn, but when I tried the phrase I
> only got a "K" and then the keyboard froze.
> I suppose that Helgi is from Iceland and in that case I guess that he
> use an Icelandic keyboard with those Icelandic characters included
> from start.
> Actually those characters are also included in the Swedish standard
> keyboard layout for Ubuntu, but I need to use the AltGr key to type
> them. I guess Helgi doesn't need to do that.
>
> You can have a look at the Icelandic layout at [System > Preferences >
> Keyboard > Layouts > Add.] or something like that.
>
</pre>
I am using a swedish Mac keyboard.  Since I live in Sweden I use the swedish layout as my default but switch frequently over to the icelandic layout.  I sometimes use the AltGr method too.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/11/10.

OK…I've tested this myself and I can get it working perfectly, but you must set a SINGLE keyboard layout in your layout manager.  You can't use a panel applet or hotkey to switch layouts.  Maybe one day I'll figure out a generic way to detect these layout changes as they don't generate a XMappingUpdate event.  The following is from the Troubleshooting wiki page:

AutoKey mixes up some characters when it sends my phrases.  I am using a non-US keyboard layout with a hotkey or panel applet to switch between layouts.

AutoKey only recognises layout switches that take place within the X Server.  The hotkey/panel applet layout switchers do a 'soft' switch which does not actually change the underlying X keymap.  Aside from this, the methods for switching are so varied and inconsistent, it would be impossible to cater for them all.  If you wish to use multiple keyboard layouts, you will need to switch between them using setxkbmap.  You could set up a hotkey within AutoKey to run setxkbmap and perform the switching.  Note that using setxkbmap to set the layout will disable all other methods (hotkey/panel applet).

2010/4/11 Helgi:

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

4/12/10.

<pre>
2010/4/11 Chris Dekter:
> On 11 April 2010 19:37, Johnny Rosenberg wrote:
>> Swedish characters work for me too, but not they have started acting
>> like trigger characters, so if I have a phrase like "Pipeline"
>> triggered by the abbreviation "pl" and then type a word like
>> "plÃ¶tsligt" (="suddenly"), it all ends up with "Pipelinetsligt".
>> That's not very convenient.
>
> OK…it seems this bug was introduced by the new config file code.
> The fix will be in the next version, but if you like you can easily
> fix it like so:
>
> Edit /usr/share/pyshared/autokey/model.py
>
> Change line 56 from:
>
> self.wordChars = re.compile(data["wordChars"])
>
> to:
>
> self.wordChars = re.compile(data["wordChars"], re.UNICODE)
</pre>
Thanks.  Works perfectly!

<pre>
>> I tried that and it locks my keyboard.! Had to cancel Autokey to get
>> my keyboard working again. Tried it twice, same result both times.
>
> This suggests an exception is occurring while sending one of the key
> events - it would be good to see the log output during from this
> occurrence.
</pre>
<pre>
DEBUG - service - Input stack at end of handle_keypress: []
DEBUG - service - Key: a
DEBUG - service - Input stack at end of handle_keypress: [u'a']
DEBUG - service - Key: a
DEBUG - service - Input stack at end of handle_keypress: [u'a', u'a']
DEBUG - service - Key: a
DEBUG - service - Input stack at end of handle_keypress: [u'a', u'a', u'a']
DEBUG - service - Key: <enter>
DEBUG - interface - Send special key: ['<backspace>']
DEBUG - interface - Send special key: ['<backspace>']
DEBUG - interface - Send special key: ['<backspace>']
DEBUG - interface - Send special key: ['<backspace>']
DEBUG - iomediator - Send via event interface
DEBUG - interface - Sending string: u'K\xe6r kve\xf0ja'
Exception in thread KeypressHandler-thread:
Traceback (most recent call last):
  File "/usr/lib/python2.6/threading.py", line 525, in __bootstrap_inner
    self.run()
  File "/usr/lib/python2.6/dist-packages/autokey/iomediator.py", line
189, in run
    target.handle_keypress(key, windowName)
  File "/usr/lib/python2.6/dist-packages/autokey/service.py", line
156, in handle_keypress
    self.__processItem(item, currentInput)
  File "/usr/lib/python2.6/dist-packages/autokey/service.py", line
266, in __processItem
    self.phraseRunner.execute(item, buffer)
  File "/usr/lib/python2.6/dist-packages/autokey/service.py", line
313, in execute
    mediator.send_string(expansion.string)
  File "/usr/lib/python2.6/dist-packages/autokey/iomediator.py", line
236, in send_string
    self.interface.send_string(section)
  File "/usr/lib/python2.6/dist-packages/autokey/interface.py", line
411, in send_string
    self.__sendKeyCode(keyCode, self.modMasks[Key.ALT_GR])
KeyError: '<alt_gr>'
</pre>
<pre>
>> Seems that there are some bugs to solve here, unfortunately.
>
> It's one of the perils of using software from a PPA - it's not
> guaranteed to be stable.
>
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

4/12/10.

This will be fixed in the next release - it's the same issue Derek was having with Super.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: update broke Autokey</font></h1>

4 posts by 3 authors.

<h3><font color="#FF4500">riffian said…</font></h3>

4/12/10.

I've been using Autokey a lot and rely on it quite a bit now, but was dismayed to find that after installing the recent change that came with Ubuntu 8.10's updates that it no longer works at all.  After running "autokey-gtk" from the terminal, the following output appeared:

<pre>
Traceback (most recent call last):
  File "/usr/bin/autokey-gtk", line 5, in <module>
    from autokey.gtkapp import Application
  File "/usr/lib/python2.5/site-packages/autokey/gtkapp.py", line 27,
in <module>
    import service
  File "/usr/lib/python2.5/site-packages/autokey/service.py", line 22,
in <module>
    from iomediator import Key, IoMediator
  File "/usr/lib/python2.5/site-packages/autokey/iomediator.py", line
90, in <module>
    from interface import `*`
  File "/usr/lib/python2.5/site-packages/autokey/interface.py", line
838, in <module>
    from configmanager import `*`
  File "/usr/lib/python2.5/site-packages/autokey/configmanager.py",
line 19, in <module>
    import os, os.path, shutil, logging, pickle, json
ImportError: No module named json
</pre>
I love Autokey so much that I donated - not a big donation I'm sorry because I'm poor, but I will donate again soon!

<h3><font color="#FF4500">Chris D said…</font></h3>

4/12/10.

Arrh…so it seems python 2.5 has no json module.  I'll try to push out an update later today   <h3><font color="#FF4500">riffian said…</font></h3>


4/12/10.

Thanks Chris!

<h3><font color="#FF4500">Derek said…</font></h3>

4/12/10.

I have Hardy, with Python 2.5, but I have installed simplejson, so I used this line:

<pre>
import simplejson as json
</pre>
<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Unforgiving delete, confirmation dialog</font></h1>

4 posts by 2 authors.

<h3><font color="#FF4500">Derek said…</font></h3>

4/11/10.

I found that the delete item on the Edit menu can be a dangerous thing to stumble across.

I reflexively typed it when I wanted to delete a single line.

If you are working on a script when you do this, the whole script is instantly deleted without any confirmation dialog and it's immediately deleted from the configuration file too.  And there is no undo for it.

Luckily I did it on an older version.  On the new version, even the hidden backup file, ~/.config/autokey/autokey.json~ (formerly autokey.bin~) is immediately updated with the loss.

Under that kind of threat, it may be best to edit and save scripts, even short ones, elsewhere and just paste them into AutoKey.

So in my copy of configwindow.py, I've edited the ConfigWindow.on_delete_item method to at least show a confirmation dialog first:

<pre>
 http://paste.pocoo.org/show/200672/
</pre>
I filed Issues 32 and 33 for this.

<pre>
 http://code.google.com/p/autokey/issues/list
</pre>
<h3><font color="#FF4500">Derek said…</font></h3>

4/11/10.

Update:

<tt>http://paste.pocoo.org/show/200698/</tt>

<h3><font color="#FF4500">Chris D said…</font></h3>

4/11/10.

Oooh yuk…hasattr() is nasty.  Much better to test the class of the object using isinstance():

<pre>
If isinstance(item_object, model.Folder):
    blah blah:
</pre>
<pre>
On 12 April 2010 12:50, Derek wrote:
> Update:
> http://paste.pocoo.org/show/200698/
</pre>
<h3><font color="#FF4500">Derek said…</font></h3>

4/12/10.

<pre>
On Apr 11, 7:53 pm, Chris Dekter wrote:
> Oooh yuk…hasattr() is nasty. Much better to test the class of the
> object using isinstance():
>
> if isinstance(item_object, model.Folder):
>     blah blah:
</pre>
I guess that makes more sense in this case.  We really want to know if it's a folder, not just whether we can get a title from it.

But the 'model' name was taken over by model, selectedPaths = selection.get_selected_rows()

So I think you need to rename that local variable like you did in the on_paste_item method right above this one.

Thanks for the fix.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Re: Autokey FTBFS on Ubuntu Hardy [was: Re: Big code changes incoming - v0.70]</font></h1>

15 posts by 3 authors.

<h3><font color="#FF4500">Luke Faraone said…</font></h3>

4/10/10.

<pre>
On Sat, Apr 10, 2010 at 21:49, Chris Dekter wrote:
> OK it seems as you saw that the package doesn't build on Hardy. Luke,
> perhaps you can look into that and see if it can be made to work?
</pre>
debhelper version 7 was not out when Hardy was released.  It is in the Ubuntu "backports" repository.  You will need to enable access to backports in your PPA.  Visit https://edge.launchpad.net/~cdekter/+archive/ppa/+edit-dependencies and select "Backports", and rebuild.

dh7 is not needed for package `*`usage`*` on Hardy. (IIRC)

—Luke Faraone.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/10/10.

Excellent - that worked.

<h3><font color="#FF4500">Derek said…</font></h3>

4/11/10.

<pre>
On Apr 10, 7:55 pm, Chris Dekter wrote:
> Excellent - that worked.
</pre>
Thanks. both of you.

I have it installed and working on Hardy now.  But I did have some trouble.

Some of it may have just been incidental to some messy efforts at installation.  I had tried manually installing it from the tar file, but went back to the old version when it wasn't working.  From the new PPA version, after getting errors from Update Manager, and then from Synaptic, I tried reinstalling, remove/install, completely remove/ install, apt-get… Also, I didn't know I would have to type 'autokey~gtk'.  I was trying just 'autokey', so I'm not sure when exactly it started working.

I got these errors from Synaptic:

<pre>
:
Setting up autokey-qt (0.70.0-3~hardy) :
pycentral: pycentral pkginstall: not overwriting local files
pycentral pkginstall: not overwriting local files
dpkg: error processing autokey-qt (—configure):
 subprocess post-installation script returned error exit status 1
Setting up autokey-gtk (0.70.0-3~hardy) :
pycentral: pycentral pkginstall: not overwriting local files
pycentral pkginstall: not overwriting local files
dpkg: error processing autokey-gtk (—configure):
 subprocess post-installation script returned error exit status 1
dpkg: dependency problems prevent configuration of autokey:
 autokey depends on autokey-qt; however:
  Package autokey-qt is not configured yet.
dpkg: error processing autokey (—configure):
 dependency problems - leaving unconfigured
Errors were encountered while processing:
 autokey-qt
 autokey-gtk
 autokey
E: Sub-process /usr/bin/dpkg returned an error code (1)

E: autokey-qt: subprocess post-installation script returned error exit
status 1
E: autokey-gtk: subprocess post-installation script returned error
exit status 1
E: autokey: dependency problems - leaving unconfigured
</pre>
After removing everything again with apt-get and then reinstalling with 'sudo apt-get install autokey', it gave me an error-free installation.

In configmanager.py I had to substitute this line for the import of json:

<pre>
import simplejson as json
</pre>
because Python 2.5 doesn't include json, but I have simplejson installed.

Also, it gave me trouble for not having an autokey.json file.  I didn't have the autokey.bin either, because I had cleared that all out with my "complete removal."  But I had gotten one from my earlier attempt at manual installation, so I copied that back where it goes.

Then it gave me this error dialog:

<pre>
"Error starting interface. Keyboard monitoring will be disabled.
Check your system/configuration.    '<super>'"
</pre>
I had gotten the same error when manually installing, and that was about where I gave up then.  Now I think I must have been close.  This time I opened the file and edited out all the hotkeys that use <super>.  I had to do it manually in Gedit, because AutoKey wouldn't edit it with them in there.  After that it ran mostly normally.

But if I try to configure <super> as part of a hotkey, either for a special hotkey or for a script, the OK, Save, and most other buttons stop working and the interface can become completely unresponsive, and the hotkey doesn't work.  The other modifiers work perfectly well.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/11/10.

Please start by removing autokey and autokey-qt.  You are running on Gnome yes?  I left instructions on the PPA home page not to install these two packages if you are not running KDE.

Next step is to start autokey with 'autokey-gtk -l', create a super hotkey and post the resulting log.

<h3><font color="#FF4500">Derek said…</font></h3>

4/11/10.

<pre>
On Apr 10, 10:49 pm, Chris Dekter wrote:
> Please start by removing autokey and autokey-qt:
</pre>
Done.

<pre>
> Gnome yes? I left instructions on the PPA home page not to install
> these two packages if you are not running KDE.
</pre>
I didn't notice those instructions.  I only installed the non-gtk packages when it wasn't working and I thought that it might all be tied together now.

<pre>
> Next step is to start autokey with 'autokey-gtk -l', create a super
> hotkey and post the resulting log.
</pre>
I went into Preferences, added <super> to the configuration window special hotkey, clicked OK, which dismissed the hotkey-setting dialog, and now the hotkey shows as <ctrl>+<super>+k in the Preferences dialog, but when I click OK on the Preferences window, it doesn't disappear but this traceback spills out:

<pre>
DEBUG - service - Received mouse click - resetting buffer
DEBUG - root - Removed hotkey: ['<ctrl>'] k
DEBUG - interface - Ungrabbing hotkey: ['<ctrl>'] 'k'
DEBUG - root - Created hotkey: ['<ctrl>', '<super>'] k
DEBUG - interface - Grabbing hotkey: ['<ctrl>', '<super>'] 'k'
Traceback (most recent call last):
  File "/usr/lib/python2.5/site-packages/autokey/gtkui/
settingsdialog.py", line 131, in on_save
    app.hotkey_created(configHotkey)
  File "/usr/lib/python2.5/site-packages/autokey/gtkapp.py", line 152,
in hotkey_created
    self.service.mediator.interface.grab_hotkey(item)
  File "/usr/lib/python2.5/site-packages/autokey/interface.py", line
285, in grab_hotkey
    self.__grabHotkey(item.hotKey, item.modifiers, self.rootWindow)
  File "/usr/lib/python2.5/site-packages/autokey/interface.py", line
270, in __grabHotkey
    mask |= self.modMasks[mod]
KeyError: '<super>'
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

4/11/10.

Awesome…that's a very useful log.  Strangely it looks like your system has no modifier mapping for the Super key.  What keyboard layout are you using?

<h3><font color="#FF4500">Derek said…</font></h3>

4/11/10.

<pre>
On Apr 11, 4:47 am, Chris Dekter wrote:
> Awesome…that's a very useful log. Strangely it looks like your
> system has no modifier mapping for the Super key. What keyboard layout
> are you using?
</pre>
I use "USA International (AltGr dead keys)".  I switched to default "USA", restarted AutoKey, and got the same exact results.  The hardware is a very common, plain-vanilla, USA-market keyboard.

Here is the log output at AutoKey startup where it lists the keys.  It's identical with either layout set:

<pre>
DEBUG - interface - Keycodes dict: {'<right>': 102, '<home>': 97,
'<page_up>': 99, '<f12>': 96, '<f10>': 76, '<ctrl>': 109, '<f9>': 75,
'<alt>': 64, ' ': 65, '<up>': 98, '<capslock>': 66, '<pause>': 110,
'<alt_gr>': 113, '<numlock>': 77, '<f1>': 67, '<f7>': 73, '<f5>': 71,
'<f3>': 69, '<tab>': 23, '<shift>': 62, '<left>': 100, '<backspace>':
22, '<scroll_lock>': 78, '<escape>': 9, '<down>': 104, '<f8>': 74,
'`<f11>`': 95, '<super>': 116, '<print_screen>': 111, '<end>': 103,
'<page_down>': 105, '<menu>': 117, '<f2>': 68, '<insert>': 106,
'<delete>': 107, '<f6>': 72, '<enter>': 36, '<f4>': 70}
DEBUG - interface - Modifier masks: {'<capslock>': 2, '<alt_gr>': 128,
'<numlock>': 16, '<ctrl>': 4, '<shift>': 1, '<alt>': 8}
</pre>
I see that '<super>' is not in the modifier masks.

The Super key worked normally in previous versions.  Unfortunately, I don't have a record of the debug log from back then.

<h3><font color="#FF4500">Derek said…</font></h3>

4/11/10.

<pre>
setxkbmap -print

xkb_keymap {
 xkb_keycodes  { include "xfree86+aliases(qwerty)" };
 xkb_types     { include "complete" };
 xkb_compat    { include "complete" };
 xkb_symbols   { include "pc+us+inet(logiaccess)+us(altgr-intl):
2+level3(ralt_switch_for_alts_toggle):
1+level3(ralt_switch_for_alts_toggle):2+group(alts_toggle)
+level3(ralt_switch_multikey)+nbsp(level3)" };
 xkb_geometry  { include "pc(pc104)" };
};
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

4/11/10.

Very strange.  On my keyboard Super is keycode 134 - yours is saying 116.  I suspect the problem here might be that most keyboards have only a single Super key while X actually defines a left and right super key.

Can you edit the following file:

<pre>
 /usr/share/pyshared/autokey/interface.py
</pre>
At line 856 you will see this:

<pre>
 SUPER_R : Key.SUPER,
</pre>
Comment it out by adding a # in front of it:

<pre>
 #SUPER_R : Key.SUPER,
</pre>
<pre>
Then restart AutoKey and try it again. If this doesn't work, remove
that # and try the same thing on the line above that one:

 SUPER : Key.SUPER,
</pre>
<h3><font color="#FF4500">Derek said…</font></h3>

4/11/10.

<pre>
> Comment it out by adding a # in front of it:
>
> #SUPER_R : Key.SUPER,
>
> Then restart AutoKey and try it again. If this doesn't work, remove
> that # and try the same thing on the line above that one:
>
> SUPER : Key.SUPER,
</pre>
I tried commenting out each of those, but it still didn't find the Super key.  I'm try to dig into it myself.

Here's the mapping that comes from.

<pre>
self.localDisplay.get_modifier_mapping():
mapping: [
    array('B', [50, 62, 0]),
    array('B', [66, 0, 0]),
    array('B', [37, 109, 0]),
    array('B', [64, 156, 0]),
    array('B', [77, 0, 0]),
    array('B', [0, 0, 0]),
    array('B', [127, 128, 0]),
    array('B', [93, 113, 124]),
    ]
</pre>
I see that 116 is nowhere in there.  Are the three zeros normal?  I'm hoping 127 or 128 is the real code for Super.

Here are the modMasks I get, so I guess Super should get 32 or 64.

<pre>
self.modMasks:
{
    '<alt>': 8,
    '<alt_gr>': 128,
    '<capslock>': 2,
    '<ctrl>': 4,
    '<numlock>': 16,
    '<shift>': 1,
    }
</pre>
I'm looking now at where the keycode comes from, which is what I think you were getting at.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/11/10.

Brilliant - that is indeed the track I was going down.  The keycode comes via the self.keyCodes dictionary - I'm afraid due to the complexities of how X deals with this stuff, it's quite obfuscated.  Sometimes I have to step through the code myself to figure out what it should be doing!

When building the modifier mapping, we check each modifier key to see if its keycode is in the mapping.  If it is, then we assign the associated modmask to that modifier key in the mapping.  At the moment, the code only checks one or the other of Super_L or Super_R, and which one it checks is completely random.  By commenting out those lines individually, we have eliminated that as the source of the problem.

The entry of all zeroes doesn't seem to be the cause - I have a similar entry:

<pre>
[array('B', [50, 62, 0, 0]),
array('B', [66, 0, 0, 0]),
array('B', [37, 105, 0, 0]),
array('B', [64, 108, 205, 0]),
array('B', [77, 0, 0, 0]),
array('B', [0, 0, 0, 0]),
array('B', [133, 134, 206, 207]),
array('B', [92, 203, 0, 0])]
</pre>
As you can see the third last entry is all zeroes, and my Super keycode occurs in the second last entry (134).  In my case Super maps to modmask with value 64.

I thought about hardcoding the masks as they constant on most keymaps, but then there are always one or two corner cases that get you:

<h3><font color="#FF4500">Derek said…</font></h3>

4/11/10.

That's good.  It looks like the correct keycode for me will be 127 or 128.  I guess those are left and right.  And they need to map to 64.  I was thinking that I can hardcode those for myself if I need to, though I would much rather get to the bottom of it so I don't have to maintain a hack on AutoKey each time I update it.  Otherwise, maybe you could let it fall back on probable defaults just when it doesn't find keys the right way.

I'll keep looking, though, and let you know if I find anything.

<h3><font color="#FF4500">Derek said…</font></h3>

4/11/10.

I found that if I call keysym_to_keycodes (plural), I get both 115 and 127 for XK_Super_L.  But I still only get 116 for XK_Super_R.

Since the other modifier keycodes do match pretty well with the lists from get_modifier_mapping, I'm suspecting there may just be something accidental, a bug, somewhere in my system causing these Super key codes to not match up.  Maybe it is something that was fixed after Hardy.

So for now I'm adding this after the loop that assigns modMasks, around line 192:

<pre>
(see http://paste.pocoo.org/show/200624/)
        # If a modifier has no mask assigned and its default mask
        # has not been assigned, assign it its default mask.
        defaultModMasks = {
            Key.SHIFT: 1,
            Key.CAPSLOCK: 2,
            Key.CONTROL: 4,
            Key.ALT: 8,
            Key.NUMLOCK: 16,
            Key.SUPER: 64,
            Key.ALT_GR: 128,
            }
        totalModMask = reduce(lambda a, b: a | b,
self.modMasks.itervalues())
        for mod, mask in defaultModMasks.iteritems():
            if mod not in self.modMasks:
                if not mask & totalModMask:
                    logger.info("Mapping a default mask for %s", mod)
                    self.modMasks[mod] = mask
                else:
                    logger.warning("Modifier %s has no mask.", mod)
</pre>
I tried to make it safe and generic in case you want to add it to AutoKey.

Derek.

<h3><font color="#FF4500">Derek said…</font></h3>

4/11/10.

Here's a simpler version:

<pre>
(http://paste.pocoo.org/show/200629/)

        # If a modifier has no mask assigned and its default mask
        # has not been assigned, assign it its default mask.
        defaultModMasks = {
            Key.SHIFT: 1,
            Key.CAPSLOCK: 2,
            Key.CONTROL: 4,
            Key.ALT: 8,
            Key.NUMLOCK: 16,
            Key.SUPER: 64,
            Key.ALT_GR: 128,
            }
        for mod, mask in defaultModMasks.iteritems():
            if mod not in self.modMasks:
                if mask not in self.modMasks.itervalues():
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

4/11/10.

I think a better solution is going to be to ditch most of the mapping dictionaries.  They are not needed as all the keycode/keysym data is already cached on the client side by python-xlib so it's really just duplicated effort.  This will be more work but will yield better results over all I think.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: You broke my Autokey ;-( (sequel)</font></h1>

4 posts by 3 authors.

<h3><font color="#FF4500">jflevi said…</font></h3>

4/11/10.

In the "advanced settings"—"Interface", the <Save> button doesn't work.

J.F.

<h3><font color="#FF4500">jflevi said…</font></h3>

4/11/10.

OOOps !

my previous message should read:

In the "advanced settings"—"Interface", the <OK> button doesn't work.

J.F.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/11/10.

Did you see my earlier message about posting the log?  I hope you are aware that nobody can help you if you simply state that something doesn't work.

Are you running Ubuntu 8.04 by any chance?  If so, I would advise the following steps:

sudo apt-get remove autokey autokey-qt sudo apt-get install autokey-gtk   <h3><font color="#FF4500">Derek said…</font></h3>


4/11/10.

jflevi.

Start AutoKey from the command line with autokey-gtk -l  When something goes wrong, somewhere it should print some debugging messages starting with this line: Traceback (most recent call last):

Copy and paste that back here.

Derek.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: You broke my Autokey ;-(</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">jflevi said…</font></h3>

4/11/10.

A bad way to start a Sunday :

Got up this morning, the update manager suggested updates to FF and Autokey; clicked install, rebooted and when AK starts I get a pop-up:

<pre>
"Error starting interface. Keyboard monitoring will be disabled.
Check your system/configuration
ord() expected a character, but a string of length 11 found"
</pre>
Then AK starts but the option "enable monitoring" is grayed out.

Chris, you are doing a fantastic job and your work helped me to switch to Linux !!!

Since I am using AK for text expansion only (I do a lot of typing), I was very happy with the earlier versions.

AK is becoming more and more powerful, and more complex; I was wondering if the majority of users actually use all the features or just use it as a text expansion utility, like I do; in that case, maybe it would make sense to have a "light" version that could be smaller and much easier to maintain and a "power" version that would incorporate all the new features as they are implemented.

Of course there is always the option of not getting the updates :

Anyways, a big THANK YOU for all the work you did on AK, I have been trying to find such a utility since Dapper !

J.F.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/11/10.

I'll need your autokey.log   <br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Big code changes incoming - v0.70</font></h1>


20 posts by 5 authors.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/9/10.

A new version of AutoKey is uploading to the PPA at this very moment.  This version will be v0.70.0.  The big bump in version number is due the substantial changes present in this new version.  In particular, it fixes some basic problems that have been present in AutoKey for a long time and kept it from really working 100% according to its design:

1.  If you are a fast typist, when an abbreviation triggers your keystrokes can becoming intermingled with the expanded text.  This is now fixed.  The keyboard is frozen while an expansion is in progress and any keystrokes you make during this time are replayed once the expansion is complete.  If your typing speed is >100wpm you may still lose an occasional typed character, but the expanded text will never become mixed with random typed characters.

2.  Hotkeys still passed to the window that has focus.  For example, hotkeys using the Super ('windows logo') key produce an extra typed character.  This is also fixed - hotkeys are now made exclusive to AutoKey.  If the hotkey has no window filter defined, it becomes globally exclusive and no other program can use the hotkey.  If it has a window filter, it becomes exclusive only in windows with a matching title - other programs with non-matching titles can still use the hotkey.

3.  Config file in a cryptic format (standard Python pickle protocol).  The config file is now stored in reasonably human-readable JSON format.  It's fairly easy to go in and make any changes or fix it if something becomes corrupted.  You could also edit it using one of the many JSON editors available.  Legacy support for the old file format is provided so you won't have to lose your existing settings.

Because the above changes affect core parts of AutoKey, you should make very sure to back up your existing configuration before running v0.70.  There will likely be some bugs to iron out here and there.  Probably the worst thing that could happen is your entire keyboard could become unresponsive - if this happens, don't panic, just exit AutoKey using the tray icon and the keyboard will be released.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/9/10.

Well don't thank me all at once ;)

<h3><font color="#FF4500">Derek said…</font></h3>

4/10/10.

<pre>
On Apr 9, 8:43 pm, Chris Dekter wrote:
> Well don't thank me all at once ;)
</pre>
Your work is much appreciated, Chris.  It sounds like a major improvement.

I haven't updated it yet.  I'll do that early tomorrow.

<h3><font color="#FF4500">cedardoc said…</font></h3>

4/10/10.

I'm still just thinking how happy I am you made Autokey in the first place :)  Now that you've done this I may actually try looking at the config file.

It is nice to not have the keystroke sent to the window, as the <escape> I would send to undo the letter typed into a spreadsheet cell would close firefox tabs if I did the shortcut while there.  This is getting more and more useful:

<pre>
On Apr 9, 9:43 pm, Chris Dekter wrote:
> Well don't thank me all at once ;)
</pre>
<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

4/10/10.

2010/4/10 Chris Dekter:

<pre>
> Well don't thank me all at once ;)
</pre>
Take it easy, man.! :) Can't thank you before I installed it. :^D Anyway, I installed it on my Eee PC (Ubuntu 9.10) and it seems to work there at least.  Will try it on this machine (a 17" laptop) soon.  The option to start AutoKey at start up seems to work now anyway, and the things you mentioned seems to be improved too.  So far I only did a very short test and no problems so far.

Thanks!

Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">Derek said…</font></h3>

4/10/10.

<pre>
On Apr 9, 6:32 am, Chris Dekter wrote:
> A new version of AutoKey is uploading to the PPA at this very moment.
> This version will be v0.70.0.
</pre>
The Hardy PPA still shows v0.54.5.  Is there a compatibility problem?

<h3><font color="#FF4500">Chris D said…</font></h3>

4/10/10.

Since the QT and GTK trees were combined, I haven't been doing a Hardy build because although the build would theoretically work, the autokey-qt package would install but not run (since KDE4.0 was very broken).  Also, support for Hardy ends in a week or two :P

<h3><font color="#FF4500">Derek said…</font></h3>

4/10/10.

<pre>
On Apr 10, 4:13 am, Chris Dekter wrote:
> Since the QT and GTK trees were combined, I haven't been doing a Hardy
> build because although the build would theoretically work, the
> autokey-qt package would install but not run (since KDE4.0 was very
> broken). Also, support for Hardy ends in a week or two :P
</pre>
:-/  Canonical's support of desktop Hardy continues for another year.  I'm just sticking to the LTS cycle and waiting for the final release of Lucid at the end of this month.  I might try the 6-month cycle these next couple years, though, because support from developers definitely wanes (understandably) once you start falling behind the latest versions of things.

I tried installing 0.70 manually, but it just ran into one little snag after another.  So I'm back on 0.61.3 for a few weeks.

<h3><font color="#FF4500">Luke Faraone said…</font></h3>

4/10/10.

<pre>
On Sat, Apr 10, 2010 at 08:18, Derek wrote:
> :-/  Canonical's support of desktop Hardy continues for another year.
</pre>
Correct.  LTS support is for 3 years on the desktop.

<pre>
> I'm just sticking to the LTS cycle and waiting for the final release
> of Lucid at the end of this month.  I might try the 6-month cycle
> these next couple years, though, because support from developers
> definitely wanes (understandably) once you start falling behind the
> latest versions of things.
</pre>
Assuming there are no new library versions, I expect to be doing backports of the later versions of Autokey to Lucid for the considerable future through the official Ubuntu Backports project.

Luke Faraone.

<h3><font color="#FF4500">Derek said…</font></h3>

4/10/10.

<pre>
On Apr 10, 6:03 am, Luke Faraone wrote:
> Assuming there are no new library versions:
</pre>
Hmm.  That's so often the problem.

Thanks for your work on AutoKey too.

<h3><font color="#FF4500">cedardoc said…</font></h3>

4/10/10.

I was just wondering if this could be due to the changes: I have this code that used to work.

<pre>
keyboard.send_keys("<ctrl>+<ctrl>")
time.sleep(.5)
window.activate("Quick Search Box", switchDesktop=False)
</pre>
and now it doesn't.  (no error messages) Any suggestions? (the reason I use this is because sometimes when I type ctrl-ctrl to do a google desktop search the quick search box loses focus and my typing goes into some other application)

Thanks.  Dave.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/10/10.

What is Ctrl-Ctrl?  As in how do you actually press the same key with itself? :P And yes this behaviour did change in the new version as we no longer use xtest to fake keyboard events with modifier keys (e.g.  Control) but generate real XEvents with the appropriate modifier mask.  Maybe if you can explain how Ctrl-Ctrl works I can figure out if there is a fix or workaround:

<h3><font color="#FF4500">Chris D said…</font></h3>

4/10/10.

<pre>
On 10 April 2010 22:18, Derek wrote:
> On Apr 10, 4:13 am, Chris Dekter wrote:
>> Since the QT and GTK trees were combined, I haven't been doing a Hardy
>> build because although the build would theoretically work, the
>> autokey-qt package would install but not run (since KDE4.0 was very
>> broken). Also, support for Hardy ends in a week or two :P
> :-/  Canonical's support of desktop Hardy continues for another year.
> I'm just sticking to the LTS cycle and waiting for the final release
> of Lucid at the end of this month.  I might try the 6-month cycle
> these next couple years, though, because support from developers
> definitely wanes (understandably) once you start falling behind the
> latest versions of things.
</pre>
Oh…for some reason I remember reading this week that support for Hardy ends in 3 weeks :P Perhaps it was an April fools joke?  Anyway, I'll upload a Hardy package and see if it builds.  Then I'll add a note on the PPA to say that the KDE package for Hardy is not useful.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/10/10.

OK it seems as you saw that the package doesn't build on Hardy.  Luke, perhaps you can look into that and see if it can be made to work?

<h3><font color="#FF4500">cedardoc said…</font></h3>

4/10/10.

ctrl-ctrl is the default hotkey (i.e. you press control key twice in a row (like a key double-click)) to get the google desktop search box to come up .

<h3><font color="#FF4500">Chris D said…</font></h3>

4/10/10.

OK I see…the correct way to represent this would be:

keyboard.send_keys("<control><control>")

The inclusion of the plus symbol says to AutoKey "hold down Control and then press Control", which is obviously not what you want.

<pre>
On 11 April 2010 11:57, cedardoc wrote:
> ctrl-ctrl is the default hotkey (i.e. you press control key twice in a
> row (like a key double-click)) to get the google desktop search box to
> come up .
>
</pre>
<h3><font color="#FF4500">cedardoc said…</font></h3>

4/10/10.

Thanks. but sorry, it didn't work.  I also tried the original "ctrl" without the "+".  I tried restarting autokey and rebooting, but to no effect.  No error message either.

Any other things I should try?

<h3><font color="#FF4500">Chris D said…</font></h3>

4/10/10.

That should definitely have worked.  I tried it myself and I can see AutoKey correctly sends two Control key events.  Certain applications don't seem to respond to XEvents sent by other applications (which is what AutoKey does), as opposed to XEvents originating from the XServer itself.  This may be one of those cases.

I can probably add something to the scripting API so that you can do something like:

<pre>
keyboard.fake_keypress("<ctrl>")
keyboard.fake_keypress("<ctrl>")
</pre>
Then this can be used in the rare cases where XEvents don't work for a specific application.

<pre>
On 11 April 2010 13:37, cedardoc wrote:
> Thanks. but sorry, it didn't work.  I also tried the original "ctrl"
> without the "+".  I tried restarting autokey and rebooting, but to no
> effect.  No error message either.
>
> Any other things I should try?
</pre>
<h3><font color="#FF4500">cedardoc said…</font></h3>

4/10/10.

thanks, I appreciate that:

so I'll just try that the next time I see an update?

<h3><font color="#FF4500">Chris D said…</font></h3>

4/10/10.

Yup   <br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: EOI - text configuration file format</font></h1>


22 posts by 8 authors.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/1/10.

I'm looking to get an idea of the level of interest in having a plain text (ini-style) configuration file for AutoKey.  Please reply with a +1 to this thread if you think this would help you (and maybe add a comment as to why you think it's a good idea).

<h3><font color="#FF4500">mototom800 said…</font></h3>

4/1/10.

+ with this comment.  Now that I've already converted my AHK text file to Autokey, I'd be more interested in a text <—> conf utility.

Thanks for creating the program that made Linux truly available for me.  Without Autokey my workday would be true torture using Linux.

—"There will come a time when you believe everything is finished.  That will be the beginning." - Louis L'Amour

<h3><font color="#FF4500">Derek said…</font></h3>

4/1/10.

+1

I always prefer a readable configuration file.  It is often useful in unforeseen ways.  If the configuration somehow were to get corrupted, it would be much easier to fix or at least salvage.  If one wants to search for something, maybe a hotkey combination or a bit of Python code, it would be very simple to search in a text editor.

<h3><font color="#FF4500">mfseeker said…</font></h3>

4/1/10.

+1

I share Derek's sentiments.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/1/10.

One thing to keep in mind is that the new config file format won't be anything like as simple as the old 0.4x config file was as AutoKey has vastly more options and capabilities now:

<h3><font color="#FF4500">Derek said…</font></h3>

4/1/10.

If the data is complex, maybe JSON would be easier for making sense of it than the ini-style format.

<h3><font color="#FF4500">sacredeagle said…</font></h3>

4/1/10.

+1 I like to fiddle with config-files in Vim. :) Honestly I like the idea in general.  It would make it easy to copy to other machines f.ex.  Wouldn't it?

<h3><font color="#FF4500">Chris D said…</font></h3>

4/1/10.

<pre>
On 2 April 2010 00:32, Derek wrote:
> If the data is complex, maybe JSON would be easier for making sense of
> it than the ini-style format.
</pre>
That probably wouldn't make the resulting config file simpler, but it would certainly make the implementation to encode/decode simpler:

<h3><font color="#FF4500">Derek said…</font></h3>

4/1/10.

<pre>
On Apr 1, 6:46 am, Chris Dekter wrote:
> That probably wouldn't make the resulting config file simpler, but it
> would certainly make the implementation to encode/decode simpler:
</pre>
I like JSON's way of showing nested data, and a dictionary mapping looks straightforward to me.

For anyone getting into the AutoKey source files, it will be helpful is there is close correlation between the names and structure in the configuration file and what we find in the source code.

<h3><font color="#FF4500">Frank Harper said…</font></h3>

4/1/10.

+1

It makes exchanging batches of scripts/hotstrings between users simpler.  People can use the editor they prefer to edit scripts.  You can put the config. under version control and easily see meaningful changes.

<h3><font color="#FF4500">Luke Faraone said…</font></h3>

4/1/10.

+1.  This will provide numerous benefits to users in terms of usability, parsing by other applications, hand-editing, etc., but we have to make sure we keep backward compatibility (read-only, if necessary) with old formats for the considerable future.

Luke Faraone.

<h3><font color="#FF4500">cedardoc said…</font></h3>

4/1/10.

<pre>
On Apr 1, 9:30 am, Luke Faraone wrote:
> On 04/01/2010 08:10 AM, Chris Dekter wrote:
>
> > I'm looking to get an idea of the level of interest in having a plain
> > text (ini-style) configuration file for AutoKey. Please reply with a
> > +1 to this thread if you think this would help you (and maybe add a
> > comment as to why you think it's a good idea).
>
> +1. This will provide numerous benefits to users in terms of usability,
> parsing by other applications, hand-editing, etc., but we have to make
> sure we keep backward compatibility (read-only, if necessary) with old
> formats for the considerable future.
>
>—
> Luke Faraone.
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

4/2/10.

One important problem to solve is what to do with the script and phrase bodies, since they can span multiple lines.  Including them in the config file directly will not be conducive to editing them there as JSON requires strings to be on a single line with line breaks denoted by \n.  My initial idea is to put them into a separate file with tags to mark the start of each phrase/script body.  Any thoughts?

<h3><font color="#FF4500">sacredeagle said…</font></h3>

4/2/10.

I vote on the separate file idea, absolutely.  For example: if I install on another computer and decide that I want go back to AutoKey's original configuration I only have to copy the script/phrase file.

<h3><font color="#FF4500">Frank Harper said…</font></h3>

4/2/10.

How about using Python as the file format?

Hoststrings could be functions/methods that return strings.  Properties such as hotkey, window_filter, etc. could be set by function/method calls.  E.g. hot_key("ctrl-alt-a").

2010/4/2

Helgi
<h3><font color="#FF4500">Derek said…</font></h3>

4/2/10.

I agree with keeping them as a separate file.

Is there any reason why it couldn't be written as a Python module?  Then I could open it with syntax highlighting in Gedit.  You could just wrap each script into a function definition.  That would make it useful for interaction with Python tools and testing.  It might be useful within AutoKey too.

The phrases could be written as a dictionary or dictionaries, but without the usual indentation:

<pre>
phrases_ = {
'My Address':
'''
123 Main Street
Anytown, USA
'''

'My phone':
'''
(123) 456-7890
'''
}
</pre>
If you went this route, you could import the file, read the dictionaries directly for the phrases, and use the inspect module's getsource function to retrieve the source for each script.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/4/10.

You guys asked for it…here it is…:P

Below is what the default configuration that comes with AutoKey will look like in the new format.  I haven't yet moved the phrase and script contents to a separate file as I'm still deciding how to best to approach that.

<pre>
{
    "folders": [
        {
            "folders": [],
            "usageCount": 0,
            "modes": [],
            "abbreviation": {
                "ignoreCase": false,
                "wordChars": "[\\w]",
                "immediate": false,
                "abbreviation": null,
                "backspace": true,
                "triggerInside": false
            },
            "title": "Sample Scripts",
            "hotkey": {
                "hotKey": null,
                "modifiers": []
            },
            "items": [
                {
                    "usageCount": 0,
                    "omitTrigger": false,
                    "code": "output =
system.exec_command(\"date\")\nkeyboard.send_keys(output)",
                    "prompt": false,
                    "description": "Insert Date",
                    "abbreviation": {
                        "ignoreCase": false,
                        "wordChars": "[\\w]",
                        "immediate": false,
                        "abbreviation": null,
                        "backspace": true,
                        "triggerInside": false
                    },
                    "hotkey": {
                        "hotKey": null,
                        "modifiers": []
                    },
                    "modes": [],
                    "showInTrayMenu": false,
                    "filter": null,
                    "type": "script",
                    "store": {}
                },
                {
                    "usageCount": 0,
                    "omitTrigger": false,
                    "code": "choices = [\"something\", \"something
else\", \"a third thing\"]\n\nretCode, choice =
dialog.list_menu(choices)\nif retCode == 0:\n
keyboard.send_keys(\"You chose \" + choice)",
                    "prompt": false,
                    "description": "List Menu",
                    "abbreviation": {
                        "ignoreCase": false,
                        "wordChars": "[\\w]",
                        "immediate": false,
                        "abbreviation": null,
                        "backspace": true,
                        "triggerInside": false
                    },
                    "hotkey": {
                        "hotKey": null,
                        "modifiers": []
                    },
                    "modes": [],
                    "showInTrayMenu": false,
                    "filter": null,
                    "type": "script",
                    "store": {}
                },
                {
                    "usageCount": 0,
                    "omitTrigger": false,
                    "code": "text =
clipboard.get_selection()\nkeyboard.send_key(\"<delete>\")\nkeyboard.send_keys(\"The
text %s was here previously\" % text)",
                    "prompt": false,
                    "description": "Selection Test",
                    "abbreviation": {
                        "ignoreCase": false,
                        "wordChars": "[\\w]",
                        "immediate": false,
                        "abbreviation": null,
                        "backspace": true,
                        "triggerInside": false
                    },
                    "hotkey": {
                        "hotKey": null,
                        "modifiers": []
                    },
                    "modes": [],
                    "showInTrayMenu": false,
                    "filter": null,
                    "type": "script",
                    "store": {}
                },
                {
                    "usageCount": 0,
                    "omitTrigger": false,
                    "code": "import time\ntime.sleep(0.25)\ncontents =
clipboard.get_selection()\nretCode, abbr = dialog.input_dialog(\"New
Abbreviation\", \"Choose an abbreviation for the new phrase\")\nif
retCode == 0:\n    if len(contents) > 20:\n        title =
contents[0:17] + \"…\"\n    else:\n        title = contents\n
folder = engine.get_folder(\"My Phrases\")\n
engine.create_abbreviation(folder, title, abbr, contents)",
                    "prompt": false,
                    "description": "Abbreviation from selection",
                    "abbreviation": {
                        "ignoreCase": false,
                        "wordChars": "[\\w]",
                        "immediate": false,
                        "abbreviation": null,
                        "backspace": true,
                        "triggerInside": false
                    },
                    "hotkey": {
                        "hotKey": null,
                        "modifiers": []
                    },
                    "modes": [],
                    "showInTrayMenu": false,
                    "filter": null,
                    "type": "script",
                    "store": {}
                },
                {
                    "usageCount": 0,
                    "omitTrigger": false,
                    "code": "import time\ntime.sleep(0.25)\ncontents =
clipboard.get_selection()\nif len(contents) > 20:\n    title =
contents[0:17] + \"…\"\nelse:\n    title = contents\nfolder =
engine.get_folder(\"My Phrases\")\nengine.create_phrase(folder, title,
contents)",
                    "prompt": false,
                    "description": "Phrase from selection",
                    "abbreviation": {
                        "ignoreCase": false,
                        "wordChars": "[\\w]",
                        "immediate": false,
                        "abbreviation": null,
                        "backspace": true,
                        "triggerInside": false
                    },
                    "hotkey": {
                        "hotKey": null,
                        "modifiers": []
                    },
                    "modes": [],
                    "showInTrayMenu": false,
                    "filter": null,
                    "type": "script",
                    "store": {}
                }
            ],
            "filter": null,
            "type": "folder",
            "showInTrayMenu": false
        },
        {
            "folders": [
                {
                    "folders": [],
                    "usageCount": 0,
                    "modes": [],
                    "abbreviation": {
                        "ignoreCase": false,
                        "wordChars": "[\\w]",
                        "immediate": false,
                        "abbreviation": null,
                        "backspace": true,
                        "triggerInside": false
                    },
                    "title": "Addresses",
                    "hotkey": {
                        "hotKey": null,
                        "modifiers": []
                    },
                    "items": [
                        {
                            "usageCount": 0,
                            "omitTrigger": false,
                            "prompt": false,
                            "description": "Home Address",
                            "abbreviation": {
                                "ignoreCase": false,
                                "wordChars": "[\\w]",
                                "immediate": false,
                                "abbreviation": "adr",
                                "backspace": true,
                                "triggerInside": false
                            },
                            "hotkey": {
                                "hotKey": null,
                                "modifiers": []
                            },
                            "phrase": "22 Avenue Street\nBrisbane\nQLD\n4000",
                            "modes": [
                                1
                            ],
                            "showInTrayMenu": false,
                            "matchCase": false,
                            "filter": null,
                            "type": "phrase"
                        }
                    ],
                    "filter": null,
                    "type": "folder",
                    "showInTrayMenu": false
                }
            ],
            "usageCount": 0,
            "modes": [
                3
            ],
            "abbreviation": {
                "ignoreCase": false,
                "wordChars": "[\\w]",
                "immediate": false,
                "abbreviation": null,
                "backspace": true,
                "triggerInside": false
            },
            "title": "My Phrases",
            "hotkey": {
                "hotKey": "<f7>",
                "modifiers": [
                    "<ctrl>"
                ]
            },
            "items": [
                {
                    "usageCount": 0,
                    "omitTrigger": false,
                    "prompt": false,
                    "description": "First phrase",
                    "abbreviation": {
                        "ignoreCase": false,
                        "wordChars": "[\\w]",
                        "immediate": false,
                        "abbreviation": null,
                        "backspace": true,
                        "triggerInside": false
                    },
                    "hotkey": {
                        "hotKey": null,
                        "modifiers": []
                    },
                    "phrase": "Test phrase number one!",
                    "modes": [
                        2
                    ],
                    "showInTrayMenu": false,
                    "matchCase": false,
                    "filter": ".`*` - gedit",
                    "type": "phrase"
                },
                {
                    "usageCount": 0,
                    "omitTrigger": false,
                    "prompt": false,
                    "description": "Second phrase",
                    "abbreviation": {
                        "ignoreCase": false,
                        "wordChars": "[\\w]",
                        "immediate": false,
                        "abbreviation": null,
                        "backspace": true,
                        "triggerInside": false
                    },
                    "hotkey": {
                        "hotKey": null,
                        "modifiers": []
                    },
                    "phrase": "Test phrase number two!",
                    "modes": [],
                    "showInTrayMenu": false,
                    "matchCase": false,
                    "filter": null,
                    "type": "phrase"
                },
                {
                    "usageCount": 0,
                    "omitTrigger": false,
                    "prompt": false,
                    "description": "Third phrase",
                    "abbreviation": {
                        "ignoreCase": false,
                        "wordChars": "[\\w]",
                        "immediate": false,
                        "abbreviation": null,
                        "backspace": true,
                        "triggerInside": false
                    },
                    "hotkey": {
                        "hotKey": null,
                        "modifiers": []
                    },
                    "phrase": "Test phrase number three! asdf asdf",
                    "modes": [],
                    "showInTrayMenu": false,
                    "matchCase": false,
                    "filter": null,
                    "type": "phrase"
                }
            ],
            "filter": null,
            "type": "folder",
            "showInTrayMenu": false
        }
    ],
    "toggleServiceHotkey": {
        "hotKey": "k",
        "modifiers": [
            "<ctrl>",
            "<shift>"
        ]
    },
    "settings": {
        "showTrayIcon": true,
        "windowDefaultSize": [
            600,
            400
        ],
        "undoUsingBackspace": true,
        "enableQT4Workaround": false,
        "promptToSave": true,
        "interfaceType": "XEvDev",
        "showToolbar": true,
        "serviceRunning": true,
        "isFirstRun": false,
        "sortByUsageCount": true,
        "inputSavings": 0,
        "hPanePosition": 150,
        "menuTakesFocus": false
    },
    "userCodeDir": null,
    "version": "0.62.0",
    "showPopupHotkey": {
        "hotKey": " ",
        "modifiers": [
            "<ctrl>"
        ]
    },
    "configHotkey": {
        "hotKey": "k",
        "modifiers": [
            "<ctrl>"
        ]
    }
}
</pre>
<h3><font color="#FF4500">Derek said…</font></h3>

4/4/10.

Thanks.  Chris.  It doesn't make for pleasant idle reading, but it looks a lot more handy than the old pickle file I had to edit once.

<h3><font color="#FF4500">Derek said…</font></h3>

4/4/10.

…And thanks again for all your work on the application.  I use it a lot everyday without even noticing it.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/4/10.

Having looked into it further, I think I will leave it as is with the code/phrase contents inside the same file.  I really don't like the idea of splitting the config into separate files, it just adds a lot of complexity and potential bugs.  For editing the JSON file outside of AutoKey, there are several good online JSON editors that one could use:

<pre>
http://www.thomasfrank.se/downloadableJS/JSONeditor_example.html
http://braincast.nl/samples/jsoneditor/
</pre>
So I think the new implementation as it stands meets the requirements of being reasonably human-readable, accessible to other applications and since it uses a common format can be easily validated/repaired in case of corruption.  I will probably release it as it stands within a few days (need to do a little more testing).

<h3><font color="#FF4500">Frank Harper said…</font></h3>

4/5/10.

I agree keeping it all in the same file definitely is better.

This JSON syntax shown is really pretty complicated and user unfriendly.  If the goal is to make it easier for a human to read and edit the config. file human, I don't think this is a good solution.

I hope there's a way to simplify it:

To me a lot of the perceived complexity comes from the deep level of nesting, and the lack of default values.

Some suggestions:

remove folders?  I don't think AHK has them, does AK need them?  Does anybody really use them?  In the text config. file you can put related items in the same section of the file.

<pre>
{
    "home address": {
         "hotkey": "ctrl-alt-shift-a",
        "phrase": "22 Avenue Street\nBrisbane\nQLD\n4000"
    },
    "Phrase from selection": {
                   "omitTrigger": false,
                    "prompt": false,
                   "code": "
import time
time.sleep(0.25)
contents clipboard.get_selection()
if len(contents) > 20:
    title =contents[0:17] + \"…\"
else:
    title = contents
folder = engine.get_folder(\"My Phrases\")
engine.create_phrase(folder, title contents)"
    }
}
</pre>

<h3><font color="#FF4500">Chris D said…</font></h3>

4/5/10.

I don't think I will be simplifying it any further.  If I were to remove folders, large components of the UI would have to be altered as there are some fairly fundamental concepts in there that hinge on this feature.  If you wanted to avoid using folders you could use the NoGUI API and effectively use Python as your plain text configuration format.  If you do a search there should be some posts about it on this group.

Aside from that, IronAHK is making good progress and should become viable for power users to use soon.  It wouldn't make sense to do big changes to AutoKey to make it more like AHK in the light of this.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: How to install in openSUSE 11.2?</font></h1>

11 posts by 3 authors.

<h3><font color="#FF4500">Joon said…</font></h3>

4/2/10.

Hi.

Now I switched to openSUSE 11.2 (Gnome), and it would be great if someone can let me know how to install autokey in openSUSE.

Best Regards.  Joon   <h3><font color="#FF4500">Luke Faraone said…</font></h3>


4/2/10.

<pre>
On 04/02/2010 05:05 PM, joon wrote:
> Now I switched to openSUSE 11.2 (Gnome), and it would be great if
> someone can let me know how to install autokey in openSUSE.
</pre>

See <tt>http://forums.opensuse.org/archives/sls-archives/archives-suse-linux/archives-general-questions/383986-deb-install.html#post1806147</tt> for information on a quick and dirty way to convert the .debs into installable RPMs.  This may not work.

Luke Faraone.

<h3><font color="#FF4500">Joon said…</font></h3>

4/3/10.

Thanks for the reply.  Unfortunately, it does not seem to work.  I have used alien to both -common and -gtk+ and got rpms, and they seem to be installed, but when I click on Autokey icon, nothing happens.

-Joon.

<pre>
On Apr 2, 4:52 pm, Luke Faraone wrote:
>
> On 04/02/2010 05:05 PM, joon wrote:
>
> > Now I switched to openSUSE 11.2 (Gnome), and it would be great if
> > someone can let me know how to install autokey in openSUSE.
>
> Seehttp://forums.opensuse.org/archives/sls-archives/archives-suse-linux/:

> for information on a quick and dirty way to convert the .debs into
> installable RPMs. This may not work.
>
> —
> Luke Faraone.
</pre>
<h3><font color="#FF4500">Luke Faraone said…</font></h3>

4/3/10.

<pre>
On Sat, Apr 3, 2010 at 19:44, joon  wrote:
> Thanks for the reply. Unfortunately, it does not seem to work. I have
> used alien to both -common and -gtk+ and got rpms, and they seem to be
> installed, but when I click on Autokey icon, nothing happens.
</pre>
Can you give us the output of starting Autokey in the terminal?

Luke Faraone.

<h3><font color="#FF4500">Joon said…</font></h3>

4/4/10.

Here you go.

<pre>
joon@linux-3393:/usr/local/bin> autokey-gtk
Traceback (most recent call last):
  File "/usr/local/bin/autokey-gtk", line 5, in <module>
    from autokey.gtkapp import Application
  File "/usr/local/lib/python2.6/site-packages/autokey/gtkapp.py",
line 27, in <module>
    import service
  File "/usr/local/lib/python2.6/site-packages/autokey/service.py",
line 22, in <module>
    from iomediator import Key, IoMediator
  File "/usr/local/lib/python2.6/site-packages/autokey/iomediator.py",
line 90, in <module>
    from interface import `*`
  File "/usr/local/lib/python2.6/site-packages/autokey/interface.py",
line 29, in <module>
    from Xlib import X, XK, display, error
ImportError: No module named Xlib
</pre>
Thanks!  Joon.

<pre>
On Apr 3, 7:39 pm, Luke Faraone wrote:
> On Sat, Apr 3, 2010 at 19:44, joon  wrote:
> > Thanks for the reply. Unfortunately, it does not seem to work. I have
> > used alien to both -common and -gtk+ and got rpms, and they seem to be
> > installed, but when I click on Autokey icon, nothing happens.
>
> Can you give us the output of starting Autokey in the terminal?
>
> —
> Luke Faraone.
</pre>
<h3><font color="#FF4500">Luke Faraone said…</font></h3>

4/4/10.

<pre>
On Sun, Apr 4, 2010 at 16:23, joon  wrote:
> Here you go.
</pre>
Reads to me like you need to install python-xlib from the OpenSuSE repository.

Luke Faraone.

<h3><font color="#FF4500">Joon said…</font></h3>

4/4/10.

Actually I tried $ easy_install Xlib and failed, but it was very easy to install in software installer.  Now I can run Autokey, but I've got the following error message:

<pre>
Error starting interface. Keyboard monitoring will be disabled.
Check your system/configuration.

Can't connect to display ":0.0": No protocol specified
</pre>
Otherwise I can see the icon and the configuration window works well as well.

Thanks!  Joon.

<pre>
On Apr 4, 3:25 pm, Luke Faraone wrote:
> On Sun, Apr 4, 2010 at 16:23, joon  wrote:
> > Here you go.
>
> Reads to me like you need to install python-xlib from the OpenSuSE repository.
>
>—
> Luke Faraone.
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

4/4/10.

Try running the following command before starting AutoKey:

xhost +

<h3><font color="#FF4500">Joon said…</font></h3>

4/4/10.

Now I've got different error:

<pre>
Error starting interface. Keyboard monitoring will be disabled.
Check your system/configuration.

Unable to connect to EvDev daemon:
[Errno 2] ê·¸ëŸ° íŒŒì¼ì´ë‚˜ ë""ë  ‰í„°ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤ (which means "There is no such file or
directory" in English)
</pre>
Thanks!

<h3><font color="#FF4500">Chris D said…</font></h3>

4/4/10.

This means the daemon is probably not running.

Run /etc/init.d/autokey start  2010/4/5 joon:

<h3><font color="#FF4500">Joon said…</font></h3>

4/4/10.

It worked!  Thank you so much!  Now I can comfortably use openSUSE, which I prefer to Ubuntu.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Wish for a feature.</font></h1>

4 posts by 2 authors.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

4/1/10.

I'd like to be able to define my own trigger characters, at least a few, maybe 5 or so.  One of those that I use often is the "." character and it doesn't work as a trigger character, unfortunately.

Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">Chris D said…</font></h3>

4/1/10.

Actually a long time ago you used to be able to define your own trigger characters.  I removed it because nobody seemed to use it: You could try the following: set the abbreviation to be something like abr…(including your '…' char), then set it to trigger immediately.  See if this suits your purpose.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

4/2/10.

<pre>
2010/4/2 Chris Dekter:
> Actually a long time ago you used to be able to define your own
> trigger characters. I removed it because nobody seemed to use it:
> You could try the following: set the abbreviation to be something like
> abr…(including your '…' char), then set it to trigger
> immediately. See if this suits your purpose.
</pre>
It didn't work.  Nothing happened at all.  Besides, AutoKey can't type the "." properly in some applications (like Opera) since Ctrl+Shift+u doesn't work there.

Another downside is that I need to have most of my phrases in two versions with this method.

But it's ok, it was only a wish.  I can get around it by a few extra key hits, as far as I know.  For example, if I want to type "as far as I know."  I can always type a dot or something and then backspace and ".".

By the way, I have another wish.  Why not add another check box for always type "I" rather than "i"?  In the example above ("as far as I know") I need to have two phrases for the "I" to come out correctly: One phrase for "As far as I know" and one for "as far as I know", right?

Regards.

Johnny Rosenberg.

<pre>
> On 2 April 2010 06:55, Johnny Rosenberg wrote:
>> I'd like to be able to define my own trigger characters, at least a
>> few, maybe 5 or so. One of those that I use often is the "." character
>> and it doesn't work as a trigger character, unfortunately.
>>iofs

>> Regards.
>>
>> Johnny Rosenberg
</pre>
<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

4/2/10.

2010/4/2 Johnny Rosenberg:

<pre>
> 2010/4/2 Chris Dekter:
>> Actually a long time ago you used to be able to define your own
>> trigger characters. I removed it because nobody seemed to use it:
>> You could try the following: set the abbreviation to be something like
>> abr…(including your '…' char), then set it to trigger
>> immediately. See if this suits your purpose.
>
> It didn't work. Nothing happened at all. Besides, AutoKey can't type
> the "." properly in some applications (like Opera) since Ctrl+Shift+u
> doesn't work there.
>
> Another downside is that I need to have most of my phrases in two
> versions with this method.
>
> But it's ok, it was only a wish. I can get around it by a few extra
> key hits, as far as I know.
> For example, if I want to type "as far as I know." I can always type a
> dot or something and then backspace and ".".
>
> By the way, I have another wish. Why not add another check box for
> always type "I" rather than "i"? In the example above ("as far as I
> know") I need to have two phrases for the "I" to come out correctly:
> One phrase for "As far as I know" and one for "as far as I know",
> right?
</pre>
The reason I want a check box for it is that most of my phrases is in Swedish, and "i" in Swedish means "in", and it's not supposed to be a capital unless it's in the beginning of a sentence or the whole sentence is in capitals, just like any other Swedish word (and any English word except "I".).

Regards.

Johnny Rosenberg.

<pre>
>> On 2 April 2010 06:55, Johnny Rosenberg wrote:
>>> I'd like to be able to define my own trigger characters, at least a
>>> few, maybe 5 or so. One of those that I use often is the "." character
>>> and it doesn't work as a trigger character, unfortunately.
>>>iofs
>>> Regards.
>>>
>>> Johnny Rosenberg
</pre>
<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: favourite scripts (2)</font></h1>

6 posts by 2 authors.

<h3><font color="#FF4500">cedardoc said…</font></h3>

3/21/10.

This closed thread:

<tt>http://groups.google.com/group/autokey-users/browse_thread/thread/ed0089c84cb3aa40/3de6e43b7c6b3f50?lnk=gst&q=scripts#3de6e43b7c6b3f50</tt>.

Asked for favourite scripts.  Here's one of mine.  Its to quickly add an item to a groceries.txt file:

<pre>
retCode, gitem = dialog.input_dialog("Add to groceries", "What would
you like to pick up at the grocery store?")
output = system.exec_command("date '+ - %a %b %d '")
gitem2 = "\n" + gitem
fileHandle = open ( '/home/david/Dropbox/groceries.txt', 'a' )
fileHandle.write (gitem2)
fileHandle.write (output)
fileHandle.close()
</pre>
And I use this to open the file:

<pre>
keyboard.send_key("<escape>")
import subprocess
subprocess.call(['xdg-open', '/home/david/Dropbox/groceries.txt'])
</pre>
simple, but effective.  :-)

<h3><font color="#FF4500">cedardoc said…</font></h3>

3/28/10.

Here's a good one that lets you use google calendar quick add to make an appointment in your appointment book without having to open your calendar or even your browser directly.  It uses the google calendar API found here:

<pre>
 http://code.google.com/apis/calendar/data/1.0/developers_guide_python.html#CreatingQuickAdd
</pre>
You have to download the Python client library, then put this into a script (just change the username and password).

<pre>
retCode, date = dialog.calendar(title="Choose a date", format="%Y-%m-
%d", date="today")
#retCode, seedate = dialog.input_dialog(title="here's the date",
message="", default=(getdate))
retCode, time = dialog.input_dialog("what time?", "starting at what
time?")
retCode, event1 = dialog.input_dialog("the event?", "what's the
event?")
event2 = event1 + " " + date + " " + time
#retCode, seedate = dialog.input_dialog(title="here's the event",
message="", default=(event2))


#everything from here down is from:
#http://code.google.com/apis/calendar/data/1.0/

developers_guide_python.html#CreatingQuickAdd

try:
  from xml.etree import ElementTree # for Python 2.5 users
except ImportError:
  from elementtree import ElementTree
import gdata.calendar.service
import gdata.service
import atom.service
import gdata.calendar
import atom
import getopt
import sys
import string
import time

calendar_service = gdata.calendar.service.CalendarService()

#    your info goes here
calendar_service.email = 'user…@gmail.com'
calendar_service.password = 'password'

calendar_service.source = 'Google-Calendar_Python_Sample-1.0'
calendar_service.ProgrammaticLogin()
event = gdata.calendar.CalendarEventEntry()
event.content = atom.Content(text=(event2))
event.quick_add = gdata.calendar.QuickAdd(value='true')

# Send the request and receive the response:
new_event = calendar_service.InsertEvent(event, '/calendar/feeds/
default/private/full')
</pre>
That's it.  I just made it, and it works for me, hope it works for you too.

Dave P.

<pre>
On Mar 21, 10:49 pm, cedardoc wrote:
> This closed thread:
>
> http://groups.google.com/group/autokey-users/browse_thread/thread/ed0:

>
> asked for favourite scripts.  Here's one of mine.  Its to quickly add
> an item to a groceries.txt file:
>
> retCode, gitem = dialog.input_dialog("Add to groceries", "What would
> you like to pick up at the grocery store?")
> output = system.exec_command("date '+ - %a %b %d '")
> gitem2 = "\n" + gitem
> fileHandle = open ( '/home/david/Dropbox/groceries.txt', 'a' )
> fileHandle.write (gitem2)
> fileHandle.write (output)
> fileHandle.close()
>
> and I use this to open the file:
>
> keyboard.send_key("<escape>")
> import subprocess
> subprocess.call(['xdg-open', '/home/david/Dropbox/groceries.txt'])
>
> simple, but effective.  :-)
</pre>
<h3><font color="#FF4500">cedardoc said…</font></h3>

3/29/10.

woops, posted that one too soon - the cancel buttons on the initial part where you pick the date etc don't work (and I don't see in the API documentation how to get that working - I'll look in more generic python sites…).

<pre>
On Mar 28, 9:30 pm, cedardoc wrote:
> Here's a good one that lets you use google calendar quick add to make
> an appointment in your appointment book without having to open your
> calendar or even your browser directly.  It uses the google calendar
> API found here:
>
> http://code.google.com/apis/calendar/data/1.0/developers_guide_python:
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

3/29/10.

What you need to do is check the retCode - it will be 1 if the user clicked cancel:

<pre>
retCode, date = dialog.calendar(title="Choose a date",
format="%Y-%m-%d", date="today")

if retCode == 0:

    retCode, time = dialog.input_dialog("what time?", "starting at what time?")

if retCode == 0:

    retCode, event1 = dialog.input_dialog("the event?", "what's the event?")

if retCode == 0:
    event2 = event1 + " " + date + " " + time

    try:
        from xml.etree import ElementTree # for Python 2.5 users
    except ImportError:
        from elementtree import ElementTree
    import gdata.calendar.service, gdata.service, atom.service, gdata.calendar
    import atom, getopt, sys, string, time

    calendar_service = gdata.calendar.service.CalendarService()

    #    your info goes here
    calendar_service.email = 'user…@gmail.com'
    calendar_service.password = 'password'

    calendar_service.source = 'Google-Calendar_Python_Sample-1.0'
    calendar_service.ProgrammaticLogin()
    event = gdata.calendar.CalendarEventEntry()
    event.content = atom.Content(text=(event2))
    event.quick_add = gdata.calendar.QuickAdd(value='true')

# Send the request and receive the response:
new_event = calendar_service.InsertEvent(event,
'/calendar/feeds/default/private/full')
</pre>
You have a lot of unused imports there as well…your script will run quicker (at least the first time) if you get rid of the unused imports.

<h3><font color="#FF4500">cedardoc said…</font></h3>

3/30/10.

Thank you, that fixed it (after adding one more "if retCode == 0: " before the "try:")

Regarding the unused imports, as I'm just a "cut, paste and cross your fingers" kind of person, I'm not sure how to tell which imports are used and which are not.

It doesn't seem safe to assume that if the word after "import" (e.g. "getopt") doesn't occur in the code after the import, that's the way to tell you can delete it because  I commented out all imports that didn't follow and now it doesn't work.  These were:

<pre>
    #import gdata.service
    #import atom.service
    #import atom

    #import getopt
    #import sys
    #import string
    #import time
</pre>
Is the way that you know just your experience using python etc, or is there a simpler way to know this?

By the way, thank you for this software - its nice to be able to come over to Linux.  I was one of those resisting only due to the lack of AHK.

Dave.

<h3><font color="#FF4500">Chris D said…</font></h3>

3/30/10.

<pre>
On 31 March 2010 06:06, cedardoc wrote:
>
> It doesn't seem safe to assume that if the word after "import" (e.g.
> "getopt") doesn't occur in the code after the import, that's the way
> to tell you can delete it because  I commented out all imports that
> didn't follow and now it doesn't work.  These were:
</pre>
That is in fact exactly how it works in Python - if it is not directly referenced in the code then you don't need the import statement.  You must have accidentally commented out one that is being used.  Have a look at the 'view script error' menu option to see what is causing the exception.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Fatal error starting AutoKey</font></h1>

9 posts by 2 authors.

<h3><font color="#FF4500">Joon said…</font></h3>

3/28/10.

Hi.

I have installed Ubuntu 9.10 last night and installed AutoKey 0.61.6.  I have done it several times and had no problem, but this time, when I try to run it, it crashes with the following message:

<pre>
Fatal error starting AutoKey.
'HotkeySettingsDialog' object has no attribute 'setButton'
</pre>
If I copy the autokey.bin file from another computer it runs without any error, but I cannot open the configuration window (nothing happens)

Any help will be greatly appreciated.  Thank you.

-Joon   <h3><font color="#FF4500">Chris D said…</font></h3>


3/28/10.

Hmmm…sounds suspiciously like an introduced bug…will take a look at it later today.

<h3><font color="#FF4500">Joon said…</font></h3>

3/28/10.

Thanks!  And by "I have done it several times," I mean I have installed Ubuntu 9.10 and Autokey several times. :)

Hope this can be resolved easily.  By the way, thank you for the great app.  Before autokey, lack of AutoHotkey had been one of the biggest drawback of linux for me.

-Joon   <h3><font color="#FF4500">Chris D said…</font></h3>


3/28/10.

I'm pleased you've found AutoKey useful:

Would you be able to post the output of the following command?

<pre>
 autokey-gtk -l -c
</pre>
<h3><font color="#FF4500">Joon said…</font></h3>

3/29/10.

Oops, for:

<pre>
$ autokey-gtk -l -c
</pre>
I've got:

<pre>
 $ autokey-gtk: command not found
</pre>
And if I do:

<pre>
 $ autokey -gtk -l -c
</pre>
Then I got:

<pre>
The program 'autokey' is currently not installed.  You can install it
by typing:
sudo apt-get install autokey
</pre>
But if I do $ sudo apt-get install autokey.

<pre>
Reading package lists…Done
Building dependency tree
Reading state information…Done
autokey is already the newest version.
0 upgraded, 0 newly installed, 0 to remove and 7 not upgraded.
</pre>
-Joon   <h3><font color="#FF4500">Chris D said…</font></h3>


3/29/10.

Oh…are you on KDE?  Try autokey-qt -l -c   <h3><font color="#FF4500">Joon said…</font></h3>


3/29/10.

No I'm using Ubuntu.

Anyway, I did it, and it ended with the error.  The following is the results:

<pre>
joon@ubuntu:~$ autokey-qt -l -c
INFO - root - Initialising application
INFO - config-manager - Loading config from existing file: /home/
joon/.config/autokey/
autokey.bin
INFO - root - Initialise global
hotkeys
INFO - config-manager - Successfully loaded configuration
file
DEBUG - config-manager - Global settings: {'showTrayIcon': True,
'windowDefaultSize': (600, 400), 'undoUsingBackspace': True,
'enableQT4Workaround': False, 'promptToSave': True, 'interfaceType':
'XEvDev', 'showToolbar': True, 'serviceRunning': True, 'isFirstRun':
False, 'sortByUsageCount': True, 'inputSavings': 6401,
'hPanePosition': 150, 'menuTakesFocus':
False}
INFO - service - Starting
service
DEBUG - interface - Keycodes dict: {'<alt_gr>': 92, '<page_up>': 112,
'<f12>': 96, '<f10>': 76, '<ctrl>': 105, '<f9>': 75, '<alt>': 0, ' ':
65, '<up>': 111, '<capslock>': 0, '<pause>': 127, '<home>': 110,
'<numlock>': 77, '<f1>': 67, '<f7>': 73, '<f5>': 71, '<f3>': 69,
'<tab>': 23, '<shift>': 62, '<left>': 113, '<backspace>': 49,
'<scroll_lock>': 78, '<escape>': 9, '<down>': 116, '<f8>': 74,
'<delete>': 119, '<f11>': 95, '<super>': 134, '<print_screen>': 107,
'<end>': 115, '<right>': 114, '<menu>': 135, '<f2>': 68, '<insert>':
118, '<page_down>': 117, '<f6>': 72, '<enter>': 36, '<f4>':
70}
DEBUG - interface - Alt-Grid: XK_ISO_Level3_Shift,
65027
DEBUG - interface - [(92, 0), (108, 0), (92, 2), (108, 2), (92,
4)]
DEBUG - interface - X Server
Keymap
DEBUG - interface - [\] : [(51, 0), (51,
2)]
DEBUG - interface - [|] : [(51, 1), (51, 3), (94,
4)]
DEBUG - interface - [`] : [(22, 0), (22,
2)]
DEBUG - interface - [1] : [(10, 0), (10,
2)]
DEBUG - interface - [2] : [(11, 0), (11,
2)]
DEBUG - interface - [3] : [(12, 0), (12,
2)]
DEBUG - interface - [4] : [(13, 0), (13,
2)]
DEBUG - interface - [5] : [(14, 0), (14,
2)]
DEBUG - interface - [6] : [(15, 0), (15,
2)]
DEBUG - interface - [7] : [(16, 0), (16,
2)]
DEBUG - interface - [8] : [(17, 0), (17,
2)]
DEBUG - interface - [9] : [(18, 0), (18,
2)]
DEBUG - interface - [0] : [(19, 0), (19,
2)]
DEBUG - interface - [-] : [(20, 0), (20, 2), (94,
2)]
DEBUG - interface - [=] : [(21, 0), (21,
2)]
DEBUG - interface - [~] : [(22, 1), (22, 3), (51, 4), (22, 5), (28,
5), (39, 5), (40, 5), (42, 5), (43, 5), (51, 5), (53, 5), (56, 5),
(57, 5), (58, 5), (59, 5), (60, 5), (61, 5), (22,
7)]
DEBUG - interface - [!] : [(10, 1), (10,
3)]
DEBUG - interface - [@] : [(11, 1), (11,
3)]
DEBUG - interface - [#] : [(12, 1), (12,
3)]
DEBUG - interface - [$] : [(13, 1), (13,
3)]
DEBUG - interface - [%] : [(14, 1), (14,
3)]
DEBUG - interface - [^] : [(15, 1), (15,
3)]
DEBUG - interface - [&] : [(16, 1), (16,
3)]
DEBUG - interface - [`*`] : [(17, 1), (17,
3)]
DEBUG - interface - [(] : [(187, 0), (18, 1), (187, 2), (18, 3), (187,
4)]
DEBUG - interface - [)] : [(188, 0), (19, 1), (188, 2), (19, 3), (188,
4)]
DEBUG - interface - [q] : [(24, 0), (24,
2)]
DEBUG - interface - [w] : [(25, 0), (25,
2)]
DEBUG - interface - [e] : [(26, 0), (45,
2)]
DEBUG - interface - [r] : [(27, 0), (40,
2)]
DEBUG - interface - [t] : [(28, 0), (41,
2)]
DEBUG - interface - [y] : [(29, 0), (32,
2)]
DEBUG - interface - [u] : [(30, 0), (31,
2)]
DEBUG - interface - [i] : [(31, 0), (46,
2)]
DEBUG - interface - [o] : [(32, 0), (47,
2)]
DEBUG - interface - [p] : [(33, 0), (27,
2)]
DEBUG - interface - [[] : [(34, 0), (34,
3)]
DEBUG - interface - []] : [(35, 0), (35,
3)]
DEBUG - interface - [a] : [(38, 0), (38,
2)]
DEBUG - interface - [s] : [(39, 0), (39,
2)]
DEBUG - interface - [d] : [(40, 0), (42,
2)]
DEBUG - interface - [f] : [(41, 0), (26,
2)]
DEBUG - interface - [g] : [(42, 0), (28,
2)]
DEBUG - interface - [h] : [(43, 0), (43,
2)]
DEBUG - interface - [j] : [(44, 0), (29,
2)]
DEBUG - interface - [k] : [(45, 0), (57,
2)]
DEBUG - interface - [l] : [(46, 0), (30,
2)]
DEBUG - interface - [;] : [(47, 0), (33,
2)]
DEBUG - interface - ['] : [(48, 0), (48,
2)]
DEBUG - interface - [z] : [(52, 0), (52,
2)]
DEBUG - interface - [x] : [(53, 0), (53,
2)]
DEBUG - interface - [c] : [(54, 0), (54,
2)]
DEBUG - interface - [v] : [(55, 0), (55,
2)]
DEBUG - interface - [b] : [(56, 0), (56,
2)]
DEBUG - interface - [n] : [(57, 0), (44,
2)]
DEBUG - interface - [m] : [(58, 0), (58,
2)]
DEBUG - interface - [,] : [(59, 0), (59,
2)]
DEBUG - interface - [.] : [(60, 0), (60,
2)]
DEBUG - interface - [/] : [(61, 0), (61,
2)]
DEBUG - interface - [Q] : [(24, 1), (24,
3)]
DEBUG - interface - [W] : [(25, 1), (25,
3)]
DEBUG - interface - [E] : [(26, 1), (45,
3)]
DEBUG - interface - [R] : [(27, 1), (40,
3)]
DEBUG - interface - [T] : [(28, 1), (41,
3)]
DEBUG - interface - [Y] : [(29, 1), (32,
3)]
DEBUG - interface - [U] : [(30, 1), (31,
3)]
DEBUG - interface - [I] : [(31, 1), (46,
3)]
DEBUG - interface - [O] : [(32, 1), (47,
3)]
DEBUG - interface - [P] : [(33, 1), (27,
3)]
DEBUG - interface - [{] : [(34, 1), (34,
2)]
DEBUG - interface - [}] : [(35, 1), (35,
2)]
DEBUG - interface - [A] : [(38, 1), (38,
3)]
DEBUG - interface - [S] : [(39, 1), (39,
3)]
DEBUG - interface - [D] : [(40, 1), (42,
3)]
DEBUG - interface - [F] : [(41, 1), (26,
3)]
DEBUG - interface - [G] : [(42, 1), (28,
3)]
DEBUG - interface - [H] : [(43, 1), (43,
3)]
DEBUG - interface - [J] : [(44, 1), (29,
3)]
DEBUG - interface - [K] : [(45, 1), (57,
3)]
DEBUG - interface - [L] : [(46, 1), (30,
3)]
DEBUG - interface - [:] : [(47, 1), (33,
3)]
DEBUG - interface - ["] : [(48, 1), (48,
3)]
DEBUG - interface - [Z] : [(52, 1), (52,
3)]
DEBUG - interface - [X] : [(53, 1), (53,
3)]
DEBUG - interface - [C] : [(54, 1), (54,
3)]
DEBUG - interface - [V] : [(55, 1), (55,
3)]
DEBUG - interface - [B] : [(56, 1), (56,
3)]
DEBUG - interface - [N] : [(57, 1), (44,
3)]
DEBUG - interface - [M] : [(58, 1), (58,
3)]
DEBUG - interface - [<] : [(94, 0), (59, 1), (59,
3)]
DEBUG - interface - [>] : [(60, 1), (94, 1), (60,
3)]
DEBUG - interface - [?] : [(61, 1), (61,
3)]
INFO - interface - Attempting to establish connection to EvDev
daemon
INFO - interface - EvDev daemon
connected
INFO - interface - EvDev interface thread
starting
INFO - service - Service now marked as
running
DEBUG - phrase-menu - Sorting phrase menu by usage
count
DEBUG - phrase-menu - Sorting phrase menu by usage
count
INFO - root - Displaying configuration
window
Traceback (most recent call
last):
  File "/usr/lib/python2.6/dist-packages/autokey/qtui/
configwindow.py", line 504, in
on_treeWidget_itemSelectionChanged

self.folderPage.load(modelItem)
  File "/usr/lib/python2.6/dist-packages/autokey/qtui/
configwindow.py", line 368, in
load

self.settingsWidget.load(folder)
  File "/usr/lib/python2.6/dist-packages/autokey/qtui/
configwindow.py", line 69, in
load
    self.hotkeyDialog.load(self.currentItem)
  File "/usr/lib/python2.6/dist-packages/autokey/qtui/dialogs.py",
line 187, in load
    self.setButton.setEnabled(True)
AttributeError: 'HotkeySettingsDialog' object has no attribute
'setButton'
ERROR - root - Fatal error starting AutoKey: 'HotkeySettingsDialog'

object has no attribute 'setButton'
Traceback (most recent call last):
  File "/usr/lib/python2.6/dist-packages/autokey/qtapp.py", line 90,
in __init__
    self.initialise(args.isSet("configure"))
  File "/usr/lib/python2.6/dist-packages/autokey/qtapp.py", line 148,
in initialise
    self.show_configure()
  File "/usr/lib/python2.6/dist-packages/autokey/qtapp.py", line 214,
in show_configure
    self.configWindow = ConfigWindow(self)
  File "/usr/lib/python2.6/dist-packages/autokey/qtui/
configwindow.py", line 807, in __init__
    self.centralWidget.populate_tree(self.app.configManager)
  File "/usr/lib/python2.6/dist-packages/autokey/qtui/
configwindow.py", line 457, in populate_tree
    self.on_treeWidget_itemSelectionChanged()
  File "/usr/lib/python2.6/dist-packages/autokey/qtui/
configwindow.py", line 504, in on_treeWidget_itemSelectionChanged
    self.folderPage.load(modelItem)
  File "/usr/lib/python2.6/dist-packages/autokey/qtui/
configwindow.py", line 368, in load
    self.settingsWidget.load(folder)
  File "/usr/lib/python2.6/dist-packages/autokey/qtui/
configwindow.py", line 69, in load
    self.hotkeyDialog.load(self.currentItem)
  File "/usr/lib/python2.6/dist-packages/autokey/qtui/dialogs.py",
line 187, in load
    self.setButton.setEnabled(True)
AttributeError: 'HotkeySettingsDialog' object has no attribute
'setButton'
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

3/29/10.

If using Ubuntu, you should really install the GTK version of autokey:

sudo apt-get remove autokey autokey-qt sudo apt-get install autokey-gtk  (this assumes you installed from the PPA)

<h3><font color="#FF4500">Joon said…</font></h3>

3/29/10.

It worked!  I wonder what was the problem though, because it worked fine before.  Anyway, thank you very much.  It looks better as well. :)

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Doesn't start automatically</font></h1>

10 posts by 4 authors.

<h3><font color="#FF4500">Helgi Ã–rn Helgason said…</font></h3>

3/24/10.

Hello.

AutoKey doesn't start automatically even though it's configured to do so.

Note: upgrade to 0.61.5 came today so I don't know if that should change anything.

Version 0.61.5 Ubuntu 9.10 (Karmic)

Thank's. /HÃ–

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

3/24/10.

2010/3/24 Helgi:

<pre>
> Hello.
>
> AutoKey doesn't start automatically even though it's configured to do so.
</pre>
Same for me too, so I tried to deselect that option and then select it, but once I deselected it I couldn't select it again.  There seems to be quite a lot of bugs in Autokey these days, or maybe the bugs are elsewhere.

I solved it by just deselect the option in Autokey and add Autokey as an application to start automatically at login by adding it in gnome-session-properties (at System > Settings).  Seems to work for me anyway.

Regards.

Johnny Rosenberg.

Ubuntu 9.10, Latest Autokey-gtk version.

<pre>
> Note: upgrade to 0.61.5 came today so I don't know if that should
> change anything.
>
> Version 0.61.5
> Ubuntu 9.10 (Karmic)
>
> Thank's.
> /HÃ–
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

3/24/10.

Thanks - I'm aware of this issue and will fix it soon.  If you are aware of any other bugs, why not log them in the issue tracker so I can investigate.

<h3><font color="#FF4500">sacredeagle said…</font></h3>

3/25/10.

Ok, fine thank's.  But I couldn't have known it was a bug. :)

<h3><font color="#FF4500">Chris D said…</font></h3>

3/25/10.

That remark was aimed at Mr Rosenberg:

<pre>
2010/3/25 Helgi:
> Ok, fine thank's. But I couldn't have known it was a bug. :)
>
</pre>
<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

3/25/10.

<pre>
2010/3/25 Chris Dekter:
> That remark was aimed at Mr Rosenberg:
>
> 2010/3/25 Helgi:
>> Ok, fine thank's. But I couldn't have known it was a bug. :)
</pre>
A few years back I filed most of the bugs I ran into, but these days I use many applications and none of them are bug free, so I just don't have the time to file everything.  Still I do file bugs now and then, but only if I run into a problem that I can not get around or when I think the bug is important to correct.

AutoKey is much more than I need at the moment, so I'm happy if the basic stuff works OK.  AutoKey crash sometimes, but that is very hard to reproduce, so it feels a bit meaningless to report it, I think.

However, a few minutes ago I filed a bug related to what I wrote earlier in this thread.  Its ID number is 28:

<tt>http://code.google.com/p/autokey/issues/detail?id=28</tt>

I am not sure if this happens to everybody or only me, though.

Chris, what is this about retiring AutoKey?  Is it going to be replaced or will it just be left behind?

Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">Chris D said…</font></h3>

3/25/10.

<pre>
On 26 March 2010 04:59, Johnny Rosenberg wrote:
>
> Chris, what is this about retiring AutoKey? Is it going to be replaced
> or will it just be left behind?
>
</pre>
I'm expecting that AutoKey will become less and less popular once IronAHK reaches maturity.  Because of this I'm not planning to implement any new features.  I will still fix most bugs as long as they don't require extensive investigation.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

3/26/10.

2010/3/26 Chris Dekter:

Okay sorry for my ignorance (that I don't know what IronAHK is).

Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">Chris D said…</font></h3>

3/26/10.

<pre>
On 27 March 2010 03:17, Johnny Rosenberg wrote:
>
> Okay sorry for my ignorance (that I don't know what IronAHK is).
>
</pre>

<tt>http://code.google.com/p/ironahk/</tt>

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

3/27/10.

2010/3/27 Chris Dekter:

<pre>
> On 27 March 2010 03:17, Johnny Rosenberg wrote:
>>
>> Okay sorry for my ignorance (that I don't know what IronAHK is).
>>
>
>
> http://code.google.com/p/ironahk/
</pre>
Thanks.  I think I will stick with AutoKey as long as it works then.  I don't like that cross platform thing, I want applications that runs only in Linux, if possible.

When AutoKey stops working (due to new Ubuntu upgrades maybe) I guess I can still have the features that I want by using Emacs for everything I do. ;P

Regards.

Johnny Rosenberg.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Error during update</font></h1>

5 posts by 3 authors.

<h3><font color="#FF4500">   Frank Harper said…</font></h3>

3/25/10.

Just got this message after accepting an update from PPA

<pre>
E: /var/cache/apt/archives/autokey-common_0.61.5-0~karmic_all.deb:
trying to overwrite '/etc/init.d/autokey', which is also in package autokey-gtk 0
</pre>
I'm running Ubunt 9.10.

<h3><font color="#FF4500">Chris D said…</font></h3>

3/25/10.

Luke, any ideas?

I'm afraid I don't really know what to do here…you could try removing autokey-gtk first:

<tt>sudo apt-get -f remove autokey-gtk</tt>

Then finish any upgrades, then install it again:

<tt>sudo apt-get install autokey-gtk</tt>

<h3><font color="#FF4500">Luke Faraone said…</font></h3>

3/25/10.

<pre>
On Thu, Mar 25, 2010 at 07:12, Chris Dekter wrote:
> I'm afraid I don't really know what to do here…you could try
> removing autokey-gtk first:
>
> sudo apt-get -f remove autokey-gtk
>
> Then finish any upgrades, then install it again:
>
> sudo apt-get install autokey-gtk
</pre>
We didn't declare autokey-common as replacing autokey-gtk, since I was targeting "autokey" as a transition path.  The steps you suggested will fix the problem for this user.  If you like, we can change the "replaces" stanza in control to: Replaces: autokey (`<``<`0.61.4-0~0), autokey-gtk (`<``<`0.61.4-0~0)

This will not effect users upgrading from Karmic to Lucid who have used the official repositories.

—Luke Faraone.

<h3><font color="#FF4500">Chris D said…</font></h3>

3/25/10.

I think as long as the workaround works, we'll just leave it as is because this is only one-time issue.

<h3><font color="#FF4500">Frank Harper said…</font></h3>

3/25/10.

Yes it worked.  Thanks!

<pre>
On Thu, Mar 25, 2010 at 22:25, Chris Dekter wrote:
 I think as long as the workaround works, we'll just leave it as is
 because this is only one-time issue.
</pre>
<pre>
On 25 March 2010 23:45, Luke Faraone wrote:
 > On Thu, Mar 25, 2010 at 07:12, Chris Dekter wrote:
 >> I'm afraid I don't really know what to do here…you could try
 >> removing autokey-gtk first:
 >>
 >> sudo apt-get -f remove autokey-gtk
 >>
 >> Then finish any upgrades, then install it again:
 >>
 >> sudo apt-get install autokey-gtk
 >
 > We didn't declare autokey-common as replacing autokey-gtk, since I was
 > targeting "autokey" as a transition path. The steps you suggested will
 > fix the problem for this user. If you like, we can change the
 > "replaces" stanza in control to:
 >    Replaces: autokey (`<``<`0.61.4-0~0), autokey-gtk (`<``<`0.61.4-0~0)
 >
 > This will not effect users upgrading from Karmic to Lucid who have
 > used the official repositories.
 > —
 > Luke Faraone.
</pre>
.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Insert Date script</font></h1>

5 posts by 4 authors.

<h3><font color="#FF4500">riffian said…</font></h3>

3/24/10.

Is there a way to change the format of the Insert Date script to DD MMM YYYY?

<h3><font color="#FF4500">sacredeagle said…</font></h3>

3/24/10.

<pre>
On 24 March 2010 09:59, riffian wrote:
> Is there a way to change the format of the Insert Date script to DD
> MMM YYYY?
>
</pre>
<pre>
output = system.exec_command("date +%F")
keyboard.send_keys(output)
</pre>
gives you 2010-03-24

/HÃ–

<h3><font color="#FF4500">Luke Faraone said…</font></h3>

3/24/10.

<pre>
2010/3/24 Helgi:
> output = system.exec_command("date +%F")
> keyboard.send_keys(output)
>
> gives you 2010-03-24
</pre>
Yes, but he wants MM DD YY.  For that, year, month, day = system.exec_command("date +%F").split("-") keyboard.send_keys((month, day, year[2:4]).join('-'))

—Luke Faraone.

<h3><font color="#FF4500">riffian said…</font></h3>

3/25/10.

Thank you both for your most helpful replies.

Autokey is a brilliant program, and this forum is great!

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

3/25/10.

<pre>
2010/3/24 Luke Faraone:
> 2010/3/24 Helgi:
>> output = system.exec_command("date +%F")
>> keyboard.send_keys(output)
>>
>> gives you 2010-03-24
>
> Yes, but he wants MM DD YY.
</pre>
Actually, I believe he said "DD MMM YYYY" (like "25 March 2010")

Regards.

Johnny Rosenberg.

<pre>
> For that,
>    year, month, day = system.exec_command("date +%F").split("-")
>    keyboard.send_keys((month, day, year[2:4]).join('-'))
>
> —
> Luke Faraone.
</pre>
<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: GTK Autokey logo is unreadable under new Ubuntu</font></h1>

5 posts by 3 authors.

<h3><font color="#FF4500">Luke Faraone said…</font></h3>

3/23/10.

Hi.

The current default "all black" Autokey "A" is unreadable.  See the [screenshot][1] below for details.  The obvious fix is to invert the colors, but this will cause problems for current schemes…is there a way to set the icon based on the system colors?

[1]: <tt>http://img28.imageshack.us/img28/6892/screenshot3os.png</tt>

—Luke Faraone.

<h3><font color="#FF4500">Derek said…</font></h3>

3/23/10.

<pre>
On Mar 23, 2:18 pm,  faraone wrote:
> The current default "all black" Autokey "A" is unreadable.
</pre>
What happens if you change to a lighter scheme in Lucid?  Do the other icons adapt?

<h3><font color="#FF4500">Luke Faraone said…</font></h3>

3/23/10.

<pre>
On Tue, Mar 23, 2010 at 17:31, Derek wrote:
> What happens if you change to a lighter scheme in Lucid?  Do the other
> icons adapt?
</pre>

Yes.  See <tt>http://img411.imageshack.us/img411/3484/screenshot4zp.png</tt> for the view under a different scheme.

—Luke Faraone.

<h3><font color="#FF4500">Chris D said…</font></h3>

3/23/10.

That's because those apps have icons linked into the icon theme.  Sorry, but I have no idea how this is done and zero interest in finding out…happy to merge any patches that people might come up with though.

<h3><font color="#FF4500">Chris D said…</font></h3>

3/23/10.

Having said that, I suspect it's something to do with the 'hi-color-icon-theme' trigger that runs at the end of some package installs.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: getting calendar dialogue going</font></h1>

3 posts by 2 authors.

<h3><font color="#FF4500">cedardoc said…</font></h3>

3/23/10.

Hi, sorry but I have another beginners question.  I'm trying to get the calendar dialog working with an output of what I picked using the input dialog as a sort of message box:

<pre>
retCode, getdate = dialog.calendar_dialog(title="Choose a date",
format="%Y-%m-%d", date="today")
#retCode, seedate = dialog.input_dialog(title="here's the date",
message=(getdate), default="")
</pre>
Even with line 2 commented out, I get an error:

<pre>
AttributeError: GtkDialog instance has no attribute 'calendar_dialog'
</pre>
Does this mean that the calendar picker only works in the qt version and not the gtk version?  Also, is there an actual message box you can use with autokey?

Thanks.  Dave.

<h3><font color="#FF4500">Chris D said…</font></h3>

3/23/10.

whoops…there's a typo in the documentation which I missed when I merged the calendar dialog patch that somebody sent in…the correct usage is:

dialog.calendar(title, format, date)

<h3><font color="#FF4500">cedardoc said…</font></h3>

3/23/10.

Thank  you - this is //much// easier than the autohotkey version   <br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Module to use Gedit font and color scheme in AutoKey.</font></h1>


2 posts by 2 authors.

<h3><font color="#FF4500">Derek said…</font></h3>

3/18/10.

You can use this module to apply the font and color scheme set in Gedit to AutoKey's editor windows.

1.  Place this module in /usr/share/pyshared/autokey/ui 2.  In /usr/share/pyshared/autokey/ui/configwindow.py add these lines at the end of ScriptPage.__init__ (about line 327) and at the end of PhrasePage.__init__ (about line 440):

from use_gedit_scheme import match_gedit match_gedit(self.editor)

The colors and font will immediately change when you adjust the Gedit preferences.

<tt>http://gedit-color-panes.googlecode.com/files/use_gedit_scheme.py</tt>

<h3><font color="#FF4500">Chris D said…</font></h3>

3/22/10.

This is a nice idea…if I have time at some point I might integrate it into trunk.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: subprocess.CalledProcessError?</font></h1>

4 posts by 2 authors.

<h3><font color="#FF4500">cedardoc said…</font></h3>

3/22/10.

Good morning.

I have this script:

<pre>
keyboard.send_key("<backspace>")
keyboard.send_key("<escape>")
system.exec_command("krdc")
time.sleep(5)
#window.wait_for_exist("`*`krdc`*`", timeOut=5)
#window.activate("`*`krdc`*`", switchDesktop=False)
keyboard.send_keys("192.168.0.109<enter>")
time.sleep(1)
keyboard.send_keys("<enter>")
</pre>
That seems to make it to the third line in that the KRDC application opens up, but nothing happens after this point, except that occasionally the "192.168.0.109" will pop up in a text document I may switch to long after the 5 seconds is over.  There is no error message with this.

I noticed that the exec_command(self, command) section in the API Documentation says this:

<pre>
Raises:
subprocess.CalledProcessError - if the command returns a non-
zero exit code
</pre>
Is this part of my problem?

Thanks.  Dave.

<h3><font color="#FF4500">Luke Faraone said…</font></h3>

3/22/10.

<pre>
On Mon, Mar 22, 2010 at 11:29, cedardoc wrote:
> system.exec_command("krdc")
</pre>
That command is "blocking", insofar as it holds up further execution until the application it calls terminates.  You can accomplish the same thing in a non-blocking fashion with the following:

<pre>
import subprocess
subprocess.Popen(['krdc'])
</pre>

—Luke Faraone.

<h3><font color="#FF4500">cedardoc said…</font></h3>

3/22/10.

thank you Luke, that works great!

Dave.

<h3><font color="#FF4500">cedardoc said…</font></h3>

3/22/10.

quick follow-up question.  Is there an obvious reason why the same method doesn't open firefox?

e.g. import subprocess subprocess.Popen(['firefox'])

doesn't do anything, even though if I type "firefox" at the terminal it opens immediately?

Thanks.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: how to tell what I'm missing?</font></h1>

10 posts by 2 authors.

<h3><font color="#FF4500">cedardoc said…</font></h3>

3/21/10.

If this script (that comes with Autokey as an example) doesn't work:

import time
time.sleep(0.25)
contents = clipboard.get_selection()
retCode, abbr = dialog.input_dialog("New Abbreviation", "Choose an
abbreviation for the new phrase")
if retCode == 0:
    if len(contents) > 20:
        title = contents[0:17] + "…"
    else:
        title = contents
    folder = engine.get_folder("My Phrases")
    engine.create_abbreviation(folder, title, abbr, contents)
</pre>
Does that mean I'm probably missing some sort of library or something (sorry - new to linux).

This works though:

<pre>
import subprocess
subprocess.call(['xdg-open', 'file location/name'])
</pre>
Thanks.  Dave.

<h3><font color="#FF4500">Chris D said…</font></h3>

3/21/10.

What does the error information say after you run the script that doesn't work? (Under view -> script error)

<h3><font color="#FF4500">cedardoc said…</font></h3>

3/21/10.

Here's what it says:

<pre>
Traceback (most recent call last):
  File "/usr/lib/python2.6/dist-packages/autokey/service.py", line
392, in execute
    exec script.code in self.scope
  File "<string>", line 4, in <module>
  File "/usr/lib/python2.6/dist-packages/autokey/scripting.py", line
146, in input_dialog
    return self.__runKdialog(title, ["—inputbox", message, default])
  File "/usr/lib/python2.6/dist-packages/autokey/scripting.py", line
130, in __runKdialog
    p = subprocess.Popen(["kdialog", "—title", title] + args,
stdout=subprocess.PIPE)
  File "/usr/lib/python2.6/subprocess.py", line 621, in __init__
    errread, errwrite)
  File "/usr/lib/python2.6/subprocess.py", line 1126, in
_execute_child
    raise child_exception
OSError: [Errno 2] No such file or directory
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

3/21/10.

You're missing the kdialog binary.  It is normally part of the core of a KDE install.  Are you perhaps running the KDE version of AutoKey under GNOME?  I.e. did you install the autokey package (which in turn install autokey-common and autokey-qt)?  If you are using GNOME you should be installing autokey-gtk.

<h3><font color="#FF4500">cedardoc said…</font></h3>

3/21/10.

another weird thing is that if I put this in at the terminal:

autokey -l  it says that autokey isn't installed, even though its obviously working.

I also "re-installed" with:

sudo apt-get install autokey  but it didn't change anything   <h3><font color="#FF4500">Chris D said…</font></h3>


3/21/10.

Did you install from the PPA?

The below problem is caused by the transition to the new packages where the application is no longer called 'autokey' but 'autokey-gtk' or 'autokey-qt'.  The 'autokey' entry still exists in the 'find my missing application' database, which is why you get the message saying it is not installed.  Try typing one of the commands 'autokey-gtk' or 'autokey-qt' and you'll see what I mean.

Hopefully in Lucid this problem will go away.  Its inconsequential anyway.

<h3><font color="#FF4500">cedardoc said…</font></h3>

3/21/10.

Okay, I uninstalled autokey-qt and installed autokey-gtk (via synaptic in Ubuntu 9.1) and the script still does nothing, but this time there's no error message ("no error information available")  After I post this I'll try rebooting to see if that helps.

<h3><font color="#FF4500">cedardoc said…</font></h3>

3/21/10.

Okay, rebboting didn't fix it, but now I'm getting the error:

<pre>
Traceback (most recent call last):
  File "/usr/lib/python2.6/dist-packages/autokey/service.py", line
392, in execute
    exec script.code in self.scope
  File "<string>", line 3, in <module>
  File "/usr/lib/python2.6/dist-packages/autokey/scripting.py", line
608, in get_selection
    return self.text.decode("utf-8")
AttributeError: 'NoneType' object has no attribute 'decode'
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

3/21/10.

You need to have some text selected with the mouse for this script to work.

<h3><font color="#FF4500">cedardoc said…</font></h3>

3/21/10.

oh, how dumb am I?  I was just trying to get this to work because I wanted to learn about dialog.input_dialog stuff, and just added a hotkey and went with that, not realizing you had to block/copy some text before invoking it…Sorry, but glad you pointed out the version problem I had  Dave.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: IronAHK</font></h1>
 1 post by 1 author
<h3><font color="#FF4500">Frank Harper said…</font></h3>

3/19/10.

Concerning AHK compatibility.

• I really like going to text file, I think that's a major improvement because it makes it easier to copy/paste, share etc.

• I really like having a "real" standard language to write the scripts.

Best.  Frank.

<pre>
 On Thu, Mar 18, 2010 at 00:41, Chris Dekter wrote:
 You may want to hold off on this…If you haven't had a look at
 IronAHK you may wish to do so - it's going to be a drop-in replacement
 for AutoHotKey, and will run on Linux. Hotkeys/etc don't work yet on
 Linux but the main developers of IronAHK have asked me to help out
 with that side, which should be ready fairly soon (couple of months at
 the most).
</pre>
I would envision that AutoKey will eventually become redundant with a full AHK replacement available on Linux.

<pre>
 On 18 March 2010 06:51, Derek wrote:
 >
 > On Mar 17, 12:37 pm, cedardoc wrote:
 >> Hi,  I just found this unanswered post:http://groups.google.com/group/autokey-users/browse_frm/thread/72c8ac:
 >>
 >> and was wondering if there'd been any headway in this direction
 >> lately.
 >
 > Dave.
 > I was going to implement such a thing myself and then got distracted
 > with other things.  I may come back to to it, but if anyone else wants
 > to carry it forward, don't wait for me (but please let me know).
 > Derek.
</pre>
<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: mouse input to trigger scripts? (2)</font></h1>

3 posts by 3 authors.

<h3><font color="#FF4500">cedardoc said…</font></h3>

3/17/10.

Hi,  I just found this unanswered post:

<pre>
 http://groups.google.com/group/autokey-users/browse_frm/thread/72c8ac16f27500f1/60f016e6c4bba696?lnk=gst&q=mouse+trigger#60f016e6c4bba696
</pre>
and was wondering if there'd been any headway in this direction lately.  I looked at the documentation here:

<pre>
 http://autokey.sourceforge.net/apidoc-gtk/
</pre>
and see that its just about sending clicks, not receiving them.

Here's an autohotkey script that I used a lot that incorporated what I'm talking about.

<pre>
~RButton::

If (A_PriorHotKey = A_ThisHotKey and A_TimeSincePriorHotkey < 500)
{
run "right doubleclick.ahk"
}
return
</pre>
Thanks.  Dave.

<h3><font color="#FF4500">Derek said…</font></h3>

3/17/10.

<pre>
On Mar 17, 12:37 pm, cedardoc wrote:
> Hi,  I just found this unanswered post:http://groups.google.com/group/autokey-users/browse_frm/thread/72c8ac:
>
> and was wondering if there'd been any headway in this direction
> lately.
</pre>
Dave.

I was going to implement such a thing myself and then got distracted with other things.  I may come back to to it, but if anyone else wants to carry it forward, don't wait for me (but please let me know).  Derek.

<h3><font color="#FF4500">Chris D said…</font></h3>

3/17/10.

You may want to hold off on this…If you haven't had a look at IronAHK you may wish to do so - it's going to be a drop-in replacement for AutoHotKey, and will run on Linux.  Hotkeys/etc don't work yet on Linux but the main developers of IronAHK have asked me to help out with that side, which should be ready fairly soon (couple of months at the most).

I would envision that AutoKey will eventually become redundant with a full AHK replacement available on Linux.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: how to avoid leaving shortcut letters behind</font></h1>

5 posts by 2 authors.

<h3><font color="#FF4500">cedardoc said…</font></h3>

3/11/10.

I've started using autokey to open often used files.  Is there a way to avoid leaving behind my shortcut letter in the document I'm activating the shortcut from?

E.g.  I'm in a spreadsheet, and I suddenly need to open another, so I press ctrl-alt-p, and the other spreadsheet successfully opens, but in the sheet I was just at, there is now a cell with the letter "p" in it.

Do I just have to figure out how to send {backspace} in the script before launching the other file, or is there a setting to suppress the output in the first place?

<h3><font color="#FF4500">Chris D said…</font></h3>

3/11/10.

If it's a script:

keyboard.send_key("<backspace>")

If it's a phrase, just <backspace>

<h3><font color="#FF4500">cedardoc said…</font></h3>

3/12/10.

Thank you Chris, that worked great.

I also needed to send "escape", and it worked to just copy/paste the backspace one and replace "backspace" with "escape"  :-)

To avoid my being pesky in the future, is there one or a few python links that relate well to autokey?  I did a search of ' +python +"keyboard.send_key("<backspace>")" ' and didn't actually find anything that would have been useful.  I'm also interested in figuring out python scripts that could detect if a window with a certain string in the title is currently open for example.

Dave.

<h3><font color="#FF4500">Chris D said…</font></h3>

3/12/10.

There are several wiki pages linked from the AutoKey homepage that will give you all this information…have you had a look at them?

<h3><font color="#FF4500">cedardoc said…</font></h3>

3/12/10.

Oops, I should have dug deeper there the first time through - I rely too heavily on google.

I found this <tt>http://autokey.sourceforge.net/apidoc-gtk/</tt> for scripting (I'm on Ubuntu so I think that's what the gtk refers to), and this: <tt>http://code.google.com/p/autokey/wiki/SpecialKeys</tt> which would have answered my initial question.  Thanks for your patience.

Dave.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Config window</font></h1>

4 posts by 4 authors.

<h3><font color="#FF4500">Helgi Ã–rn Helgason said…</font></h3>

3/11/10.

Why does the Config window randomly(?) pop up by itself and how can I stop that?

Helgi Ã–rn   <h3><font color="#FF4500">Derek said…</font></h3>


3/11/10.

<pre>
On Mar 11, 8:02 am, Helgi Ã–rn Helgason wrote:
> Why does the Config window randomly(?) pop up by itself and how can I stop that?
>
> Helgi Ã–rn
</pre>
It could happen if you are unintentionally triggering the shortcut for it.  Check in the Special Hotkeys section of Preferences.

<h3><font color="#FF4500">sacredeagle said…</font></h3>

3/12/10.

Thank's for this tip. <Ctrl + K> was the shortcut, I removed it and the window seems to have stopped popping up.  Weird though that I don't use the combination  <Ctrl + K> for anything at all! (This is in Ubuntu 9.10).

<h3><font color="#FF4500">Frank Harper said…</font></h3>

3/12/10.

I really think the default should be changed.  Ctrl-K is way too commonly used, and is way too easy to hit.

2010/3/12 Helgi   <br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: how to open a file or folder using autokey</font></h1>


5 posts by 3 authors.

<h3><font color="#FF4500">cedardoc said…</font></h3>

3/9/10.

I've been looking for a way to do this for a while now and can't figure it out.  I do intent to learn python, but in the mean time (I'm a slow learner), would someone have pity on me and post an example of a script that opens a file and one that opens a folder that I could assign to a keyboard shortcut please?

Thanks.

Dave.

<h3><font color="#FF4500">Luke Faraone said…</font></h3>

3/9/10.

If you're using GNOME, the line you want is:

<pre>
import subprocess; subprocess.Popen(['/usr/bin/nautilus', 'PATH_TO_DIRECTORY_GOES_HERE']);
</pre>
On KDE, I think you should use:

<pre>
import subprocess; subprocess.Popen(['/usr/bin/konqueror', 'PATH_TO_DIRECTORY_GOES_HERE']);
</pre>
Luke Faraone.

<h3><font color="#FF4500">cedardoc said…</font></h3>

3/9/10.

wow that was quick!  Thanks.  I'll try that out.

<h3><font color="#FF4500">Chris D said…</font></h3>

3/9/10.

A simpler more generic solution would be:

import subprocess subprocess.call(['xdg-open', 'PATH_TO_FILE_OR_DIR'])

This will open the file or directory in the correct program based on your current desktop environment.

<h3><font color="#FF4500">cedardoc said…</font></h3>

3/10/10.

Thanks to both of you - it works!!

<pre>
On Mar 9, 6:19 pm, Chris Dekter wrote:
> A simpler more generic solution would be:
>
> import subprocess
> subprocess.call(['xdg-open', 'PATH_TO_FILE_OR_DIR'])
>
> This will open the file or directory in the correct program based on
> your current desktop environment.
>
> On 10 March 2010 11:42, Luke Faraone wrote:
>
> > On Tue, Mar 9, 2010 at 19:38, cedardoc wrote:
>
> >> 've been looking for a way to do this for a while now and can't
> >> figure it out.  I do intent to learn python, but in the mean time (I'm
> >> a slow learner), would someone have pity on me and post an example of
> >> a script that opens a file and one that opens a folder that I could
> >> assign to a keyboard shortcut please?
>
> > If you're using GNOME, the line you want is:
> > import subprocess; subprocess.Popen(['/usr/bin/nautilus',
> > 'PATH_TO_DIRECTORY_GOES_HERE']);
>
> > On KDE, I think you should use:
> > import subprocess; subprocess.Popen(['/usr/bin/konqueror',
> > 'PATH_TO_DIRECTORY_GOES_HERE']);
> > —
> > Luke Faraone.
</pre>
<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Installing error</font></h1>

6 posts by 2 authors.

<h3><font color="#FF4500">sacredeagle said…</font></h3>

3/5/10.

Translate message to English Hi.  I am trying to install the latest version on a Ubuntu 9.10 machine but when I run:

<pre>
dpkg-buildpackage -us -uc
</pre>
I get this error message:

<pre>
:
fakeroot debian/rules clean
/usr/bin/fakeroot: debian/rules: /usr/bin/make: felaktig tolk: Ã…tkomst nekas
dpkg-buildpackage: fel: fakeroot debian/rules clean returnerade felkod 126
</pre>
I re-intalled make and these:

<pre>
autoconf automake autotools-dev build-essential cdbs debhelper dpkg-dev
fakeroot fdupes g++ g++-4.4 html2text intltool intltool-debian
libmail-sendmail-perl libstdc++6-4.4-dev libsys-hostname-long-perl m4 make
patch po-debconf
</pre>
But it didn't change anything.

Cheers.  Helgi Ã–rn   <h3><font color="#FF4500">Luke Faraone said…</font></h3>


3/5/10.

<pre>
> I am trying to install the latest version on a Ubuntu 9.10 machine but
> when I run:
>
> dpkg-buildpackage -us -uc
>
> I get this error message:
> :
> fakeroot debian/rules clean
> /usr/bin/fakeroot: debian/rules: /usr/bin/make: felaktig tolk: Ã…tkomst nekas
> dpkg-buildpackage: fel: fakeroot debian/rules clean returnerade felkod 126
</pre>
Something odd is happening.  The following works for me:

<pre>
lfaraone@stone:/tmp/tmp.l2jkYNsGIJ$ wget http://autokey.googlecode.com/files/autokey_0.61.3.tar.gz
lfaraone@stone:/tmp/tmp.l2jkYNsGIJ$ tar xf autokey_0.61.3.tar.gz
lfaraone@stone:/tmp/tmp.l2jkYNsGIJ$ cd build/
lfaraone@stone:/tmp/tmp.l2jkYNsGIJ/build$ dpkg-buildpackage -us -uc
</pre>
Let me know.

Luke Faraone.

<h3><font color="#FF4500">sacredeagle said…</font></h3>

3/5/10.

<pre>
On 5 March 2010 14:29, Luke Faraone wrote:
> 2010/3/5 Helgi Ã–rn
>>
>> I am trying to install the latest version on a Ubuntu 9.10 machine but
>> when I run:
>>
>> dpkg-buildpackage -us -uc
>>
>> I get this error message:
>> :
>> fakeroot debian/rules clean
>> /usr/bin/fakeroot: debian/rules: /usr/bin/make: felaktig tolk: Ã…tkomst nekas
>> dpkg-buildpackage: fel: fakeroot debian/rules clean returnerade felkod 126
>
> Something odd is happening. The following works for me:
>
>    lfaraone@stone:/tmp/tmp.l2jkYNsGIJ$ wget
> http://autokey.googlecode.com/files/autokey_0.61.3.tar.gz
>    lfaraone@stone:/tmp/tmp.l2jkYNsGIJ$ tar xf autokey_0.61.3.tar.gz
>    lfaraone@stone:/tmp/tmp.l2jkYNsGIJ$ cd build/
>    lfaraone@stone:/tmp/tmp.l2jkYNsGIJ/build$ dpkg-buildpackage -us -uc
>
> Let me know.

> Luke Faraone.
</pre>
Thank's Luke, but this didn't work either :(

: fakeroot debian/rules clean /usr/bin/fakeroot: debian/rules: /usr/bin/make: felaktig tolk: Ã…tkomst nekas dpkg-buildpackage: fel: fakeroot debian/rules clean returnerade felkod 126

<h3><font color="#FF4500">Luke Faraone said…</font></h3>

3/5/10.

2010/3/5 Helgi Ã–rn:

> Thank's Luke, but this didn't work either :(

The message you showed earlier apparently translates to "/ usr / bin / fakeroot: debian / rules: / usr / bin / make: invalid interpreter: Access Denied".  You need build-essential installed before building any Debian packages, which should pull in "make".

Luke Faraone.

<h3><font color="#FF4500">sacredeagle said…</font></h3>

3/6/10.

<pre>
On 5 March 2010 22:47, Luke Faraone wrote:
> 2010/3/5 Helgi Ã–rn:
>> Thank's Luke, but this didn't work either :(
>
> The message you showed earlier apparently translates to "/ usr / bin /
> fakeroot: debian / rules: / usr / bin / make: invalid interpreter:
> Access Denied". You need build-essential installed before building any
> Debian packages, which should pull in "make".
>
</pre>
Thank's again Luke, but build-essential IS installed!:

<pre>
$ whereis build-essential
build-essential: /usr/share/build-essential
</pre>
When I re-installed make this is what I installed:

<tt>$ sudo apt-get install build-essential cdbs debhelper dpkg-dev make</tt>

<h3><font color="#FF4500">sacredeagle said…</font></h3>

3/9/10.

The solution is here:

https://launchpad.net/~cdekter/+archive/ppa   <br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: installing on linux mint Helena (KDE4) - shows icon, but doesn't open</font></h1>


10 posts by 3 authors.

<h3><font color="#FF4500">cedardoc said…</font></h3>

3/4/10.

Hi, I installed Autokey with Synaptic and realized it was an earlier version than I wanted.  I uninstalled it, then did this to install the latest version:

sudo add-apt-repository ppa:cdekter/ppa sudo apt-get update sudo apt-get install autokey  That did seem to install it in the sense that I can find the program in the menus and when I double click the application a little icon appears and a new item on the task bar as if its opening, but then nothing happens, and after about 10 seconds it just disappears.

I'm completely new to linux and am trying to approximate some of the things you can do with autohotkey in windows (like opening a particular file or appending something to a text file from a keyboard shortcut).

I also tried downloading the package, but the install instructions were too cryptic: " This application requires a full Debian package build - it cannot be installed using only the setup.py script:

dpkg-buildpackage -us -uc cd ../ sudo dpkg -i <buildpackagename> "

I have no idea what that means.  I suspect you are to type that in at a terminal, but not sure what exactly "<buildpackagename>" refers to.

any suggestions?

<h3><font color="#FF4500">jflevi said…</font></h3>

3/4/10.

Did you check here: https://launchpad.net/~cdekter/+archive/ppa It works for me everytime !  BTW it is a fantastic application : Good luck.

<h3><font color="#FF4500">cedardoc said…</font></h3>

3/4/10.

Thanks.  I tried that and got the same results.  The only difference is that there's now the option in Synaptic to install Autokey-gtk (which also doesn't work - although I don't think its supposed to for KDE) as well as Autokey.  Again, it says its installed, but nothing happens when you start it up.

Has anyone successfully intalled this on Linux Mint Helena?  Maybe I should try Ubuntu? (would rather not start all over again though).

<h3><font color="#FF4500">Chris D said…</font></h3>

3/4/10.

Install the latest version of autokey (not autokey-gtk from the PPA).  Then run the following command in the terminal  autokey -l  This will start the program in debug mode, hopefully giving enough information to find out what's wrong with your system.

<h3><font color="#FF4500">cedardoc said…</font></h3>

3/4/10.

here's what I get  Traceback (most recent call last):

<pre>
  File "/usr/bin/autokey", line 5, in <module>
    from autokey.autokey import Application
  File "/usr/lib/python2.6/dist-packages/autokey/autokey.py", line 22,
in <module>
    from PyKDE4.kdecore import KCmdLineArgs, KCmdLineOptions,
KAboutData, ki18n, i18n
RuntimeError: the sip module implements API v7.0 but the
PyKDE4.kdecore module requires API v6.0
</pre>
thanks for your attention on this (fingers crossed :-)

<h3><font color="#FF4500">Chris D said…</font></h3>

3/4/10.

Looks like your PyKDE version is behind your SIP version.  Is your system completely up to date with updates?

Anyway, this is a problem with your OS - you should visit the Mint forums to get help for this issue.

<h3><font color="#FF4500">cedardoc said…</font></h3>

3/4/10.

As I'm new to linux, I don't know if I'm up to date (which probably means no) - I'll follow up at mint then:

Thanks!!

<h3><font color="#FF4500">cedardoc said…</font></h3>

3/4/10.

Okay, I updated my python-KDE4 and now I'm getting a different error:

<pre>
Traceback (most recent call last):
  File "/usr/bin/autokey", line 5, in <module>
    from autokey.autokey import Application
  File "/usr/lib/python2.6/dist-packages/autokey/autokey.py", line 27,
in <module>
    import service, ui.notifier, ui.popupmenu
  File "/usr/lib/python2.6/dist-packages/autokey/service.py", line 22,
in <module>
    import ui.configwindow, model
  File "/usr/lib/python2.6/dist-packages/autokey/ui/configwindow.py",
line 24, in <module>
    from PyQt4 import Qsci
ImportError: /usr/lib/pymodules/python2.6/PyQt4/Qsci.so: undefined
symbol: _ZNK14QsciLexerSpice10braceStyleEv
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

3/4/10.

Still looks like your system is really broken - it shouldn't be possible to have this issue.

<h3><font color="#FF4500">cedardoc said…</font></h3>

3/6/10.

Just to finish the thread…I installed Ubuntu 9.1 and Autokey works just fine on it.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Locale</font></h1>

4 posts by 4 authors.

<h3><font color="#FF4500">Helgi Ã–rn Helgason said…</font></h3>

3/5/10.

Hello.

I got this phrase in icelandic:

ÃžaÃ° lÃ¦Ã°ist Ã¾Ã¦Ã°inn lÃ¦gÃ°.

AutoKey presents it thus:

-aÃ¥ lÃ¶Ã¥ist -Ã¶Ã¥inn lÃ¶gÃ¥.

Of 18 letters there are 10 that are correct!

"Full unicode support is provided and it should in theory work with any keyboard layout." it says on the website, obviously there is something weird when it comes to icelandic.  Is there a way to fix this?

/Helgi Ã–rn   <h3><font color="#FF4500">Chris D said…</font></h3>


3/5/10.

How are the letters that are incorrect, typed on your keyboard?

2010/3/6 Helgi:

<h3><font color="#FF4500">sacredeagle said…</font></h3>

3/6/10.

My keyboard Swedish but I use two different keyboard layouts; Swedish and Icelandic.  Swedish being my default (I am Icelandic but I live in Sweden :) The Icelandic keys are as the standard Icelandic layout, you can take a look here:

<tt>http://ascii-table.com/img/keyboard-197.png</tt>

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

3/6/10.

2010/3/6 Helgi:

<pre>
> On 5 March 2010 23:11, Chris Dekter wrote:
>> How are the letters that are incorrect, typed on your keyboard?
>>
>> 2010/3/6 Helgi:
>>> Hello.
>>>
>>> I got this phrase in icelandic:
>>>
>>> ÃžaÃ° lÃ¦Ã°ist Ã¾Ã¦Ã°inn lÃ¦gÃ°.
>>>
>>> AutoKey presents it thus:
>>>
>>> -aÃ¥ lÃ¶Ã¥ist -Ã¶Ã¥inn lÃ¶gÃ¥.
</pre>
I have also had problems with some characters, but not that way.  In my case some Unicode characters doesn't work in some applications, like the "." character.  It will only display the code for it in some cases and in Opera, the Web browser, it will open the souce code page for the page I'm currently visiting.  I know, that's not AutoKey's fault.  It works well in OpenOffice.org and Gedit though.

<pre>
>>>
>>> Of 18 letters there are 10 that are correct!
>>>
>>> "Full unicode support is provided and it should in theory work with
>>> any keyboard layout." it says on the website, obviously there is
>>> something weird when it comes to icelandic.
>>> Is there a way to fix this?
>
> My keyboard Swedish but I use two different keyboard layouts; Swedish
> and Icelandic. Swedish being my default (I am Icelandic but I live in
> Sweden :)
> The Icelandic keys are as the standard Icelandic layout, you can take
> a look here:
>
> http://ascii-table.com/img/keyboard-197.png
>
</pre>
Interesting layout.  I didn't know much about the Icelandic layout before (even if I could take a look at System > Settings > Keyboard > Layouts for myself).  So Ã¥ and Ã…isn't a part of the Icelandic alphabet?  Or is the upper left key (Â¨ and Â°) "dead" so you can produce Ã¥Ã…Ã¤Ã„ with it?  I also see that you use the Norwegian/Danish Ã„Ã¤ (Ã†Ã¦).

I have the Swedish layout too (since I am 100% Swedish - born here, live here, going to live here forever) but I created my own keyboard layout.  The ÃÃ°ÃžÃ¾ characters are included and I can reach them with the AltGr key.  I don't know which distro you use, but on most Gnome systems I tried so far (and I think KDE and Xfce too) the Icelandic characters are included by default in the Sweish standard layout, and so are the Norwegian/Danish/Icelandic Ã†Ã¦Ã˜Ã¸, so you actually don't need to switch layout at all.  Just find the AltGr combinations you need and you can do everything without switching layout.

Here's the Swedish standard layout (Ubuntu 9.10), and as you can see the Icelandic characters are not very hard to find:

<pre>
http://hem.bredband.net/guraknugen/SwedishLayout.pdf
</pre>
And here's my own layout, as it looks today, 2010-03-06 (I change it now and then), in case anyone is interested:

<pre>
http://hem.bredband.net/guraknugen/SwedishRosenbergLayout.pdf
</pre>
Note that I can type with keys like Enter, TAB, Backspace, Home, End, Arrow keys and a few more, without missing their original features (the AltGr key must be involved for typing with them).

Well, I know, a bit off topic.  I hope you don't mind.

Regards.

Johnny Rosenberg.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Sharing autokey configuration with several machines</font></h1>

3 posts by 3 authors.

<h3><font color="#FF4500">Frank Harper said…</font></h3>

3/4/10.

I love Autokey, and I've installed it on several machines.  I think it would be great if the location for the autokey.bin file was a preference option.  Then I could store it in a shared folder and my configuration would be the same on every machine.

<h3><font color="#FF4500">Chris D said…</font></h3>

3/4/10.

A simpler solution would be to make the ~/.config/autokey/autokey.bin file a symbolic link to the actual file that is stored in a shared folder (e.g. your Dropbox).

<h3><font color="#FF4500">sacredeagle said…</font></h3>

3/5/10.

Or if you are using Ubuntu on all machines; use Ubuntu One like I do. :)

Helgi Ã–rn   <br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Autokey installs but does not work</font></h1>


11 posts by 3 authors.

<h3><font color="#FF4500">riffian said…</font></h3>

2/24/10.

I was really excited to discover Autokey because I use Phrase Express on Windows and I'm trying to get rid of Windows completely.

Autokey installed okay on my Ubuntu 8.10 machine, and I can run the program but it does not work at all.  I tried setting an abbreviation and typing that abbreviation in gedit but nothing changed.  When I tried to set a hotkey it didn't recognise the key that I was typing so I cancelled it.  When I tried to set a hotkey again the button which says "press to set" was greyed out.

I'd really like to get this working - can anyone help?

<h3><font color="#FF4500">Chris D said…</font></h3>

2/24/10.

It sounds like no keyboard events are being detected.  What setting is selected in Preferences -> Interface Settings?  You could also try running AutoKey from the command line in debug mode (autokey -l), press a few keys and post the output here.

<h3><font color="#FF4500">riffian said…</font></h3>

2/24/10.

Thanks for the quick response Chris.  Yes, it does seem that no  keyboard events are being detected.

I have tried all three Interface settings and none of them work.

I ran autokey -l and it output 122 lines of code (would you like me to post that?) and then when I pressed keys no more output appeared in Gnome Terminal.  Only when I click on things in the GUI interface did any output show up, such as, "DEBUG - interface - Window name: DEBUG - service - Received mouse click - resetting buffer".  But there's no output from any typing in any window.

<h3><font color="#FF4500">Chris D said…</font></h3>

2/24/10.

That is really extremely baffling.  Make sure you select the Record interface as the interface type and then restart AutoKey.  Once you do that there is no logical reason why it should not work on Ubuntu 8.10:

<h3><font color="#FF4500">riffian said…</font></h3>

2/25/10.

Weird!  Messing about yesterday to try and get this working I changed the Abbreviation on a phrase to Space and Enter, then pressed those keys in gedit, followed by the abbreviation and joy!  It worked and it was great to see it.  But today I have just tried the same trick and it's not working again.  Do you think an uninstall and re-install would help?

<h3><font color="#FF4500">riffian said…</font></h3>

2/25/10.

Weird!  Messing about yesterday to try and get this working I changed the Abbreviation on a phrase to Space and Enter, then pressed those keys in gedit, followed by the abbreviation and joy!  It worked and it was great to see it.  But today I have just tried the same trick and it's not working again.  Do you think an uninstall and re-install would help?

<pre>
On Feb 24, 12:08 pm, Chris Dekter wrote:
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

2/25/10.

Hmmm…I think there is a possibility you might be facing a bug that I'm currently aware of.  Are you using the KDE version?

<h3><font color="#FF4500">riffian said…</font></h3>

2/25/10.

Update: I tried stopping and restarting Autokey and doing the same trick as above and it worked but only partially.  It would not let me select a Hotkey.  I was running Autokey from terminal in debug mode and got this error:

<pre>
   TypeError: handle_mouseclick() takes exactly 5 arguments (7 given)
</pre>
I also saw this and don't know if it's of any use:

<pre>
Exception in thread XInterface-thread:
Traceback (most recent call last):
File "/usr/lib/python2.5/threading.py", line 486, in__bootstrap_inner
self.run()
</pre>
And there were many more similar entries to the one above.

<h3><font color="#FF4500">riffian said…</font></h3>

2/25/10.

Thanks Chris.  Yes I think it is the KDE version but as it's running on Ubuntu it's running under Gnome.  Is there a Gnome version?

<h3><font color="#FF4500">riffian said…</font></h3>

2/25/10.

Update: I didn't know about the latest GTK version.  I removed the old version and installed (GTK UI) 0.61.2.  It works!  Hurrah!  Thank you.

<h3><font color="#FF4500">mototom800 said…</font></h3>

2/25/10.

I prefix all of my abbreviations with a / and that works very well for me.

—"There will come a time when you believe everything is finished.  That will be the beginning." - Louis L'Amour   <br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Trying to install Autokey</font></h1>


3 posts by 2 authors.

<h3><font color="#FF4500">Steve said…</font></h3>

2/21/10.

I have been trying to install autokey and when I try to add <tt>http://ppa.launchpad.net/cdekter/ppa/ubuntu</tt> to my Software Sources and reload it tells me this when I try update.

<pre>
Err http://ppa.launchpad.net juanty/main Packages
  404 Not Found
Err http://ppa.launchpad.net juanty/main Sources
  404 Not Found
W: Failed to fetch http://ppa.launchpad.net/cdekter/ppa/ubuntu/dists/juanty/main/binary-i386/Packages
404 Not Found

W: Failed to fetch http://ppa.launchpad.net/cdekter/ppa/ubuntu/dists/juanty/main/source/Sources
404 Not Found
</pre>
and I can't get the manual install working  If somebody could help me using either way it would be greatly appreciated.

Thanks   <h3><font color="#FF4500">Luke Faraone said…</font></h3>


2/21/10.

<pre>
On Sun, Feb 21, 2010 at 13:16, Steve wrote:
> Err http://ppa.launchpad.net juanty/main Packages
>  404 Not Found
</pre>
You mispelled "jaunty".

—Luke Faraone.

<h3><font color="#FF4500">Steve said…</font></h3>

2/22/10.

Thanks.  I can't believe I missed the most obvious reason.  Next time I will learn.  I look forward to using it now.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Hotkeys & Open Office Writer</font></h1>

3 posts by 2 authors.

<h3><font color="#FF4500">mfseeker said…</font></h3>

2/12/10.

There are difficulties finding memorable hotkeys to work with Open Office Writer.  Many potentially useful combinations cannot be used.  If <Alt> is one of the modifier keys, it is intercepted and used by Writer to select a menu.  If <Super> is one of the modifier keys, it works, but it inserts the alphabetic character into the text before taking action.  And, of course, many of the <ctrl> and <ctrl><shift> hotkeys are already assigned.  Finally, I have had to reassign existing Writer hotkeys—something I don't like to do because it limits portability.

As Joe has suggested, it would be good to be able to use <Super>.  Then we could choose hotkeys that worked in most Ubuntu applications without worrying about conflicts.  However, it appears that if we do not reassign the code for <Super>, as Joe has, we will be frustrated by OO.

<h3><font color="#FF4500">Chris D said…</font></h3>

2/14/10.

When using Super as a modifier, you could add an extra <backspace> at the start of the phrase to remove the character that was inserted.

<h3><font color="#FF4500">mfseeker said…</font></h3>

2/15/10.

Thanks Chris.  That sounded like a great solution—until I remembered that the problem with the Super key inserting an extra character is peculiar to OO Writer.  In other applications, the Super key works fine—to use a backspace there would remove a character from the text.  That would mean that I would need two versions of my phrases, one for OO Writer and another for everything else.  But the point of using the Super key in the first place was to have hotkey phrases that would work in all applications without colliding with existing hotkeys.

<pre>
Chris Dekter wrote:
When using Super as a modifier, you could add an extra <backspace> at
the start of the phrase to remove the character that was inserted.
</pre>
<pre>
On 12 February 2010 23:18, mfseeker wrote:
There are difficulties finding memorable hotkeys to work with Open
Office Writer. Many potentially useful combinations cannot be used. If
<Alt> is one of the modifier keys, it is intercepted and used by
Writer to select a menu. If <Super> is one of the modifier keys, it
works, but it inserts the alphabetic character into the text before
taking action. And, of course, many of the <ctrl> and <ctrl><shift>
hotkeys are already assigned. Finally, I have had to reassign existing
Writer hotkeys—something I don't like to do because it limits
portability.
</pre>
As Joe has suggested, it would be good to be able to use <Super>.  Then we could choose hotkeys that worked in most Ubuntu applications without worrying about conflicts.  However, it appears that if we do not reassign the code for <Super>, as Joe has, we will be frustrated by OO.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Inserting parentheses, brackets, or quotes</font></h1>
 1 post by 1 author
<h3><font color="#FF4500">mfseeker said…</font></h3>

2/12/10.

Some time ago there was a request for scripts that people had found useful.  This is not a script—just some phrases.

I often have to edit something I have typed by enclosing an existing word or phrase in parentheses, brackets, or quotation marks.  This is an annoying task.  Here are some phrases that will do the trick.

<pre>
Parentheses - <ctrl>+c()<left><ctrl>+v<right>
Brackets - <ctrl>+c[]<left><ctrl>+v<right>
Angle brackets - <ctrl>+c<><left><ctrl>+v<right>
Curly brackets - <ctrl>+c{}<left><ctrl>+v<right>
Double quotes - <ctrl>+câ€œ"<left><ctrl>+v<right>
Single quotes - <ctrl>+câ€˜â€™<left><ctrl>+v<right>
</pre>
I have tested these in Gedit, Tomboy, Thunderbird, and Open Office Writer.  They are most useful with assigned hotkeys.  Finding available, easy-to-remember hotkeys, especially in OO Writer, can be a challenge.

[My first attempt used <ctrl>x rather than <ctrl>c.  That works, too, but not in Writer.  Writer is too smart.  When it cuts a word, it removes one of the two surrounding spaces, even if you have been careful not to select it.]

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Installing from scratch entirely from the terminal</font></h1>

7 posts by 3 authors.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

2/9/10.

I am writing a script (I am a beginner but I begin to understand more and more.) for installing a few applications that I think I need and/or want.  The idea is that when I install Ubuntu from scratch I want a quick way to install all my favourite software and uninstall some not so wanted software automatically.

What I want to do in this particular case is the following: Add the repository to /etc/apt/sources.list (or should it be added to a new file in /etc/apt/sources.list.d/?).  Do the key thing if necessary.  Install AutoKey from the newly added repository using apt-get.

Sorry for stupid question.

Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">Luke Faraone said…</font></h3>

2/9/10.

At first read, it was very very difficult to figure out where your question actually was. [reply continues…].

<pre>
On Tue, Feb 9, 2010 at 16:37, Johnny Rosenberg wrote:
 What I want to do in this particular case is the following:
 Add the repository to /etc/apt/sources.list (or should it be added to
 a new file in /etc/apt/sources.list.d/?).
</pre>
Yes, either way would be fine.  Doing so "from scratch" is no different from any other installation of autokey.  If you're using a recent version of Ubuntu, you can also just run the following command: sudo add-apt-repository ppa:cdekter/ppa  An aside: You also might want to look into remastering the Ubuntu install CD.

Thanks.  Luke Faraone.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

2/10/10.

<pre>
2010/2/9 Luke Faraone:
> At first read, it was very very difficult to figure out where your question
> actually was. [reply continues…]
</pre>
Yes, I realize that too now when I read my own question.  Sorry for that.  I also realize that when I am talking about scripts, most AutoKey users will probably first assume that I am talking about scripts in AutoKey, which I was not (I was talking about a bash or sh script).

<pre>
On Tue, Feb 9, 2010 at 16:37, Johnny Rosenberg wrote:
>>
>> What I want to do in this particular case is the following:
>> Add the repository to /etc/apt/sources.list (or should it be added to
>> a new file in /etc/apt/sources.list.d/?).
>
> Yes, either way would be fine. Doing so "from scratch" is no different from
> any other installation of autokey. If you're using a recent version of
> Ubuntu, you can also just run the following command:
> sudo add-apt-repository ppa:cdekter/ppa
</pre>
Will this also add a signing key or is that not necessary?

<pre>
> An aside: You also might want to look into remastering the Ubuntu install
> CD.
</pre>
If I understand that page correctly it lets me create a Live-CD with my favourite software, kind of, right?  But that's not exactly what I am looking for.  Next time I will reinstall all my favourite software it will probably be when I install another version of Ubuntu from scratch.  If I install by dist upgrade, all my favourite software will still be there, but since I use a lot of stuff not from the repositories, those upgrades always fail in one way or another for me.  Has always failed since the very first time (7.04 > 7.10), so I probably will need to install 10.04 from scratch, and a custom Live CD with 9.10 won't help me very much, if you see what I mean.  But Thanks. for the link anyway, I guess it's useful if my HDD crash and I want to reinstall everything.

Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">Luke Faraone said…</font></h3>

2/10/10.

<pre>
On Wed, Feb 10, 2010 at 11:57, Johnny Rosenberg wrote:
Will this also add a signing key or is that not necessary?
</pre>
It handles that for you.

<pre>
> An aside: You also might want to look into remastering the Ubuntu install
> CD.
</pre>
If I understand that page correctly it lets me create a Live-CD with my favourite software, kind of, right?  Correct.

—Luke Faraone.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

2/10/10.

<pre>
2010/2/10 Luke Faraone:
> On Wed, Feb 10, 2010 at 11:57, Johnny Rosenberg  wrote:
>>
>> Will this also add a signing key or is that not necessary?
>
> It handles that for you.
>
>>
>> > An aside: You also might want to look into remastering the Ubuntu
>> > install
>> > CD.
>>
>> If I understand that page correctly it lets me create a Live-CD with
>> my favourite software, kind of, right?
>
> Correct.
>
> —
> Luke Faraone.
</pre>
Thanks.

So all I need to do, to install AutoKey from the terminal now is this:

<pre>
sudo add-apt-repository ppa:cdekter/ppa
sudo apt-get install autokey-gtk
</pre>
Well, I guess I could try instead of asking, on the other hand.

Johnny Rosenberg.

<h3><font color="#FF4500">nhasian said…</font></h3>

2/10/10.

Yes but you forgot one small step, you also need to do "sudo apt-get update" after adding the repository and before the install command. so it should look like:

<pre>
sudo add-apt-repository ppa:cdekter/ppa
sudo apt-get update
sudo apt-get install autokey-gtk
</pre>
<pre>
On Feb 10, 12:20 pm, Johnny Rosenberg wrote:
> So all I need to do, to install AutoKey from the terminal now is this:
> sudo add-apt-repository ppa:cdekter/ppa
> sudo apt-get install autokey-gtk
</pre>
<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

2/11/10.

2010/2/10 nhasian:

I tried it and it worked fine, except that my old settings were wiped out (all my phrases etc).  Fortunately I managed to find them on my old HDD, copy them to my Backup HDD, installing the new HDD again and copy them there from my Backup HDD, so now it works.

However, I had some troubles when I tried to change some settings, especially the setting for letting AutoKey start up at login.  When I checked that check box, the OK button didn't work (nothing happened when clicking it), so I fixed that in Gnome instead.  After I done that, I checked the check box in AutoKey and now the OK suddenly worked, so AutoKey was mentioned twice in the Gnome startup settings, so I had to remove one of them.

It works now anyway.

Regards.

Johnny Rosenberg.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Autokey 0.61.2 & Ubuntu 9.10 - Super ==> Mod4</font></h1>

4 posts by 2 authors.

<h3><font color="#FF4500">Joe Casadonte said…</font></h3>

2/4/10.

I've installed Autokey from the PPA here, on an Ubuntu 9.10 system.  I have my Super key set up to produce Mod4 rather than Super_L, so it can be used as a modifier key in Gnome.  It seems like it doesn't play well with Autokey in this mode.  At least, I can't get Autokey to respond to any Super-based hotkey.  Does anyone have any experience with this?  Thanks!

<h3><font color="#FF4500">Chris D said…</font></h3>

2/5/10.

I'm afraid that won't work.  AutoKey asks X which keycode maps to the Super key, so if your Super key sends some other key code, AutoKey will simply not recognise it.  I'm not exactly sure how, but you might be able to change the X key map to map the Mod4 to Super_L, and it should then work.

<h3><font color="#FF4500">Joe Casadonte said…</font></h3>

2/5/10.

<pre>
On  5 Feb 2010, Chris Dekter wrote:
> I'm afraid that won't work. AutoKey asks X which keycode maps to the
> Super key, so if your Super key sends some other key code, AutoKey
> will simply not recognise it.
</pre>
Can AutoKey be changed sometime in the future to recognize Mod4 as a modifier key?

<pre>
> I'm not exactly sure how, but you might be able to change the X key
> map to map the Mod4 to Super_L, and it should then work.
</pre>
That's easy, but then I lose it's ability (in Gnome) to be a modifier key.  In case anyone ever comes across this thread via Google, here's how to do it:

Switching to Mod4:

<tt>$ gconftool-2—set /apps/metacity/global_keybindings/panel_main_menu—type string "Mod4"</tt>

Switching to Super_L

<tt>$ gconftool-2—set /apps/metacity/global_keybindings/panel_main_menu—type string "Super_L"</tt>

Thanks for the quick response!

—Regards.

Joe.

<h3><font color="#FF4500">Chris D said…</font></h3>

2/10/10.

<pre>
On 6 February 2010 01:35, Joe Casadonte wrote:
> On  5 Feb 2010, Chris Dekter wrote:
>
>> I'm afraid that won't work. AutoKey asks X which keycode maps to the
>> Super key, so if your Super key sends some other key code, AutoKey
>> will simply not recognise it.
>
> Can AutoKey be changed sometime in the future to recognize Mod4 as a
> modifier key?
>
</pre>
That's certainly a possibility.  If you have a chance, file an enhancement request in the tracker so it doesn't get left behind:

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Problem with Autokey and OpenOffice</font></h1>

10 posts by 5 authors.

<h3><font color="#FF4500">adyeths said…</font></h3>

2/5/10.

I'm having some problems with Autokey and OpenOffice.  Whenever a script I wrote tries to paste text with accents or unicode quotation marks into OpenOffice, they get put in the wrong place.

Words like donâ€™t and hasnâ€™t show up as â€™dont and  â€™hasnt .  And text such as this: (frÄ"Â´dÅ­m) appears as this instead: Ä"Â´Å­(frdm) Which is very strange to say the least.

I'm using Autokey GTK 0.61.2.

It appears to only affect OpenOffice.  This problem doesn't show up when using AbiWord or a plain text editor such as gedit.  Is there any way to correct this issue so that I can use AutoKey to paste text into OpenOffice?  I've been trying to figure it out for a while now but haven't been able to find any solutions on my own.  Thanks!

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

2/5/10.

2010/2/5 adyeths:

I have seen this in GEdit too and in Opera (the Web browser).  I was using Ubuntu 8.10 when I saw it last time (a few days back - I actually installed Ubuntu 9.10 yesterday, since I just bought a new HDD for my laptop, but I didn't install Autokey yet).

Johnny Rosenberg.

<h3><font color="#FF4500">Chris D said…</font></h3>

2/5/10.

Unicode characters are not guaranteed to work properly in any application that is not built using GTK (e.g.  Opera which uses QT).

<h3><font color="#FF4500">adyeths said…</font></h3>

2/5/10.

<pre>
On Feb 5, 9:57 pm, Chris Dekter wrote:
> Unicode characters are not guaranteed to work properly in any
> application that is not built using GTK (e.g. Opera which uses QT).
>
</pre>
Any ideas or suggestions on how to make things work properly in OpenOffice?

<h3><font color="#FF4500">Derek said…</font></h3>

2/5/10.

This is probably the same issue as in this thread:

<tt>http://groups.google.com/group/autokey-users/browse_thread/thread/d9995dccc900e0ac#</tt>

I just checked, and OpenOffice.org uses its own GUI toolkit (versus GTK, QT, or some other standard).  Maybe its problem is similar to QT's.  My apostrophes are not Unicode characters, so they come out normally, but accented vowels (in OpenOffice.org Writer) come out at the front of the line.

<h3><font color="#FF4500">adyeths said…</font></h3>

2/6/10.

<pre>
> > Any ideas or suggestions on how to make things work properly in
> > OpenOffice?
>
> This is probably the same issue as in this thread:http://groups.google.com/group/autokey-users/browse_thread/thread/d99:
>
> I just checked, and OpenOffice.org uses its own GUI toolkit (versus
> GTK, QT, or some other standard).  Maybe its problem is similar to
> QT's.  My apostrophes are not Unicode characters, so they come out
> normally, but accented vowels (in OpenOffice.org Writer) come out at
> the front of the line.
</pre>
That does indeed seem to be the problem.  I created a workaround in my script to slow down the output.  Seems to work ok now.

Thank you.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

2/6/10.

2010/2/6 adyeths:

If you only work with phrases, why not use the auto correction thing in OpenOffice.org instead?

Johnny Rosenberg.

<h3><font color="#FF4500">adyeths said…</font></h3>

2/6/10.

<pre>
> If you only work with phrases, why not use the auto correction thing
> in OpenOffice.org instead?
>
> Johnny Rosenberg
</pre>
I can't do that because I'm not working with simple phrases.  I wrote a script that uses The SWORD Project software to retrieve scriptures to be inserted into documents. :)

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

2/6/10.

2010/2/6 adyeths:

Okay, what about doing it all in GEdit and then copy it to OpenOffice.org as a workaround?

Johnny Rosenberg.

<h3><font color="#FF4500">Luke Faraone said…</font></h3>

2/6/10.

<pre>
On Sat, Feb 6, 2010 at 19:45, Johnny Rosenberg wrote:
Okay, what about doing it all in GEdit and then copy it to
 OpenOffice.org as a workaround?
</pre>
You could also use gnome-do.  It'd be Super-Space, "." to enter text mode, and then what triggers your autocorrection. <Return> then copies the text to the clipboard.

—Luke Faraone.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Autokey on CentOS</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">Pavan said…</font></h3>

1/27/10.

I'm looking to run Autokey on CentOS.  I tried instructions from the mandriva post, <tt>http://groups.google.com/group/autokey-users/browse_thread/thread/d1ed135558a1026f/f948dd4d66a5d40b?lnk=gst&q=mandriva#f948dd4d66a5d40b</tt>  but got the following error.

<pre>
# sudo python setup.py install

running install
running build
running build_py
running build_scripts
running install_lib
byte-compiling /usr/lib/python2.4/site-packages/autokey/
configmanager.py to configmanager.pyc
  File "/usr/lib/python2.4/site-packages/autokey/configmanager.py",
line 129
    finally:
          ^
SyntaxError: invalid syntax
running install_scripts
changing mode of /usr/bin/autokey to 755
running install_data
</pre>
Help!

<h3><font color="#FF4500">Chris D said…</font></h3>

1/27/10.

Wrong Python version.  You need at least Python 2.5.

2010/1/28 Pavan:

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Installation on Debian 5.0.3 Lenny</font></h1>

16 posts by 5 authors.

<h3><font color="#FF4500">Oliver said…</font></h3>

1/22/10.

Hi.

I am using autohotkey on Windows for a long time and because I develop my software on Linux I spent more and more time on Linux.  And here I mis that functionality.

I am using Debian 5.0.3 Lenny with Gnome in a VMware virtual maschine.  I really like Debian and so I decided to also use it for my daily life.

So I wanted to install autokey on Debian.  I first tried the debs, but they failed with the message, that the prerequisite python >= 2.6 is not fulfilled.

So I tried next the installation files from the official download site, where you use dpkg-buildpackage to install it.  And here I also got the error message about the missing python2.6.

I have python 2.5 installed on my Debian.  So I searched the python2.6 deb file and installed it.

I also relinked the soft link in /usr/bin/python to python2.6.  But that did not help.  The installation command still says that I have only python2.5.

Although I read that deinstalling Python2.5 was not recommended, I deinstalled it and that crashed the system.

Happily I had made a backup of the system.  So I gave up to get Python2.6 working in my Debian.

Next try…I searched for older versions of autokey, that might not need the latest python version.

I found out, that version 0.52.2 (GTK) could be installed.  I was happy.

I could open the GUI for configuration and easily created some abbreviations.

But and that is the reason I post here…there are some things not working.

Ok, I understand if you just say "Update to the latest version and all of your problems will disappear."

But I tried above to explain why I was not able to install the latest version.

And switching to a different Linux is not an option, because Debian is also the Linux on my productive servers.

Here are the problems, maybe there are easy solutions?

I can not change the Special Hotkeys in "Settings - Advanced Settings - Special Hotkeys".  When I click on [Set key] and then press a key, this key is not recognized.

Most annoying: I have an abbreviation for my email address: em -> e..@web.de   When using that then the '@' is not displayed (in gedit) or displayed with the wrong character (in vi).

I only need the abbreviation function of autokey.

So here are my questions?

Is there a way (not too complicated like replacing python2.5 with python2.6) to install the latest autokey version on Debian 5.0.3?

Are there some tricks to make the older autokey version 0.52.2 work with abbreviations correctly?

Any help is very appreciated.

Oliver   <h3><font color="#FF4500">Chris D said…</font></h3>


1/22/10.

Hi.

The dependency on Python 2.6 is only specified because in Ubuntu's automated build system (launchpad), the build fails if it is set to 2.5.  You can easily modify the source to require only Python 2.5 and dpkg-buildpackage will then succeed:

Change debian/control: Replace: Build-Depends: python (>= 2.6), cdbs (>= 0.4.49), debhelper (>= 6) with: Build-Depends: python (>= 2.5), cdbs (>= 0.4.49), debhelper (>= 6)

Replace: XS-Python-Version: >= 2.6 with: XS-Python-Version: >= 2.5

That's it.

The problems you are having with abbreviations is a bug in the older version - hopefully the above instructions will allow you to install the latest version which has no known bugs of that kind.

Chris.

2010/1/22 Oliver:

<h3><font color="#FF4500">Oliver said…</font></h3>

1/22/10.

Hi Chris.

thanks a lot for your fast and helping answer.  I could now install AutoKey (GTK UI) 0.61.2.  And it is working, great.

Still annoying is the fact, that the abbreviation I created containing a — ;symbol does not work.  The abbreviation 'em' should be replaced by my email address e…@web.de.  This is how I defined it in the AuotKey - Configuration GUI.  But when I use it, I only get "emailqoliverschmidt.de".  That means @ is replaces by q.  The reason might be, that I have a German keyboard and @ is reached via ALTGR-q.  I have the same problem with the euro symbol â‚¬, that is ALTGR-e.  So all problems seem to be connected to the ALTGR-key.

Any idea?

Oliver   <h3><font color="#FF4500">Chris D said…</font></h3>


1/22/10.

Is this in a VM?

2010/1/23 Oliver:

<h3><font color="#FF4500">Luke Faraone said…</font></h3>

1/22/10.

<pre>
On Fri, Jan 22, 2010 at 07:31, Chris Dekter wrote:
 The dependency on Python 2.6 is only specified because in Ubuntu's
 automated build system (launchpad), the build fails if it is set to
 2.5.
</pre>
That's odd.  I just tried a build with it set to 2.5, it seemed to work without problems: https://launchpad.net/~lfaraone/+archive/ppa/+build/1462756

—Luke Faraone.

<h3><font color="#FF4500">Chris D said…</font></h3>

1/22/10.

In Jaunty?

2010/1/23 Luke Faraone:

<h3><font color="#FF4500">Oliver said…</font></h3>

1/23/10.

Yes, I am running Debian 5.0.3 in a VMware Workstation VM that is installed on Windows XP SP3.

<h3><font color="#FF4500">Luke Faraone said…</font></h3>

1/23/10.

<pre>
On Fri, Jan 22, 2010 at 21:25, Chris Dekter wrote:
In Jaunty?
</pre>

Yep, works there too: https://edge.launchpad.net/~lfaraone/+archive/ppa/+build/1463235

<h3><font color="#FF4500">Chris D said…</font></h3>

1/24/10.

If that's the case, the original problem must have been fixed.  I'll update the Python versions to 2.5 for the next release.

2010/1/24 Luke Faraone:

<h3><font color="#FF4500">Chris D said…</font></h3>

1/24/10.

I'm afraid I don't really know what to do about this issue.  You could try using a US keyboard layout in your VM, although I don't know what effect that will have on keystrokes sent from your real keyboard to the VM.

<h3><font color="#FF4500">Oliver said…</font></h3>

1/24/10.

I switched to a standard US keyboard in my Debian Linux.  Then I created a new phrase with '"@" (which I now found on SHIFT-2), opened vi and triggered the phrase and I got the phrase, but now the '@' was replaced with a '2'.

All other applications seem to work properly with the US keyboard.

I also checked my autokey.bin, that seems to store all my phrases.  The '@' character is here stored with ASCII code 0x40.  So that seems to be correct.

So the sending of my phrase to any application could be the problem.  The applications seem  to receive a '2' and not a '@'.

Any more ideas?

Do you need more input?  Should I make additional tests?

Oliver   <h3><font color="#FF4500">Chris D said…</font></h3>


1/24/10.

What is happening here is that the modifier keys inside the VM are not working correctly.  The most likely case is that the key map is passing the incorrect key code for Shift and AltGr to AutoKey.  There is unfortunately no real solution to this.

2010/1/25 Oliver:

<h3><font color="#FF4500">Frank Harper said…</font></h3>

1/25/10.

I think this might be a problem between host OS/VM/client OS.

FYI I'm running Autokey and using a macro containing '@', and have no such problems with host OS: Vista VM Workstation: 7.0.0 build-203739 Guest OS: Ubuntu 9.10

Best.  Frank.

<h3><font color="#FF4500">Chris D said…</font></h3>

1/25/10.

Correctemento…I experience the same thing at work if I run AutoKey on my Linux workstation with a Windows XP VM.

When I was digging through the available GPL code on keyboard maps in Linux, I came across some crazy workarounds for VirtualBox.  Now if I can just remember where I found those:

2010/1/25 Frank Harper:

<h3><font color="#FF4500">Oliver said…</font></h3>

1/25/10.

Autokey in virtual maschines - replacing problem I'm using VMware Workstation version 5.5.7 build-91707.  I don't want to upgrade to V7, I had to buy it and there is no guarantee that it will work.

Do I understand it correct, you can reproduce the bug in your Virtual Box Windows XP VM?

I changed the subject of this discussion because the installation issue with Debian is fixed.

Do you see a chance to find a general fix, that would work in most VMs?

Oliver   <h3><font color="#FF4500">mototom800 said…</font></h3>


1/25/10.

Re: Autokey in virtual maschines - replacing problem  2010/1/23 Oliver:

You might try VirtualBox which is free and uses the same files as VM.  Autokey works fine in VirtualBox with the minor exception of Wine-enabled programs.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Autokey startup error</font></h1>

5 posts by 2 authors.

<h3><font color="#FF4500">mfseeker said…</font></h3>

11/26/09.

After many happy days with Autokey, it suddenly started throwing an "Unable to connect to EvDev daemon" error on launch.  I am running Ubuntu 9.10.  It was recently updated.  I reinstalled EvDev.  I restarted my system.  The error persists.

Autokey version is 0.60.7a.  KDE version is 4.3.2.  I use Gnome, but also lots of KDE stuff.

Stan.

<h3><font color="#FF4500">Chris D said…</font></h3>

11/26/09.

Have you tried re-installing AutoKey?

2009/11/27 Stan Armstrong:

<h3><font color="#FF4500">mfseeker said…</font></h3>

11/26/09.

That worked.  Obvious.  Thanks Chris.

Stan.

<h3><font color="#FF4500">mfseeker said…</font></h3>

1/22/10.

As much as I long to use Autokey, I cannot.  I have never been able to find a fix for the autokey startup error other than reinstalling Autokey every time it fails.

The error text is:

<pre>
Error starting interface. Keyboard monitoring will be disabled.
Check your system/configuration.

Unable to connect to EvDev daemon:
[Errno 2] No such file or directory
</pre>
After I reinstall, Autokey will work for a while (perhaps as much as an hour, perhaps only a few minutes) and then it will lose the ability to respond to keyboard shortcuts.  There is then no fix except to reinstall it.

Months ago, Chris, you were trying to help me with this.  You thought perhaps the problem had to do with my Microsoft Natural Ergonomic 4000 keyboard.  I have swapped out the keyboard for a different one (an old Yahoo USB).  The problem persists.

This problem exists in both the original and the gtk versions.

The problem has persisted through my upgrade from jaunty to karmic and through many versions of Autokey up to the current 0.61.2-0~karmic.

In the past you have requested logs.  Other than autokey-daemon.log what might be useful.  I have been examining logs, but so far I have found nothing that helped me.

Stan Armstrong   <h3><font color="#FF4500">Chris D said…</font></h3>


1/22/10.

This seems to be a problem with the AutoKey daemon.  You do not need to reinstall to get it working again.  Just run:

sudo invoke-rc.d autokey restart  I experience the same problem from time to time and this fixes it every time.

For now, this workaround will have to be good enough, I'm not going to invest any more time in the daemon as Record will likely be fixed in the next release of Ubuntu, meaning that we won't need to use the daemon any more.

Regards.  Chris.

2010/1/23 Stan Armstrong:

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: hit and miss?</font></h1>

5 posts by 3 authors.

<h3><font color="#FF4500">Jose Quesada said…</font></h3>

1/14/10.

Hi.

I want to select block, press shortcut , and get code pasted in rkward (I'm on gnome, this is a kde app).  Script:

<pre>
text = clipboard.get_selection()
window.activate("rkward")
keyboard.send_keys(text)
</pre>
It works, but extremely hit and miss.  Something is wrong here.  I tried with gedit instread of rkward, same thing.

Is autokey buggy (.61.2)?

Thanks   <h3><font color="#FF4500">Chris D said…</font></h3>


1/14/10.

Can you describe what you mean by hit and miss?

There are no known bugs in the functions you are using, it just comes down to fine-tuning the script.

2010/1/15 Jose Quesada:

<h3><font color="#FF4500">Derek said…</font></h3>

1/15/10.

Jose.

You might try:

text = clipboard.get_selection() window.activate("rkward") if window.wait_for_focus(".`*`rkward.`*`"): keyboard.send_keys(text)

The part between .`*` and .`*` needs to be something that reliably appears in the window title.

Derek Veit   <h3><font color="#FF4500">Jose Quesada said…</font></h3>


1/15/10.

Thanks Derek, Chris.

Still failing a lot.  Ubuntu gnome 9.10 64.  I cannot get consistent behavior. even one-liners fail.

No script error available.

This is frustrating:

For example, just this:

<pre>
keyboard.send_keys("traceback()")
hotkey ctrl b
window filter RKWard fails.
</pre>
Removing the window filter makes it work, though, but not what I want.

<h3><font color="#FF4500">Chris D said…</font></h3>

1/15/10.

The window filter is a regular expression and it must match the entire window title, not just a part of it.  'RKWard' does not match 'asdf asdf asdf - RKWard' which is what the actual window title is.  Your window filter needs to be something like ".`*`RKWard".

2010/1/16 Jose Quesada:

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Script for adding abbreviations</font></h1>

6 posts by 2 authors.

<h3><font color="#FF4500">marshag63 said…</font></h3>

1/8/10.

Using Autokey 0.61.2 (GTK), I used the sample script for create new abbreviation from here (<tt>http://code.google.com/p/autokey/wiki/SampleScripts</tt>)

1.  I'm only able to trigger the the script via tray phrases (i.e. right click on icon)

2.  Using the below script I get an entry in my file directory  titled "import time time…." with the contents of the script:

<pre>
import time
time.sleep(0.25)
# The sleep seems to be necessary to avoid lockups
contents = clipboard.get_selection()
retCode, abbr = dialog.input_dialog("New Abbreviation", "Choose an
abbreviation for the new phrase")
if retCode == 0:
    if len(contents) > 20:
        title = contents[0:17] + "…"
    else:
        title = contents
    folder = engine.get_folder("Marsha")
    engine.create_abbreviation(folder, title, abbr, contents)
</pre>
Not sure what I did wrong or what needs to be tweaked.

Thanks for the great program and all the wonderful possibilities to come.

MarshaG.

<h3><font color="#FF4500">marshag63 said…</font></h3>

1/8/10.

Okay, one thing I was doing wrong was I needed to copy text to the clipboard (Ctrl + C) before I ran the script.  It takes a good 10-13 seconds for the dialog box to pop-up, so I may have been interrupting the script.  After trying the script a couple more times it does indeed run correctly.  YAY!  YAY!  YAY!  Oh the possibilities!

Now on to one for quickly adding addresses!  Anything in particular I need to tweak beside folder name?

THANK YOU!  THANK YOU!  THANK YOU!!!!!

MarshaG.

<h3><font color="#FF4500">marshag63 said…</font></h3>

1/8/10.

One quick question - does AutoKey support things in the contents of the phrase such as bold, underline, italics, indents, tabs, font and font size?

Got my script for quickly adding addresses - I love that I can go in and change the description so easily !

Thanks again!!!!!

MarshaG.

<h3><font color="#FF4500">Chris D said…</font></h3>

1/9/10.

At this point it does not natively support those features.  However you could achieve most of the effects by using a script to issue the standard shortcuts for formatting text (e.g.  Ctrl+B to bold/unbold, etc).

2010/1/9 marshag63:

<pre>
> One quick question - does AutoKey support things in the contents of
> the phrase such as bold, underline, italics, indents, tabs, font and
> font size?
>
> Got my script for quickly adding addresses - I love that I can go in
> and change the description so easily !
>
> Thanks again!!!!!
>
> MarshaG.
</pre>
<h3><font color="#FF4500">marshag63 said…</font></h3>

1/14/10.

Chris, the sample scripts are AWESOME!  Is there a way to add the options for "match case" and "ignore case" ~so I can have one script with no options and one with options?

Fantastic!!

MarshaG.

<h3><font color="#FF4500">Chris D said…</font></h3>

1/14/10.

Not at the moment.  I could add that capability to the next release:

2010/1/15 marshag63:

<pre>
> Chris, the sample scripts are AWESOME!
> Is there a way to add the options for "match case" and "ignore case" -
> so I can have one script with no options and one with options?
>
> Fantastic!!
>
> MarshaG.
</pre>
<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: AutoKey v0.62.2 released</font></h1>

3 posts by 2 authors.

<h3><font color="#FF4500">Chris D said…</font></h3>

1/7/10.

The newest version of AutoKey is now in the PPA.  The GTK version is already built, the KDE version will be ready later today (still have one or two bugs to squash).

<pre>
Release highlights:
• The cut/copy/paste menu options have been brought back
• A new 'engine' class in the scripting framework allows scripts to
modify some of AutoKey's internals, such as creating phrases,
abbreviations, etc
• Scripts can now be nested - i.e. one script can run another script
• A new configurable user module folder allows you to create your own
Python modules which can then be imported into AutoKey scripts
• The tree view now supports multiple selections allowing you to
easily manage a large collection of phrases/scripts/folders
• The items in the tree view can now be renamed inline and the changes
are saved immediately. Right click and Edit menu options have been
added for this.
• Many small improvements to the GUI and tree view in particular.
Interaction should be much cleaner and the tree view behaves in a much
more standards-compliant way
</pre>
<h3><font color="#FF4500">nhasian said…</font></h3>

1/8/10.

i just check the PPA https://launchpad.net/~cdekter/+archive/ppa?field.series_filter= and it only shows version 0.61.2

<h3><font color="#FF4500">Chris D said…</font></h3>

1/8/10.

That is correct - should be 0.61.2

2010/1/9 nhasian:

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Adding abbreviation - Autokey 0.61.2</font></h1>

3 posts by 2 authors.

<h3><font color="#FF4500">marshag63 said…</font></h3>

1/7/10.

Adding Abbreviations: Once you have installed AutoKey per directions from AutoKey's site and you start AutoKey, you will have an icon in you system tray with a Capital "A" in it.  Right-clicking on this icon or pressing Ctrl + K will allow you to access the "AutoKey - Configuration" dialog box.

On the left side of the "AutoKey - Configuration" screen you will see a directory "tree" of the folders/subfolders already in AutoKey.  First thing you need to do is add a New Top-level folder for the abbreviations you are going to add.

File > Create > New Top-level Folder and type a name for the folder.

Now that we have a new folder setup, we can start adding our abbreviations.

You can either leave the "AutoKey - Configuration" dialog window open or you can close it and pretend you were working in a document and decided to add an abbreviation.  You can highlight (hold down shift) and copy (Ctrl + C) or use the mouse if you want to use text from the working document window.  Once you have highlighted, bring up the "AutoKey - Configuration" dialog box [or press Ctrl + K to bring up the "AutoKey - Configuration" diaglog box].  Note that focus will be placed at the first top level folder in the folder directory tree.  If this is not the folder you want to add your phrase to, use up/down arrow keys or just click on the folder via mouse left-click.

You are now ready to tell AutoKey you want to add a phrase - press Ctrl + N or use the menu or use the right-click menu.  File > Create > New Phrase.

You should now see a New Phrase entry - with "New Phrase" highlighted so that if you paste your phrase it will put it here for a description, then  press "Enter."

Next press the tab key to get to the big dialog window to paste your phrase.  Once the phrase is entered press Ctrl + Tab to navigate via keyboard or click on the "Set" button for "Abbreviation" (bottom one~third of lower right-hand side of "AutoKey - Configuration" dialog box.  This will bring up a "Set Abbreviation" dialog box - this is where you set the actual abbreviation for the phrase - leave the "Trigger on" to "Default."  Make sure you leave "Remove typed abbreviation" checked, unless you want to leave the abbreviation in the document for some reason.

The next option you want to set is "Match phrase case to typed abbreviation" - this option and "Ignore case of typed abbreviation" work in combination to let your abbreviation expand with case sensitivity:

Abbreviation: You See: tp the patient Tp The patient TP THE PATIENT

Once you choose "Match phrase case to typed abbreviation" it will automatically also choose "Ignore case of typed abbreviation" - that's how that works.  You can choose just "Ignore case of typed abbreviation" alone (I'm not sure why you would want "Ignore case of typed abbreviation" alone).  There is also an option to trigger the entry as part of a word (kinda dangerous!) and trigger immediate (without a trigger character - which could get "hairy" if you still have autocorrect/auto text still turned on).  Click "okay" or type Alt + O to accept these settings.  One last step - click "Save" or Alt + S to keep these changes.

MarshaG.

<h3><font color="#FF4500">Chris D said…</font></h3>

1/7/10.

Thanks for your posts - I'll add wiki pages for these as they are very useful.

<h3><font color="#FF4500">marshag63 said…</font></h3>

1/8/10.

Your welcome Chris!  I'm happy they are useful!

MarshaG.

<pre>
On Jan 7, 8:49 pm, Chris Dekter wrote:
> Thanks for your posts - I'll add wiki pages for these as they are very useful.
</pre>
<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Keyboard Shortcuts for AutoKey 0.61.2</font></h1>
 1 post by 1 author
<h3><font color="#FF4500">marshag63 said…</font></h3>

1/7/10.

AutoKey Keyboard Shortcuts:

Ctrl + K opens AutoKey's Configuration window.  Ctrl + N adds new phrases Ctrl + Shift + N adds new scripts  Ctrl + S saves changes.  Ctrl + W closes the AutoKey - Configuration window Ctrl + Q quits AutoKey  Shift + Ctrl + X will allow you to cut multiple entries in the directory tree.  Shift + Ctrl + C will allow you to copy multiple entires in the directory tree.  Ctrl + D will allow you to Delete items  You can use Ctrl + C to copy, Ctrl + V to paste, and Ctrl + X to cut.  There is also a right mouse click menu for this.

Preferences: Edit > Preferences = dialog boxes to set preferences such as start AutoKey automatically at login, prompt for unsaved changes, show icon in tray, allow keyboard navigation pop-up menu, sort menu items with most frequently used first and enable undo by pressing backspace; along with setting global hotkeys, setting script engine folder, and setting interface option (how AutoKey receives mouse and keyboard events (depending on version of X-org you have).

Diretory Tree:

Up/Down arrows navigate the directory tree.  Enter key lets you rename the folder.  Typing any letter keystroke will start a search of the currently highlighted folders entries.  Shift + left/right arrows expands/collapses directory tree contents.

Configuration - Autokey Dialog Box: The Autokey- Configuration window is divided into three "zones:"

• The directory tree  • The New phrase entry box (upper right half of screen)<br /> [Pressing Tab key here just moves the text and does not get you out of the phrase dialog so press Ctrl + Tab to move to Phrase Settings]

•The Phrase Settings  Ctrl + Tab will cycle through these three zones.

MarshaG.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Maintaining Capital Letters?</font></h1>

5 posts by 2 authors.

<h3><font color="#FF4500">mototom800 said…</font></h3>

1/1/10.

How can I have my abbreviations expand and maintain the capitalization I have in the phrase?

I have check ignore case of the abbreviation and I have tried "Match case to typed abbreviation" with no luck.

E.G., I have an abbreviation /n which I want to expand to N.E.M.O. but it expands to n.e.m.o.  Other are my name in my signature, etc.

Thanks.  And Happy New Year.

<h3><font color="#FF4500">Chris D said…</font></h3>

1/1/10.

The default behaviour is to not modify your phrase at all.  You should uncheck "ignore case" and "match case".  If without these options the phrase is still converted to lower case, it might be a bug.

2010/1/2 mototom800:

<h3><font color="#FF4500">mototom800 said…</font></h3>

1/3/10.

Not sure what was happinging, after a restart all is well.

<h3><font color="#FF4500">mototom800 said…</font></h3>

1/6/10.

A little more work and I found out what was happening.  When using AutoKey to enter unlock info in Windows programs running under Wine, all text is being entered as small letters no matter how its formatted in AutoKey.  Not sure it's worth doing a lot of work to fix.

<h3><font color="#FF4500">Chris D said…</font></h3>

1/6/10.

Yes I've noticed the same problem with VirtualBox.  There's not really anything that can be done about it.

2010/1/7 mototom800:

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Upgrading ???</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">jflevi said…</font></h3>

1/6/10.

I am running Autokey v 0.60.7a under Ubuntu 9.04 on several machines.

It works PERFECTLY !!!

Ubuntu's update manager wants me to upgrade Autokey to the newest version (doesn't say which).

Since I am 100% happy with 0.60.7a, do I really need to upgrade; what are the benefits ???

Thanks.

<h3><font color="#FF4500">Luke Faraone said…</font></h3>

1/6/10.

<pre>
On Wed, Jan 6, 2010 at 17:23, jflevi wrote:
> Since I am 100% happy with 0.60.7a, do I really need to upgrade; what
> are the benefits ???
</pre>

From <tt>http://code.google.com/p/autokey/source/browse/trunk/debian/changelog:autokey (0.61.0b-0~karmic) karmic; urgency=low</tt>.

<pre>
  [ Chris Dekter ]
 • Fix bug with sending newlines from scripts
 • Fix another crash in the EvDev daemon related to button conversions

  [ Luke Faraone ]
 • Fix l10n bug in daemon.py which caused breakage on package removal

 — Chris Dekter  Fri, 11 Dec 2009 10:38:05 +1000
</pre>

—Luke Faraone.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Migrating from Windows</font></h1>

4 posts by 4 authors.

<h3><font color="#FF4500">skoivisto said…</font></h3>

12/21/09.

Hello all.

I'm performing a Linux migration for a client of mine who is very heavily entrenched in AutoHotKey in the Windows environment.  I've looked at the Autokey configuration files and it appears that it's pretty heavy for expressions.  Has anyone had any luck in scripting a migration from AutoHotKey to AutoKey?

I think I read in the FAQs for AutoKey that a migration agent might be available in future releases, any idea where that stands?

Thanks!

<h3><font color="#FF4500">Luke Faraone said…</font></h3>

12/22/09.

<pre>
On Mon, Dec 21, 2009 at 20:01, skoivisto wrote:
I'm performing a Linux migration for a client of mine who is very
 heavily entrenched in AutoHotKey in the Windows environment. I've
 looked at the Autokey configuration files and it appears that it's
 pretty heavy for expressions. Has anyone had any luck in scripting a
 migration from AutoHotKey to AutoKey?
</pre>
While theoretically possible, such a script would hardly be robust, as AutoKey might not implement all AutoHotKey idioms in a compatible fasion.

Anyway, any conversions at this point would have to be made by hand.  Maybe somebody here could help if you posted some of the scripts you wanted to cross over.

—Luke Faraone.

<h3><font color="#FF4500">Chris D said…</font></h3>

12/22/09.

<pre>
2009/12/23 Luke Faraone:

> While theoretically possible, such a script would hardly be robust, as
> AutoKey might not implement all AutoHotKey idioms in a compatible fasion.
</pre>
Absolutely correct - there is no way that AutoKey and AHK can be considered functionally equivalent.  AHK has many features that AutoKey doesn't, and probably never will have.

<pre>
> Anyway, any conversions at this point would have to be made by hand. Maybe
> somebody here could help if you posted some of the scripts you wanted to
> cross over.
</pre>
This is probably the best idea.  I'm happy to assist with this as well.

<h3><font color="#FF4500">Mike K said…</font></h3>

1/4/10.

I'd be happy to take y'all up on that:

<pre>
;———————

;;  AHK FUNCTIONS

;———————

~^s:: ;;Save and Reload current script

 SetTitleMatchMode, 2 ;to correctly detect Notepad++ windows

 IfWinActive, %A_ScriptName%

    {

       SplashTextOn,200,,Updated script,

   Sleep, 300

       SplashTextOff

       Reload

    }

 SetTitleMatchMode, 1

return


;———————

;;CapsLock & h AutoHotstring


;———————

;CapsLock & i:: ;;Run Intellisense

;Run IntelliSense.ahk

;Return


;———————

CapsLock & s:: ;;Open AHK Scripts Folder

Run, "%A_ProgramFiles%\AutoHotkey\Extras\Scripts"

Return


;———————

CapsLock & F1:: ;;Edit Script/Open AHK Help

Run, %A_ProgramFiles%/notepad++/notepad++.exe "%A_ScriptDir%\
%A_ScriptName%"

Run %A_ProgramFiles%/autohotkey/AutoHotkey.chm

Run IntelliSense.ahk

WinMove, AutoHotkey.ahk, 0, 66, 617, 1134

WinMove, AutoHotkey Help, 615, 66, 951, 1134

Return


;———————

CapsLock & z:: ;;Show this list

ViewKeyListFromHK(A_ScriptFullPath)

Return


;———————

;;  WINDOW CONTROL

;———————

LWin & LControl::AltTab ;;Alt Tab

#Left:: WinMinimizeAll ;;Show Desktop

#Right:: WinMinimizeAllUndo ;;Restore All WIndows

#Down:: WinMinimize, A ;;Minimize Current Window

#Up:: ;;Maximize/Restore Window

 WinGet MX, MinMax, A

 If MX

 WinRestore A

 Else WinMaximize A

 return

#Enter:: WinMove,A,,0,66, 1570, 1134 ;;Fit Screen


;Insert Key closes Tab/Window

#IfWinActive ahk_class MozillaUIWindowClass

Insert::Send ^w ;;Close Tab/Window

#IfWinActive ahk_class IEFrame

Insert::Send ^w

#IfWinActive ahk_class Chrome_VistaFrame

Insert::Send ^w

#IfWinActive

Insert::Send !{F4}


#0:: WinSet, Transparent, 60, A ;;Make Active window transparent

#-:: ;;Increase Transparency

 WinGet, trans, Transparent, A

 If trans =

 trans = 255

 If trans > 50

 trans -= 50

 Else trans = 0

 WinSet, Transparent, %trans%, A

return

#=:: ;;Decrease Transparency

 WinGet, trans, Transparent, A

 If trans =

 trans = Off

 If trans <= 205

 trans += 50

 Else trans = Off

 WinSet, Transparent, %trans%, A

return

#Backspace:: WinSet, Transparent, Off, A ;;Make Active window opaque

#PgUp::WinSet,AlwaysOnTop,Toggle,A ;;Always On Top



;———————

;;  VOLUME/MULTIMEDIA

;———————

CapsLock & Up:: Send {Volume_Up}  ;;Volume +

RShift & Up:: Send {Volume_Up}  ;;Volume +

CapsLock & Down:: Send {Volume_Down}  ;;Volume -

RShift & Down:: Send {Volume_Down}  ;;Volume -

CapsLock & Space:: Send {Volume_Mute}  ;;Mute


#IfWinNotActive, ahk_class eHome Render Window

$F8:: Send  ^!+p ;;Pause

$F9:: Send  ^!+s ;;Skip

!F8:: Send {F8} ;;

!F9:: Send {F9} ;;

#IfWinNotActive



;———————

;;  OTHER HOTKEYS

;———————


SetTitleMatchMode, 2

CapsLock & p:: ControlSend, , ipconfig /all, cmd.exe ;;ipconfig -
testing

SetTitleMatchMode, 1



MButton:: ;;Middle Click Taskbar/Titlebar to Close

  SetBatchLines, -1

  CoordMode, Mouse, Screen

  SetMouseDelay, -1 ; no pause after mouse clicks

  SetKeyDelay, -1 ; no pause after keys sent

  MouseGetPos, ClickX, ClickY, WindowUnderMouseID

  WinActivate, ahk_id %WindowUnderMouseID%


  ; WM_NCHITTEST

  SendMessage, 0x84,, ( ClickY `<``<` 16 )|ClickX,, ahk_id
%WindowUnderMouseID%

  WM_NCHITTEST_Result =%ErrorLevel%

      /`*`

      #define HTERROR             (-2)

      #define HTTRANSPARENT       (-1)

      #define HTNOWHERE           0

      #define HTCLIENT            1

      #define HTCAPTION           2

      #define HTSYSMENU           3

      #define HTGROWBOX           4

      #define HTSIZE              HTGROWBOX

      #define HTMENU              5

      #define HTHSCROLL           6

      #define HTVSCROLL           7

      #define HTMINBUTTON         8

      #define HTMAXBUTTON         9

      #define HTLEFT              10

      #define HTRIGHT             11

      #define HTTOP               12

      #define HTTOPLEFT           13

      #define HTTOPRIGHT          14

      #define HTBOTTOM            15

      #define HTBOTTOMLEFT        16

      #define HTBOTTOMRIGHT       17

      #define HTBORDER            18

      #define HTREDUCE            HTMINBUTTON

      #define HTZOOM              HTMAXBUTTON

      #define HTSIZEFIRST         HTLEFT

      #define HTSIZELAST          HTBOTTOMRIGHT

      #if(WINVER >= 0x0400)

      #define HTOBJECT            19

      #define HTCLOSE             20

      #define HTHELP              21

      `*`/


; Close taskbar program click

  IfWinActive, ahk_class Shell_TrayWnd

    {

    MouseClick, Right, %ClickX%, %ClickY%

    Sleep, 50

    Send, c

    WinWaitNotActive,  ahk_class Shell_TrayWnd,, 0.5 ; wait for save
dialog, etc

    If ErrorLevel =1

      Send, !{Tab}

    Return

    }


; Close window with titlebar click

  If WM_NCHITTEST_Result in 2,3,8,9,20,21 ; in titlebar enclosed area—top of window

    {

    PostMessage, 0x112, 0xF060,,, ahk_id %WindowUnderMouseID% ; 0x112
= WM_SYSCOMMAND, 0xF060 = SC_CLOSE

    Return

    }


; else send normal middle click

  If GetKeyState("MButton", "P") ; The middle button is physically
down

    MouseClick, Middle, %ClickX%, %ClickY%,, Down

  Else

    MouseClick, Middle, %ClickX%, %ClickY%

Return


;———————

Capslock:: Send {Backspace} ;;Backspace

Capslock & Shift:: Send {Capslock} ;;CapsLock


$-::Send, %  GetKeyState("CapsLock","T") ? "_" : "-" ;;underscore if
CapsLock ON

$_::Send, %  GetKeyState("CapsLock","T") ? "-" : "_" ;;dash if
CapsLock ON


;———————

#Insert:: ;;Sleep

DllCall("PowrProf\SetSuspendState", "int", 0, "int", 0, "int", 0)

Return


;———————

#Home:: ;;Monitor Off

Sleep 1000 ; if you use this with a hotkey, not sleeping will make it
so your keyboard input wakes up the monitor immediately

SendMessage 0x112, 0xF170, 1,,Program Manager ; send the monitor into
standby (off) mode

Return



;———————

#n:: ;;Create New Folder on Win-N

wingetclass, class, A

if class not in CabinetWClass,ExploreWClass

  return


controlgettext, currentpath, Edit1, ahk_class %class%


InputBox, UserInput, New folder, New folder name, , 130,
130,,,,,NewFolder

if ErrorLevel = 0

{

   ifExist, %currentpath%/%UserInput%

       FileCreateDir, %currentpath%/%UserInput%_1

   else

       FileCreateDir, %currentpath%/%UserInput%

}

Send {F5}

return
</pre>
Thanks in advance!

<pre>
On Dec 22 2009, 7:18 pm, Chris Dekter wrote:
> 2009/12/23 Luke Faraone:

>
>
> > Anyway, any conversions at this point would have to be made by hand. Maybe
> > somebody here could help if you posted some of the scripts you wanted to
> > cross over.
>
> This is probably the best idea. I'm happy to assist with this as well.
</pre>
<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Post your favourite scripts/tips</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">Chris D said…</font></h3>

1/3/10.

I am planning to expand the Sample Scripts wiki page with some more ideas on clever uses of AutoKey.  I would be very interested to receive suggestions for additions to this page - post them here on the group for all to see.

<h3><font color="#FF4500">Derek said…</font></h3>

1/3/10.

I use this to automate a search on something Python-related that I have selected:

text = clipboard.get_selection() window.activate("Firefox") if window.wait_for_focus(".`*`Firefox.`*`"): keyboard.send_keys("<ctrl>+t") keyboard.send_keys("<tab>python "+text+"<enter>")

This assumes Firefox is already open somewhere.  The <tab> gets the cursor into the search box for my browser configuration.  It might have to be adjusted if your search box is somewhere else.  Otherwise, you could just put the google url with search terms into the url box.

Derek.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Moving Autokey to another machine</font></h1>

3 posts by 2 authors.

<h3><font color="#FF4500">mototom800 said…</font></h3>

12/30/09.

I'm getting my 200 or so abbreviations into AutoKey but I'd like to only do this once.  How do I migrate my work to my other machines?

GREAT TOOL!!!!

Thanks.

<h3><font color="#FF4500">Derek said…</font></h3>

12/30/09.

Translate message to English mototom800,  You can copy this file to the equivalent location on each machine:

<pre>
~/.config/autokey/autokey.bin
</pre>
This line in /usr/share/pyshared/autokey/configmanager.py controls that:

<pre>
CONFIG_FILE = os.path.expanduser("~/.config/autokey/autokey.bin")
</pre>
Derek.

<h3><font color="#FF4500">mototom800 said…</font></h3>

12/31/09.

Thanks.  Derek.  I suspected it would be that easy.  Glad to know it is.

Happy New year!!!

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Moving Windows with Autokey?</font></h1>

7 posts by 4 authors.

<h3><font color="#FF4500">fharper said…</font></h3>

12/29/09.

Hi All.

I was so happy to find Autokey, it's a really cool Linux replacement for Autohotkeys on Windows!  And I think it has way more potential since it's based on a standard programming language instead of some ad~hoc macro language.

On Windows I used to use Winsplit revolution which allows you to move and tile windows very easily using the keyboard.  I miss it quite a lot now in Linux.  Has anyone done anything similiar using Autokey?  If not could someone suggest which API accessible from Python I could use to write some scripts that would allow doing so?

Frank.

<h3><font color="#FF4500">Chris D said…</font></h3>

12/29/09.

There is the window class which is already part of AutoKey's scripting API: <tt>http://autokey.sourceforge.net/apidoc-gtk</tt>  It supports moving and resizing windows, although I think for what you want to do a tiling window manager might be a better fit.

2009/12/30 fharper:

<h3><font color="#FF4500">Frank Harper said…</font></h3>

12/30/09.

Thanks for the pointer to the Autokey API.

Yes, maybe I should take a look at xmonad, awesome or one of the other tiling WMs.  Although it looks like it could be fairly easy to do what I want just using Autokey.

My first test script moves/resizes the active window to occupy the left half of my main monitor:

<pre>
window.resize_move(':ACTIVE:', xOrigin=0, yOrigin=0, width=950, height=1200)
</pre>
Obviously I would like to get rid of the hard coded window width and height, using something like:

<pre>
window.resize_move(':ACTIVE:', xOrigin=0, yOrigin=0,
width=window.width()/2, height=window.height()/2)
</pre>
Perusing the API, I didn't see any way to get the width/height of a window.  Did I miss something?  If not, I think this would be a nice feature to add.

I would also like to share code between scripts.  Where should I put a Python module that I 'import' from an Autokey script?

<h3><font color="#FF4500">Frank Harper said…</font></h3>

12/30/09.

In my previous message, I meant to say 'display' not 'window'.

So my ideal code would be:

<pre>
window.resize_move(':ACTIVE:', xOrigin=0, yOrigin=0,
width=display.width()/2, height=display.height()/2)
</pre>
<pre>
> Perusing the API, I didn't see any way to get the width/height of a
> window. Did I miss something? If not, I think this would be a nice
> feature to add.
</pre>
Being able to get the widths/heights of the displays is even more important.

<h3><font color="#FF4500">Chris D said…</font></h3>

12/30/09.

2009/12/30 Frank Harper:

<pre>
> Perusing the API, I didn't see any way to get the width/height of a window.
> Did I miss something? If not, I think this would be a nice feature to add.
</pre>
No you didn't miss anything - the API doesn't support this as yet.  I'll put that on my to-do list for the next release.

<pre>
> I would also like to share code between scripts. Where should I put a Python
> module that I 'import' from an Autokey script?
</pre>
This is also on my to-do list :) There is no straight-forward way to do it at the moment.

<h3><font color="#FF4500">Derek said…</font></h3>

12/30/09.

Chris.

I have a mostly complete extension to the Window class scripting API that I was working on for doing this sort of thing.  I'll clean it up a bit and email it to you.

Derek.

<h3><font color="#FF4500">Frank Harper said…</font></h3>

12/30/09.

Winsplit with Autokey scripts Below is the script I hacked up to move/resize and tile windows the way I want from the keyboard.  It is a clone of Winsplit Revolution.

To see what it does, the easiest is probably to look at <tt>http://www.winsplit-revolution.com/screenshots</tt>.  The video shows very well what the idea is.

This version is quit painfull to install because it requires copying and pasting the script 9 times!  I hope Autokey will soon have a script mode that would require just pasting the script once and also being able to assign values for the hotkeys from within the script definition.  This is one area where I think AutoHotKey does it better than Autokey.

<pre>
# Winsplit Script starts here
# Installation instructions:
# 0 - Create a new top level folder called winsplit 0.1 (optional)
# 1 - Change values for display_width and display_height (see below) to
      match those of your monitor.
# 2 - Create new Autokey script using the OPERATION_NAME ( 'down_left',
      etc.),
# 2 - Paste this text into script
# 3 - Uncomment a "return" line from list below
#       All other 8 lines return must be commented out.
# 4 - Configure the hotkey that launches this script. A 3x3 grid of keys
      is recommened.
#         On a QWERTY keyboard I like these hotkeys
#                    U I O
#                     J K L
#                    M < >
#          The numeric keypad is also a good solution.
#
# 5 - Save your new settings.
#
# 6 - Select a resizable window, and launch script using the hotkey the
      you just defined
#       The window should move and change size. Press same hotkey twice
        more and see the difference.
#
# 7 - Repeat from step 2 until all 9 copies of the script are installed
#
#OPERATION_NAME= 'down_left'
#OPERATION_NAME= 'down'
#OPERATION_NAME= 'down_right'
#OPERATION_NAME= 'left'
#OPERATION_NAME= 'middle'
#OPERATION_NAME= 'right'
#OPERATION_NAME= 'up_left'
#OPERATION_NAME= 'up'
#OPERATION_NAME= 'up_right'

def display_width ():
    return 1900

def display_height ():
    return 1200


import logging
import os
import sys

VERSION= "0.1"

#
# Move/resize the active window using the keyboard.
#
def main ():
    logging.debug("Winsplit " + VERSION + " OPERATION_NAME=" +
OPERATION_NAME)
    previous_op= get_value('previous_op')

    # This is used to determine if the previous window movement operation
    # was done on the same window.
    previous_win_id= get_value('previous_win_id')

    win_id= active_window_id();

#    logging.debug("previous_op='" + previous_op + "'")
#    logging.debug("win_id='" + win_id + "'")
#    logging.debug("previous_win_id='" + previous_win_id + "'")
    if OPERATION_NAME == previous_op and win_id == previous_win_id:
        repetition= int(get_value('repetition')) + 1
    else:
        repetition= 0

    # Save values for next execution
    set_value('previous_op', OPERATION_NAME)
    set_value('previous_win_id', win_id)
    set_value('repetition', repetition)

    layouts= layout_settings[OPERATION_NAME]
    (x_origin_percent, y_origin_percent, width_percent, height_percent)
= layouts[repetition % len(layouts)]
    logging.debug("x_origin_percent='" + str(x_origin_percent) + "'")
    logging.debug("y_origin_percent='" + str(y_origin_percent) + "'")
    logging.debug("width_percent='" + str(width_percent) + "'")
    logging.debug("height_percent='" + str(height_percent) + "'")

    x_origin= int(display_width() `*` x_origin_percent)
    y_origin= int(display_height() `*` y_origin_percent)
    width= int(display_width() `*` width_percent)
    height= int(display_height() `*` height_percent)

    window.resize_move(':ACTIVE:', xOrigin=x_origin, yOrigin=y_origin,
width=width, height=height)

def active_window_id ():
    # xprop is limited to displaying at most 4 bytes of each property,
to avoid printing large buffers
    # and reducing the chance of the regexp making a false match.
    output= system.exec_command('xprop -root -len 4')
    match= re.search(r'_NET_ACTIVE_WINDOW\(WINDOW\): window id #
(0x[0-9a-f]+)', output)
    if not match:
        raise Exception, "Couldn't find active window. xprop output=" +
output
    win_id = match.group(1)
    logging.debug("win_id='" + win_id + "'")
    return win_id

env_var_prefix= 'winsplit_'

def  get_value(name):
    # First solution: use Autokey store.
    # Values aren't shared between scripts
    #try:
    #   previous_op= store.get_value('previous_op')
    #except KeyError, ke:
    #   previous_op= None

    value= os.environ.get(env_var_prefix + name)
    logging.debug('get_value:' + name + "='" + str(value) + "'")
    return value

def  set_value(name, value):
    value= str(value)
    os.environ[env_var_prefix + name]= value
    logging.debug('set_value:' + name + "='" + str(value)  + "'")

layout_settings= {
    'down_left': [
        [0, 0.5, 0.5,       0.5],
        [0, 0.5, 0.3333, 0.5],
        [0, 0.5, 0.6667, 0.5],
    ],
    'down': [
        [0,          0.5, 1,          0.5],
        [0.3333, 0.5, 0.3333, 0.5],
    ],
    'down_right': [
        [0.5,          0.5, 0.5,          0.5],
        [0.66667,  0.5, 0.3333,    0.5],
        [0.3333,    0.5, 0.6667,    0.5],
    ],
    'left': [
        [0, 0, 0.5,       1],
        [0, 0, 0.3333, 1],
        [0, 0, 0.6667, 1],
    ],
    'middle': [
        [0,          0, 1,          1],
        [0.3333, 0, 0.3333, 1],
        [0.1667, 0, 0.6667, 1],
    ],
    'right': [
        [0.5,          0, 0.5,          1],
        [0.6667, 0, 0.3333, 1],
        [0.3333, 0, 0.6667, 1],
    ],
    'up_left': [
        [0, 0, 0.5,       0.5],
        [0, 0, 0.3333, 0.5],
        [0, 0, 0.6667, 0.5],
    ],
    'up': [
        [0,      0, 1,          0.5],
        [0.33, 0, 0.3333, 0.5],
    ],
    'up_right': [
        [0.5, 0, 0.5,       0.5],
        [0.6667, 0, 0.3333, 0.5],
        [0.3333, 0, 0.6667, 0.5],
    ],
}
# Run the script
main()
# Script ends here
</pre>
<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: abbr.ini</font></h1>

3 posts by 2 authors.

<h3><font color="#FF4500">marshag63 said…</font></h3>

12/29/09.

Can we still import our abbr.ini or where are the abbreviations added?

I thought of another way to add blocks of text to autokey - copy each snippet of text to a document until they can be added to the abbr.ini in bulk, though that does not give one immediate access without having to "import" or whatever we do now.

MarshaG.

<h3><font color="#FF4500">Chris D said…</font></h3>

12/29/09.

The import function was deprecated a long time ago - the code is still there but it doesn't work any more.  I am working on a solution to this adding of abbreviations and I'll have something ready in a week or two.

2009/12/30 marshag63:

<h3><font color="#FF4500">marshag63 said…</font></h3>

12/29/09.

Chris, AWESEOME!!

Two thumbs up!

MarshaG.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: automate adding blocks of text to autokey</font></h1>

7 posts by 3 authors.

<h3><font color="#FF4500">marshag63 said…</font></h3>

12/27/09.

I was wondering if there is a way to automate adding new phrases to a specific folder - the goal would be for it to work like when adding autotext/autocorrect in MSWord.

User would highlight text to be used for new phrase, then trigger script or whatever to copy this into the new phrase dialog(in new phrase description and phrase content boxes), in a specific folder, then the user would just have to choose the abbreviation and expansion/ shortcut options, and then it would save and close the dialog window, leave the highlighted text as it was in the document, but unhighlighted and ready for more text input.

MarshaG.

<h3><font color="#FF4500">Chris D said…</font></h3>

12/27/09.

These are just separate clipboard storages available under X.  X selection is normally filled by highlighting text with your mouse, and pasted using the middle mouse button.  Clipboard is similar to the windows clipboard.

<pre>
2009/12/28 marshag63:
> I have another question - what's the difference between copy text into
> X selection and copy to clipboard?
>
> Thanks
>
> MarshaG.
>
> On Dec 27, 12:58 pm, marshag63 wrote:
>> Hi!  I'm wondering how to go about making a script to automate adding
>> phrases of blocked/highlighted/selected text to a certain folder in
>> autokey - kind of like how autocorrect/autotext work in MS Word -
>> where the text is already dropped into "phrase name and phrase
>> content" boxes and all I would need to do is choose an abbreviation.
>>
>> Its a great program!  I would like to pull together a tutorial on
>> using autokey - there's so much it can do - its amazing!
>>
>> MarshaG.
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

12/27/09.

At the moment there is no way to automate it, as scripts don't have access to the necessary internals of the program.  I could look into adding the necessary bits for the next release so you can try it out.

2009/12/28 marshag63:

<h3><font color="#FF4500">Chris D said…</font></h3>

12/27/09.

I am not sure what workflow this is - it doesn't sound like anything I deliberately added.  Can you take some screenshots?

<pre>
2009/12/28 marshag63:
> I don't see a way to edit my posts - sorry for making a mess!
>
> I just realized that if I use a preset abbreviation for my
> abbreviation folder - I have all my abbreviations show up along with
> "New Phrase" and "New Script"  -  can new phrase be put at the top of
> the list or how can I modify this.
>
> Also, when I choose the "New Phrase" option from the list I get a
> prompt "Enter phrase contents here" and I do, but then I am stuck as
> to what to do.
>
> Thanks
>
> MarshaG.
>
</pre>
<h3><font color="#FF4500">marshag63 said…</font></h3>

12/27/09.

Chris, I realized the "New Phrase" and "New Script" were entries I made when experimenting with phrases and not completing the entry - so it ended up New Phrase or New Script, so I deleted them.  I also spent a little time and reorganized as best I could my top level folders (was unable to bulk move them).  Is there a way to organize the top~level folders so that a specific one is always the first one - I do realize that typing the first letter of the folder with jump to that folder.

I noticed when experimenting that if I highlighted text to copy into a new phrase for autokey and did not already have autokey running, used Ctrl + K shortcut I made to bring up the configuration box, autokey would loose its focus within the dialog box, where when it is already running the focus would be on the left side in the folder directory tree - didn't know if anyone else has mentioned it.

One thing I do so love about autokey is the ability to use a shortcut to pop-up a folder's entries - right now I just have a handful so I can see them all.  I do notice some double letters when I choose an abbreviation from the pop-up list by starting to type the first few letters of the entry - I'm guessing that has to do with me having assigned an abbreviation to the entry rather than just picking it from the pop-up list or something along those lines, so it would be a good guideline to not assign any abbreviation to phrases used from the pop~up?

Autokey really is an amazing program and I can't wait until its included with linux distros  :)

MarshaG.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

12/28/09.

I recently wrote the "post of the month" to a Swedish computer magazine called Datormagazinet ("The comnputer magazine" â€" "dator"=computer, "magazin"=magazine and "et" at the end is "the" at the beginning.) and they wanted to send me a t-shirt so a DVD movie, so they asked me which one I'd like, and when replying I didn't miss the opportunity to mention that they should have a look at AutoKey (they have a Linux section in their magazine â€" I wouldn't buy it otherwise), and they actually replied to it and. well, of course they couldn't promise anything but they didn't say no.  It seemed like they thought it was an interesting piece of software from my short description.

Anyway, about that New Phrase thing, there is something I miss from earlier versions of Autokey, ant that's the possibillity to copy and paste phrases.  For example, I have a folder called "file suffixes" in which I have a lot of file suffixes phrases, that converts those to upper case, so when I am writing about audio files, for example, I don't need to hit Shift very often when mentioning FLAC, OGG and so on.  Everytime I run into a file suffix that is,'t already configured in Autokey, it would be very easy to add it by just copying one of the others and then edit the new copy without having to change anything other thing than text.

Johnny Rosenberg.

<h3><font color="#FF4500">marshag63 said…</font></h3>

12/28/09.

Here is an example of the steps I want to automate (with comments about each step):

<pre>
#Enter script code
keyboard.send_keys("<ctrl>+<c>") #copies selected text
text = clipboard.get_selection()
keyboard.send_keys("<delete>") #deletes  c  from document
keyboard.send_keys("<ctrl>+<k>") #open autokey configuration window
window.wait_for_exist(Configuration - AutoKey, timeOut=5) #wait for
window existence
wait_for_focus(Confirugration - AutoKey, timeOut=-5) #wait for window
focus
keyboard.send_key("<M>") #first letter of folder for focus to jump to
keyboard.send_key("<right>") #move cursor right to expand folder
keyboard.send_keys("<ctrl>+<n>") #command to create new phrase
keyboard.send_key("<tab>") #move cursor to script name input box
clipboard.get_clipboard () #paste copied contents
keyboard.send_key("<tab>") #move to phrase content field
keyboard.send_keys("<ctrl>+<shift>+<end>") #highlight  Enter Phrase
Here
keyboard.send_key("<delete>") #delete highlighted text
clipboard.get_clipboard () #paste clipboard contents here
keyboard.send_keys("<tab><tab><tab><space>") #move cursor to
abbreviation configure field
</pre>
Of course, I havent' gotten any of this to actually work  :)

MarshaG.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Macro record and replay</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">Marco Diego said…</font></h3>

12/28/09.

The macro record and replay feature vi is very very useful.  Having this kind of feature system-wide would be great.

Where can I suggest this in a wishlist?

<h3><font color="#FF4500">Chris D said…</font></h3>

12/28/09.

This list is as good a place as anything.

2009/12/29 Marco Diego:

<pre>
> The macro record and replay feature vi is very very useful. Having
> this kind of feature system-wide would be great.
>
> Where can I suggest this in a wishlist?
>
</pre>
<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Any interest in a couchdb/desktopcouch backend?</font></h1>

8 posts by 4 authors.

<h3><font color="#FF4500">jwhitlark said…</font></h3>

11/26/09.

I was thinking that it's a pain to set these up across all my machines, so I've been looking at the code to see how much work it would be to have an alternate storage engine based on couchdb.

What do you think?

In other news, happy Thanksgiving!

~J

<h3><font color="#FF4500">tbeld said…</font></h3>

11/27/09.

I use Dropbox to sync across machines.  Works like a charm.

<h3><font color="#FF4500">MAWSpitau said…</font></h3>

11/27/09.

<pre>
Am Freitag, 27. November 2009 schrieb Tony Beld:
> I use Dropbox to sync across machines. Works like a charm.
</pre>
Same here! :D

<h3><font color="#FF4500">Chris D said…</font></h3>

11/27/09.

Dropbox seems like a good simple solution.  I think there are numerous other ways you could also do this (rsync).  I'm not familiar with couchdb but I had a quick look and it kinda seems like overkill (correct me if I'm wrong).  If you wanted to build a super-simple user friendly way to do this, it would be easy to create a setup where one instance of AutoKey running on a machine acts as a config server, and all other machines connect to it and download their config from there.

2009/11/28 MAWSpitau:

<h3><font color="#FF4500">jwhitlark said…</font></h3>

12/22/09.

Straight couchdb might be overkill, you're right.  I was thinking more of the new Ubuntu desktopcouch stuff.  (A personal oauth secured couchdb is installed by default on 9.10, and is used to sync with ubuntuOne).  Since they are going through all the work of setting up replication, I though it might be easy to piggyback, and get replication (almost) for free.

Take a look at:

<pre>
https://launchpad.net/desktopcouch
http://www.freedesktop.org/wiki/Specifications/desktopcouch
http://www.kryogenix.org/days/2009/09/03/desktop-couch-irc-talk
</pre>
for more info.

Thanks.

~Jason   <h3><font color="#FF4500">Chris D said…</font></h3>


12/22/09.

That sounds interesting - I'll look into it.

2009/12/23 jwhitlark:

<h3><font color="#FF4500">Chris D said…</font></h3>

12/22/09.

I think the simplest approach would be to create an alternative persistence backend that instead of pickling to a file on disk, pickles to memory, base 64 encode and then store in a CouchRecord.  If you want to have a go at this I'd be glad to help out - otherwise I might work on it over the break if I have time.

2009/12/23 Chris Dekter:

<h3><font color="#FF4500">jwhitlark said…</font></h3>

12/23/09.

I'm going to take a closer look at it over the break.  I'll ping you if I get anywhere.

~J

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: RuntimeError: could not open display</font></h1>

5 posts by 3 authors.

<h3><font color="#FF4500">JDA said…</font></h3>

12/18/09.

Hi.

I'm hoping someone can help me in trying to run AutoKey on Fedora 10.  As suggested in another post in this group, I did the following:

As root:

<pre>
1. Download and expand "autokey-gtk_0.61.1.tar.gz"
2. python setup.py install                   (didn't show any errors)
3. cp debian/autokey-gtk.init /etc/init.d/autokey
4. chmod a+x /etc/init.d/autokey
5. chkconfig —add autokey
6. service autokey start
</pre>
The "service autokey start" command resulted in these messages:

Traceback (most recent call last):

<pre>
  File "/etc/init.d/autokey", line 16, in <module>
    from autokey.interface import DOMAIN_SOCKET_PATH, PACKET_SIZE
  File "/usr/lib/python2.5/site-packages/autokey/interface.py", line
38, in <module>
    import gtk
  File "/usr/lib/python2.5/site-packages/gtk-2.0/gtk/__init__.py",
line 79, in <module>
    _init()
  File "/usr/lib/python2.5/site-packages/gtk-2.0/gtk/__init__.py",
line 67, in _init
    _gtk.init_check()
RuntimeError: could not open display
</pre>
From a little searching on that message, I got the impression that it might be related to the DISPLAY variable, which on my system is ": 0.0".

Can anyone give me a hint as to what the problem is, or what debugging steps I should try next?  By the way, my system does normally run an older version of AutoKey (0.50.0), which is apparently of an older architecture in that it doesn't use any "/etc/rc.d/init.d" mechanism like the new one does.  (And I did shut the old one down before trying to start the new version.)

Thanks.

Jim   <h3><font color="#FF4500">Chris D said…</font></h3>


12/19/09.

Are you running the service command from a remote ssh terminal or a console with no X server attached?  That would cause this symptom.

2009/12/19 JDA:

<h3><font color="#FF4500">JDA said…</font></h3>

12/20/09.

I am running these commands from an xterm window directly on the machine.  I can run commands such as xeyes or xclock with no problems.  Since my first post I have also tried this on a Fedora 11 system, with the same results.  I don't know much about Python, but am wondering if there's a way to turn on debug mode, so I could see what exactly is failing.

Thanks.

<h3><font color="#FF4500">Derek said…</font></h3>

12/20/09.

JDA.

Start AutoKey at the command line with this:

autokey -l  That's a lowercase L.  That will show you the debug logging messages while it runs.

Derek.

<h3><font color="#FF4500">JDA said…</font></h3>

12/21/09.

I have solved this problem.  I don't know how non-Fedora systems are configured, but I tracked this problem down to the "/sbin/service" command on my systems.  The "service" command is a shell script that uses a command beginning with "env -i…" to invoke the given service startup script from the /etc/rc.d/init.d directory.  Well, the "-i" option says to not inherit any environment variables from the caller of the "service" command, which results in no DISPLAY variable being set, and thus the inability to open the display.

So the fix for this was to modify the "/etc/rc.d/init.d/autokey" startup script.  Near the beginning of that script are these statements:

import sys, os, socket, glob, shutil, time from autokey import evdev, daemon  from autokey.interface import DOMAIN_SOCKET_PATH, PACKET_SIZE

I inserted an additional statement, so these statements now look like this:

import sys, os, socket, glob, shutil, time from autokey import evdev, daemon os.environ["DISPLAY"]=":0.0"

from autokey.interface import DOMAIN_SOCKET_PATH, PACKET_SIZE

The new "os.environ" statement must precede the last statement.

There is probably a more elegant solution to this problem, but at least this workaround gets AutoKey working.

Thanks for your help!

Jim   <br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: How can i export my snippets?</font></h1>


3 posts by 2 authors.

<h3><font color="#FF4500">Ney said…</font></h3>

12/17/09.

Hi, i don't wanna loose my snippets when i have to reinstall my os, how can i export my snippets?

Thanks.

<h3><font color="#FF4500">Luke Faraone said…</font></h3>

12/17/09.

<pre>
On Thu, Dec 17, 2009 at 06:48, Ney wrote:
Hi, i don't wanna loose my snippets when i have to reinstall my os,
 how can i export my snippets?
</pre>
You want to backup the ~/.config/autokey directory.

—Luke Faraone.

<h3><font color="#FF4500">Ney said…</font></h3>

12/20/09.

Thank you Luke.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Suggestion (if not already implented)</font></h1>

15 posts by 4 authors.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

12/5/09.

It would be nice with some kind of calculating functionality, like expanding a formula to its result, maybe using a syntax like OpenOffice.org Calc/MS Excel and so on:

=2+3/8 should expand to: 2,375 (or 2.375 for those who use "." as decimal separator)

Maybe including some nice functions, such as sqr(x) and pwr(x,y).  Some contants woudl also be nice, such as Ï€ (pi) and a few more.

But to begin with, +-`*`/^ would do, I guess.

Is this already doable with a script, perhaps?

Johnny Rosenberg.

<h3><font color="#FF4500">Derek said…</font></h3>

12/7/09.

Johnny.

Yes, it's already there.  All of the Python language is available to your scripts, so for example:

# get square of same area as circle import math from __future__ import division  # Ensures floating point division. radius_text = "2+3/8" radius = eval(radius_text)  # Evaluates string as a Python expression. circle_area = math.pi `*` math.pow(radius, 2) square_side = math.sqrt(circle_area) square_area = math.pow(square_side, 2) square_side_text = str(square_side)  # Converts number to string. square_side_text_alt = square_side_text.replace('.', ',')

Check out <tt>http://docs.python.org/library/math.html</tt>  Derek.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

12/7/09.

<pre>
2009/12/7 Derek:
> Johnny.
>
> Yes, it's already there.  All of the Python language is available to
> your scripts, so for example:
>
> # get square of same area as circle
> import math
> from __future__ import division  # Ensures floating point division.
> radius_text = "2+3/8"
> radius = eval(radius_text)  # Evaluates string as a Python expression.
> circle_area = math.pi `*` math.pow(radius, 2)
> square_side = math.sqrt(circle_area)
> square_area = math.pow(square_side, 2)
> square_side_text = str(square_side)  # Converts number to string.
> square_side_text_alt = square_side_text.replace('.', ',')
>
> Check out http://docs.python.org/library/math.html
>
> Derek.
</pre>
So I need to be some kind of a programmer to implement a thing like that?

Johnny Rosenberg.

<h3><font color="#FF4500">Luke Faraone said…</font></h3>

12/7/09.

<pre>
On Mon, Dec 7, 2009 at 12:46, Johnny Rosenberg wrote:
 So I need to be some kind of a programmer to implement a thing like that?
</pre>
Well, just as you needed to learn the syntax for using Excel's functions, if you want to do advanced calculations with Autokey, you need to use Python's functions.

Autokey lets you write in a scripting language, and one that is already widely used outside of Autokey.  There are plenty of resources for learning it, but the basics you need to know are covered in Derek's post.

—Luke Faraone.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

12/7/09.

2009/12/7 Luke Faraone:

OK.  Thanks (for making me feel stupid - I really love that feeling.).

Johnny Rosenberg.

<h3><font color="#FF4500">Derek said…</font></h3>

12/7/09.

Johnny.

:-D  no  I think this script may do what you have in mind:

<pre>
# Evaluate selected text and replace it with a number
from __future__ import division  # Ensures floating point division.
from math import `*`
text = clipboard.get_selection()
number = eval(text)
output = str(number)
clipboard.fill_clipboard(output)
keyboard.send_keys(output)
</pre>
Put this script in AutoKey, assign it a hotkey, then select some text like:

2`*`4 or pi`*`pow(4, 2) or sqrt(2)

When you press the hotkey, the selected text will be evaluated and replaced with the result.  Check that link I gave you for more math functions you can use.

Derek.

<pre>
On Dec 7, 9:59 am, Johnny Rosenberg wrote:
> 2009/12/7 Luke Faraone:
</pre>
<h3><font color="#FF4500">Derek said…</font></h3>

12/7/09.

Actually, that last line should be:

<tt>keyboard.send_keys("<ctrl>+v")</tt>

Derek.

<h3><font color="#FF4500">Chris D said…</font></h3>

12/7/09.

Good work, this is exactly how I would have done it.

2009/12/8 Derek:

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

12/9/09.

<pre>
2009/12/8 Chris Dekter:
> Good work, this is exactly how I would have done it.
>
> 2009/12/8 Derek:
>> Johnny.
>>
>> :-D  no
>>
>> I think this script may do what you have in mind:
>>
>> # Evaluate selected text and replace it with a number
>> from __future__ import division  # Ensures floating point division.
>> from math import `*`
>> text = clipboard.get_selection()
>> number = eval(text)
>> output = str(number)
>> clipboard.fill_clipboard(output)
>> keyboard.send_keys(output)
>>
>> Put this script in AutoKey, assign it a hotkey, then select some text
>> like:
>>
>>    2`*`4
</pre>
Assigned the script to alt+ctrl+shift+m.  Highlighted "2`*`4", pressed ctrl+shift+alt+m, nothing happened.  Hit ctrl+v, the result was 88. (8 typed twice).

But it wouldn't be possible to assignt a script to "=", evaluating the text after the "=" when hitting a space or Enter?  Such as this:

<pre>
Key    Display
=             =
1             =1
+             =1+
2             =1+2
â†µ             3
</pre>
Johnny Rosenberg.

<h3><font color="#FF4500">Chris D said…</font></h3>

12/9/09.

<pre>
2009/12/10 Johnny Rosenberg:
> Assigned the script to alt+ctrl+shift+m. Highlighted "2`*`4", pressed
> ctrl+shift+alt+m, nothing happened. Hit ctrl+v, the result was 88. (8
> typed twice).
</pre>
I would get rid of the clipboard.fill_clipboard() statement.  It's better to just send the output via keyboard.send_keys().  Either that or cross-check your script against Derek's original script - it doesn't quite match and that's why it's not working for you.

<pre>>
> But it wouldn't be possible to assignt a script to "=", evaluating the
> text after the "=" when hitting a space or Enter?
> Such as this:
> Key    Display
> =             =
> 1             =1
> +             =1+
> 2             =1+2
> â†µ             3
>
</pre>
At the moment this is not possible.  You would need access in your script to AutoKey's internal key buffer - not impossible to set up, just not possible as it stands.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

12/10/09.

<pre>
2009/12/10 Chris Dekter:
> 2009/12/10 Johnny Rosenberg:
>> Assigned the script to alt+ctrl+shift+m. Highlighted "2`*`4", pressed
>> ctrl+shift+alt+m, nothing happened. Hit ctrl+v, the result was 88. (8
>> typed twice).
>
> I would get rid of the clipboard.fill_clipboard() statement. It's
> better to just send the output via keyboard.send_keys(). Either that
> or cross-check your script against Derek's original script - it
> doesn't quite match and that's why it's not working for you.
</pre>
Strange.  I copied and pasted it directly. and I can't see the difference.  Here's what I have:

<pre>
from __future__ import division  # Ensures floating point division.
from math import `*`
text = clipboard.get_selection()
number = eval(text)
output = str(number)
clipboard.fill_clipboard(output)
keyboard.send_keys("<ctrl>+v")
</pre>
Derek originally had "keyboard.send_keys(output)" as his last row, but he said that I should replace it by the one I have now: Derek said…"Actually, that last line should be:

<tt>keyboard.send_keys("<ctrl>+v")"</tt>

Or am I missing something else?

Johnny Rosenberg.

<h3><font color="#FF4500">Derek said…</font></h3>

12/10/09.

Johnny.

That all looks correct.  Maybe you are using it in a different environment?  I have Ubuntu 8.04, and I'm using "AutoKey (GTK UI) 0.61.0a".  I assigned it to Alt+Shift+8.  It works in Gedit and it works here in Google Groups in Firefox.  I haven't found it to not work anywhere.

You might try Chris's suggestion and replacing the last two lines with this:

<tt>keyboard.send_keys(output)</tt>

I used the clipboard pasting technique because each keystroke takes a little time, and for a longer string, like '3.14159265359' sending Ctrl-V outputs faster.

Derek.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

12/11/09.

<pre>
2009/12/10 Derek:
> Johnny.
>
> That all looks correct.  Maybe you are using it in a different
> environment?  I have Ubuntu 8.04, and I'm using "AutoKey (GTK UI)
> 0.61.0a".  I assigned it to Alt+Shift+8.  It works in Gedit and it
> works here in Google Groups in Firefox.  I haven't found it to not
> work anywhere.
>
> You might try Chris's suggestion and replacing the last two lines with
> this:
> keyboard.send_keys(output)
>
> I used the clipboard pasting technique because each keystroke takes a
> little time, and for a longer string, like '3.14159265359' sending
> Ctrl-V outputs faster.
</pre>
Thanks.  Seems to work now, when I replaced those two last lines.  The only thing now to "complain" about is that it doesn't seem to use the system default decimal separator (Swedish decimal separator=comma, but I get a decimal point instead).

Johnny Rosenberg.

<h3><font color="#FF4500">Derek said…</font></h3>

12/11/09.

Johnny.

There's probably a smarter way (conforming to the system default), but as a quick fix you can just edit this line to replace periods with commas:

<pre>
output = str(number).replace('.', ',')
</pre>
Derek.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

12/11/09.

<pre>
2009/12/11 Derek:
> Johnny.
>
> There's probably a smarter way (conforming to the system default), but
> as a quick fix you can just edit this line to replace periods with
> commas:
>
> output = str(number).replace('.', ',')
</pre>
Did the replace, but I can't test it.  Nothing is happening (that hotkey thing doesn't work very good on my system - sometimes it works, but most of the time it does not).

Thanks for the hint, though.

Johnny Rosenberg.

P.S.  Seems like Autokey crashed, so I restarted it, and now it works.  So does the replace thing.  Thanks!  D.S.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: status icon for Ubuntu karmic</font></h1>

3 posts by 3 authors.

<h3><font color="#FF4500">Abhishek Dasgupta said…</font></h3>

12/11/09.

I made a status icon which fits in with the Humanity style icons introduced in Ubuntu karmic.  If you like it, copy it to /usr/share/pixmaps/akicon.png.  When autokey restarts you'll get the new icon.  I've also attached a screenshot of how it looks like on my status bar.

Abhishek Attachments (2) akicon.png 3 KB   View   Download akscreenshot.png 4 KB   View   Download   <h3><font color="#FF4500">Chris D said…</font></h3>


12/11/09.

This is nice - I'll incorporate it into the GTK version for the next release.  Thanks :)

2009/12/11 Abhishek Dasgupta:

<h3><font color="#FF4500">Derek said…</font></h3>

12/11/09.

I'm waiting for Lucid in April to upgrade from Hardy, so I'm still on the older theme.  But that looks really good with the new style in the screenshot.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Mouse input to trigger scripts?</font></h1>
 1 post by 1 author
<h3><font color="#FF4500">Derek said…</font></h3>

11/30/09.

Chris.

I see the recorder catching mouse button clicks along with window titles.  Could mouse input be used to trigger a script?

I think you might want to require that a window title be part of the condition, or at least require some kind of override option to allow otherwise.

It would also be helpful if you could (optionally) specify ranges for the relative coordinates, so you could, e.g., limit the trigger to clicks within the client area.

And if this could be combined with modifier keys, it could provide a lot of room for customization.  For example, a <button_3> in Gedit would just be ignored by AutoKey and work normally, but a <ctrl> +<button_3> would run an AutoKey script that brings up your own editing menu.

Derek.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Function key as hotkey?</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">Patrick Starfish said…</font></h3>

11/29/09.

I would like to make a function key be a hotkey, but Autokey complains that I must have a modifier key with it.  I was using a video program called Miro which has a fullscreen function, and I wanted to make it recognize F11 as a trigger for fullscreen, like most Gnome video apps, but I had to make it <super>+<F11> as otherwise I got a complaint dialog.  Can it be made to accept just F11 ?

Thanks.  Patrick   <h3><font color="#FF4500">Chris D said…</font></h3>


11/30/09.

At the moment this is not possible.  The issue is not just the validation in the dialog, but at every level within AutoKey, a hotkey is defined as a chord with at least one modifier key.  It would require fairly extensive modification to get single-key hotkeys working.  It's something I have thought about in the past, but never really looked into further.

2009/11/30 Patrick Starfish:

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: AutoKey 0.61.0 released</font></h1>

12 posts by 2 authors.

<h3><font color="#FF4500">Chris D said…</font></h3>

11/27/09.

A new version has just been uploaded to the PPA.  The highlights:

<pre>
 • Mouse class - your scripts can now send mouse events (relative or absolute).
 • The "Record Keyboard" function is now a record macro function. It no
longer just inserts the key codes into your script. It will produce an
instantly runnable script that duplicates the actions you recorded.
 • Errors occurring during the execution of a script are now captured
and there is a dialog where you can view them, to help you debug your
scripts.
 • Few other minor tweaks (should work on Gentoo now).
</pre>
<h3><font color="#FF4500">MAWSpitau said…</font></h3>

11/28/09.

Hi Chris.

thanks for uploading the new version, but it does not work for me.  When I am starting autokey I get this error-msg.  It worked yesterday very well.

<tt>http://www.ubuntu-pics.de/bild/32444/screenshot_027_Iu7jfC.png</tt>

Does anybody has an idea what is going on here?

Bye Marcel   <h3><font color="#FF4500">Chris D said…</font></h3>


11/28/09.

Looks like this is caused by a bug in the pyatspi package in Karmic.  The autokey package doesn't install fully as a result.  I fixed it by running this:

sudo apt-get -f install autokey  or if you are using the gtk version:

sudo apt-get if install autokey-gtk  2009/11/28 Marcel Spitau:

<h3><font color="#FF4500">MAWSpitau said…</font></h3>

11/28/09.

Translate message to English Hi Chris.

<pre>
Am Samstag, 28. November 2009 schrieb Chris Dekter:
> Looks like this is caused by a bug in the pyatspi package in Karmic.
> The autokey package doesn't install fully as a result. I fixed it by
> running this:
>
> sudo apt-get -f install autokey
</pre>
Nothing happened in my case.

<pre>
—schnipp—
apt-get -f install autokey
Paketlisten werden gelesen…Fertig
AbhÃ¤ngigkeitsbaum wird aufgebaut
Lese Status-Informationen ein…Fertig
autokey ist schon die neueste Version.
0 aktualisiert, 0 neu installiert, 0 zu entfernen und 0 nicht aktualisiert.
—schnapp—
</pre>
But I installed the package you were talking about by hand.

<tt>aptitude install python-pyatspi</tt>

It installed a bunch of things, but autokey won't work either and brought me the same error-message, than in my last e-mail.

Thanks for helping : Marcel   <h3><font color="#FF4500">Chris D said…</font></h3>


11/28/09.

Translate message to English.  Try re-installing AutoKey.

2009/11/28 MAWSpitau:

<h3><font color="#FF4500">MAWSpitau said…</font></h3>

11/28/09.

Translate message to English.

Yeah!  Yo made my day.  THANKS a lot!

Marcel  2009/11/28 Chris Dekter:

<h3><font color="#FF4500">MAWSpitau said…</font></h3>

11/28/09.

Mhm, it is to weird!

After a while having autokey started it stops working.  No errormessages, no nothing, just don't replacing my shortcuts:

Quitting it and trying to restart it gives me the upper posted error-message!  Reinstalling in with:

<pre>
aptitude reinstall autokey
</pre>
makes it starting, but not working again.  That is weird isn't it?

KDE 4.3.3 - Kubuntu karmic 64bit.

Cya Marcel   <h3><font color="#FF4500">Chris D said…</font></h3>


11/28/09.

Maybe the daemon is dying.  Can you post the contents of the log at /var/log/autokey-daemon.log?

2009/11/29 Marcel Spitau:

<h3><font color="#FF4500">MAWSpitau said…</font></h3>

11/28/09.

Of course I can:

<tt>http://pastebin.ca/1691091</tt>

Thanks Marcel   <h3><font color="#FF4500">Chris D said…</font></h3>

11/28/09.

Well done, you found the first bug in v0.61 :P I'll put a patch out tomorrow.  In the mean time, you can avoid it by not pressing the middle button on your mouse:

2009/11/29 Marcel Spitau:

<h3><font color="#FF4500">MAWSpitau said…</font></h3>

11/28/09.

Hi Chris.

<pre>
2009/11/28 Chris Dekter:
> Well done, you found the first bug in v0.61 :P
</pre>
Yay!  But YOU found it, I just reported :D.

<pre>
> I'll put a patch out
> tomorrow. In the mean time, you can avoid it by not pressing the
> middle button on your mouse:
</pre>
That is not an option ;) But looking forward to tomorrow.  Thanks for helping!

Cya Marcel   <h3><font color="#FF4500">MAWSpitau said…</font></h3>


11/29/09.

Hi there.

<pre>
2009/11/28 Chris Dekter:
> Well done, you found the first bug in v0.61 :P I'll put a patch out
> tomorrow. In the mean time, you can avoid it by not pressing the
> middle button on your mouse:
</pre>
New Version works fine, even if I press the middle button ;)

Thanks a lot Marcel   <br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: text expansion works only for the first user to log in on multi-user system</font></h1>


2 posts by 2 authors.

<h3><font color="#FF4500">Dmitri said…</font></h3>

11/27/09.

Autokey-gtk 0.60.7a does not seem to work properly on Ubuntu system (Karmic) with multiple users enabled.  The text expansion works only for the first user to log in.

<h3><font color="#FF4500">Chris D said…</font></h3>

11/27/09.

This is a limitation of the EvDev interface - the daemon runs in a single thread so it can only accept a connection from a single running instance of AutoKey.  It's not really a high priority to improve this as Record should be fixed in the next 6 months, eliminating the need to use EvDev.

2009/11/28 Dmitri:

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Autokay-gtk stopped working without an abvious reason.</font></h1>

7 posts by 3 authors.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

11/22/09.

Autokey-gtk 0.60.7a Ubuntu 8.10

I don't know what I did to make this happen (everything worked perfectly until yesterday.).  Neither do I know what to do about it.  I did this so far, none of it was successful: Uncheck "Enable expansions" and check it again.  Restart Autokey-gtk.  Restart Ubuntu.

It's the abbreviation thing that doesn't work.

I realize that nobody can possibly figure out how I can solve this problem, so I am only asking for suggestions for debugging my problem.

Johnny Rosenberg.

<h3><font color="#FF4500">Chris D said…</font></h3>

11/22/09.

If you quit AutoKey, you can then start it from the command line with the following command:

autokey -l  This will run it with the debug logging turned on.  In the terminal, each time you press a key you should see it logged.

Chris.

2009/11/23 Johnny Rosenberg:

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

11/22/09.

<pre>
2009/11/22 Chris Dekter:
> If you quit AutoKey, you can then start it from the command line with
> the following command:
>
> autokey -l
>
> This will run it with the debug logging turned on. In the terminal,
> each time you press a key you should see it logged.
>
> Chris
</pre>
Thanks.  Here are the results:

After I started Autokey, I opened GEdit for experimenting.  I have an abbreviation "osv" which should expand to "och sÃ¥ vidare" (meaning "and so on" if anyone want to know), so I enter an "o" in GEdit.  This is the response to that:

<pre>
"DEBUG - interface - Window name: `*`Osparat dokument 1 - gedit
DEBUG - service - Key: o
Exception in thread KeypressHandler-thread:
Traceback (most recent call last):
  File "/usr/lib/python2.5/threading.py", line 486, in __bootstrap_inner
    self.run()
  File "/usr/lib/python2.5/site-packages/autokey/iomediator.py", line
189, in run
    target.handle_keypress(key, windowName)
  File "/usr/lib/python2.5/site-packages/autokey/service.py", line
145, in handle_keypress
    currentInput, windowName, True)
  File "/usr/lib/python2.5/site-packages/autokey/service.py", line
232, in __checkTextMatches
    if item.check_input(buffer, windowName):
  File "/usr/lib/python2.5/site-packages/autokey/model.py", line 335,
in check_input
    abbr = self._should_trigger_abbreviation(buffer)
  File "/usr/lib/python2.5/site-packages/autokey/model.py", line 63,
in _should_trigger_abbreviation
    stringBefore, typedAbbr, stringAfter = self._partition_input(buffer)
  File "/usr/lib/python2.5/site-packages/autokey/model.py", line 110,
in _partition_input
    stringBefore, typedAbbr, stringAfter =
currentString.rpartition(self.abbreviation)
ValueError: empty separator"
</pre>
I then hit the s and v:

<pre>
"DEBUG - interface - Window name: `*`Osparat dokument 1 - gedit
DEBUG - interface - Window name: `*`Osparat dokument 1 - gedit"
</pre>
No expanfing happens.  Can you see by help from this what's going wrong?  Something doesn't seem right, that just about all I can see.

Johnny Rosenberg.

<h3><font color="#FF4500">Derek said…</font></h3>

11/23/09.

Johnny.

I wonder if maybe one of your abbreviation definitions has an error in it.

Each time you press a key, AutoKey runs the function that checks what you typed against your defined abbreviations.

Line 110 in model.py:

<pre>
stringBefore, typedAbbr, stringAfter = currentString.rpartition
(self.abbreviation)
</pre>
Uses each of your abbreviations as a separator to check if one of them was typed.

"ValueError: empty separator" suggests that one of those abbreviations is an empty string.

To troubleshoot, you could add logging to the model.py script in /usr/ share/pyshared/autokey:

<pre>
Change line 19 to this:
    import re, logging
</pre>
Add this line at line 111 (just below and tab aligned with stringBefore…)

<pre>
    logging.debug("model.py line111 self.abbreviation:
"+self.abbreviation)
</pre>
Then start AutoKey at the command line with "autokey -l".  Watch the command line output as you start typing in gedit.  Each time you press a key it should list your abbreviations as they are checked, in the order that they appear in the configuration list.  If it stops with an error before a certain abbreviation, then you might want to just delete and redefine that one.

I hope this helps.  The extra logging slows things down a lot, so you probably want to change it back when you're done.

Derek.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

11/23/09.

<pre>
2009/11/23 Derek:
> Johnny.
>
> I wonder if maybe one of your abbreviation definitions has an error in
> it.
>
> Each time you press a key, AutoKey runs the function that checks what
> you typed against your defined abbreviations.
> Line 110 in model.py:
> stringBefore, typedAbbr, stringAfter = currentString.rpartition
> (self.abbreviation)
> uses each of your abbreviations as a separator to check if one of them
> was typed.
>
> "ValueError: empty separator" suggests that one of those abbreviations
> is an empty string.
</pre>
Correct!  I don't know why, but you are right!  Found it, corrected it, restarted Autokey.  Works again!

Thanks!

Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">Chris D said…</font></h3>

11/23/09.

Well spotted…the other question is how did this state of affairs come about, considering the validation in the GUI should prevent you from having an empty abbreviation:

2009/11/24 Johnny Rosenberg:

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

11/24/09.

<pre>
2009/11/24 Chris Dekter:
> Well spotted…the other question is how did this state of affairs
> come about, considering the validation in the GUI should prevent you
> from having an empty abbreviation:
</pre>
I am not sure how it happened.  One clue could be that the abbreviation that suddenly was empty was the last one I created, but that's maybe obvious.

I tried to create one empty abbreviation right now, but failed, so the validation seems to work.

Johnny Rosenberg.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: mouse class?</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">Jose Quesada said…</font></h3>

11/17/09.

Hi.

After reading the docs, I find that a mouse class is missing.  Ideally, what I want to do is to map right click to middle-click in FF.  But I don't see a way to do this with the current classes.

Any feedback?  Would this be possible?

If not, do you know of any tool that could do this?

Thanks!

<h3><font color="#FF4500">Chris D said…</font></h3>

11/17/09.

There is a mouse class (available to scripts), but it won't do what you're asking.  At the moment at least, AutoKey only responds to keyboard input, so there would be no way to achieve what you are trying to do.  Not sure if any other program can do it - maybe a Firefox plugin is available for this purpose?

Chris.

2009/11/18 Jose Quesada:

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: More problems with autokey-gtk</font></h1>

8 posts by 3 authors.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

10/31/09.

I have just started to add new phrases and scripts, but here are some examples (keyboard abbreviations > the actual script or phrase):

<pre>
joh > Johnny Rosenberg
da > output = system.exec_command("date +%F") keyboard.send_keys(output)
ti > output = system.exec_command("date +%T") keyboard.send_keys(output)
dati > output = system.exec_command("date +%F %T") keyboard.send_keys(output)
</pre>
joh works well, but the others don't.

da: It outputs the current date, in this case 2009-10-31.

To make it easier to explain, I will use some special characters in the text below, so you need the UTF-8 character encoding to view it correctly, but UTF-8 is default anyway in Ubuntu and most other distros, I suppose:

<pre>
â–® Cursor position (a vertical black rectangle)
â†µ The Enter key when I hit it.
Â¶ End of resulting line.
</pre>
> To the left of this arrow is my input.  To the right is the result.

<pre>
Here are some examples with the da script:
daâ†µ > 2009-10-31â–®Â¶
daâ†µâ†µ > 2009-10-31Â¶
Â¶
Â¶
â–®Â¶
daâ†µ > â–®Â¶
daâ†µ > daÂ¶
â–®Â¶
</pre>
As you can see, Autokey stopped responding by now, and I need to shut it down and then restart it to make it work again.

All tests were done using the GEdit text editor.  Ubuntu 8.10 (yes, the old version from october 2008)

The ti script works like the da script, but the dati script doesn't work at all.  Maybe it doesn't like the space character between %F and %T?  Doing this manually in a terminal this will work:

<pre>
date "+%F %T"
This won't work:
date +%F %T
</pre>
Johnny Rosenberg.

<h3><font color="#FF4500">Derek said…</font></h3>

10/31/09.

Johnny.

I tried out your scripts.  I'm running a similar setup, autokey-gtk on 8.04.

I found the behavior of the abbreviation output is much more consistent if, when you assign the abbreviation, you check the option, "Omit trigger character."  Otherwise the <enter> seems to get mixed up in the output somehow, or maybe it just gets confusing because it's delayed.

The dati script has no output because the command "date +%F %T" fails.  Try it out on the command line to see.

You can also define these within Python:

<pre>
da:
import datetime
output = str(datetime.date.today())
keyboard.send_keys(output)

ti:
import datetime
output = datetime.datetime.today().strftime("%I:%M:%S")
keyboard.send_keys(output)

dati:
import datetime
output = datetime.datetime.today().strftime("%Y-%m-%d %I:%M:%S")
keyboard.send_keys(output)
</pre>
Derek.

<h3><font color="#FF4500">Derek said…</font></h3>

10/31/09.

Sorry, I missed the last part about "date +%F %T".  You could write it this way, using apostrophes to do the quoting:

<pre>
output = system.exec_command("date '+%F %T'")
keyboard.send_keys(output)
</pre>
Derek.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

10/31/09.

<pre>
2009/10/31 Derek:
> Sorry, I missed the last part about "date +%F %T".  You could write it
> this way, using apostrophes to do the quoting:
>
> output = system.exec_command("date '+%F %T'")
> keyboard.send_keys(output)
</pre>
Thanks.  That works for me.

I also tried omitting the trigger character and it seems to work too.  Is there a way to edit the script so it outputs the trigger character at the end of the script?  That could be a workaround I think, couldn't it?

Johnny Rosenberg.

P.S.  Today Autokey seems to work in Opera (my signature above is an Autokey phrase), which it didn't a few days ago, and I don't think I upgraded since then.  Strange.  D.S.

<h3><font color="#FF4500">Derek said…</font></h3>

10/31/09.

Without checking the "Omit" option, the trigger should be output following the script, and it seems to work fine if you use the space key, but if you use the enter key, it's somehow delayed until you type again.

If you know you will only use the enter key as the trigger, you could check "Omit" and put this at the end of your script: keyboard.send_keys('<enter>')

From what Chris said, the Opera problem is a timing issue (or at least the workaround is), so maybe it's sensitive to random factors that affect the timing of one process relative to another.

Derek.

<h3><font color="#FF4500">Chris D said…</font></h3>

10/31/09.

<pre>
2009/11/1 Johnny Rosenberg:
> 2009/10/31 Derek:
>> Sorry, I missed the last part about "date +%F %T".  You could write it
>> this way, using apostrophes to do the quoting:
>>
>> output = system.exec_command("date '+%F %T'")
>> keyboard.send_keys(output)
>
> Thanks. That works for me.
>
> I also tried omitting the trigger character and it seems to work too.
> Is there a way to edit the script so it outputs the trigger character
> at the end of the script? That could be a workaround I think, couldn't
> it?
</pre>
Nope, it would be doing exactly the same thing that leaving 'omit trigger' unchecked does.  What you have hit upon is a limitation of this kind of application on X - since AutoKey is sending keyboard events via the same channels that you are when you are typing, inevitably if you type fast enough the events can get mixed up.  There is no way around this problem, as the human typing is the random variable in this equation.  It is a race condition inherent in the design and one reason why I haven't taken AutoKey's development a lot further.

<pre>
> Johnny Rosenberg
>
> P.S. Today Autokey seems to work in Opera (my signature above is an
> Autokey phrase), which it didn't a few days ago, and I don't think I
> upgraded since then. Strange.
> D.S.
</pre>
As Derek said, this can be due to other programs running on your PC at the time consuming CPU time, making the sending of events from AutoKey slightly slower, and hence the problem comes and goes.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

11/1/09.

<pre>
2009/11/1 Chris Dekter:
> 2009/11/1 Johnny Rosenberg:
>> 2009/10/31 Derek:
>>> Sorry, I missed the last part about "date +%F %T".  You could write it
>>> this way, using apostrophes to do the quoting:
>>>
>>> output = system.exec_command("date '+%F %T'")
>>> keyboard.send_keys(output)
>>
>> Thanks. That works for me.
>>
>> I also tried omitting the trigger character and it seems to work too.
>> Is there a way to edit the script so it outputs the trigger character
>> at the end of the script? That could be a workaround I think, couldn't
>> it?
>
> Nope, it would be doing exactly the same thing that leaving 'omit
> trigger' unchecked does. What you have hit upon is a limitation of
> this kind of application on X - since AutoKey is sending keyboard
> events via the same channels that you are when you are typing,
> inevitably if you type fast enough the events can get mixed up.
</pre>
But I think I got exactly the same result no matter how fast or slow I typed, and when doing those tests, I typed very slow.  I actually waited for a couple of seconds before hitting the Enter key.  Well, I guess that you are right anyway somehow, I just wanted to add that to the record in case it's solvable after all.

I am still on Ubuntu 8.10.  Will these problems persist when I install 9.10 (which I will do from scratch)?

Johnny Rosenberg.

<h3><font color="#FF4500">Chris D said…</font></h3>

11/1/09.

I tried your tests today, and there is indeed a bug with newlines which is causing the various problems you are seeing.  Upgrading to 9.10 won't change this, as it is a problem with AutoKey.  If you upgrade, you will also need to switch to using the EvDev interface (record doesn't work in 9.04 or 9.10 - I am working on a patch for X at the moment that will fix this).

Incidentally, if you found 9.04 didn't run well for you, 9.10 will likely be the same - I downgraded my laptop to 8.10 last night as it has Intel onboard video and the performance is once again dismal.

2009/11/1 Johnny Rosenberg:

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Autokey-gtk</font></h1>

11 posts by 4 authors.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

10/26/09.

I just installed the gtk version of Autokey, but how do I start the program?  I installed it from the repository and the OS is Ubuntu 8.10.  I can't find an icon to start the program anywhere.  The KDE version was started with an icon at Programs > Accessories, but there is no such icon there now.

Johnny Rosenberg.

<h3><font color="#FF4500">Derek said…</font></h3>

10/26/09.

My installation put it in Applications > Accessories > AutoKey.

Otherwise, you can type autokey at the command line.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

10/26/09.

2009/10/26 Derek:

<pre>
> My installation put it in Applications > Accessories > AutoKey.
>
> Otherwise, you can type autokey at the command line.
</pre>
Yes, I can.  Here's the result:

When the configuration window pops up I get the following in the terminal.  Is this normal?

<pre>
"/usr/lib/python2.5/site-packages/autokey/ui/configwindow.py:526:
GtkWarning: gtk_menu_attach_to_widget(): menu already attached to
GtkImageMenuItem
  create.set_menu(menu)
/usr/lib/python2.5/site-packages/autokey/ui/configwindow.py:42:
GtkWarning: Unknown property: GtkCheckButton.response-id
  builder.add_from_file(uiFile)
/usr/lib/python2.5/site-packages/autokey/ui/configwindow.py:42:
GtkWarning: Unknown property: GtkButton.response-id
  builder.add_from_file(uiFile)
/usr/lib/python2.5/site-packages/autokey/ui/configwindow.py:42:
GtkWarning: gtk_tree_row_reference_new: assertion `GTK_IS_TREE_MODEL
(model)' failed
  builder.add_from_file(uiFile)
/usr/lib/python2.5/site-packages/autokey/ui/configwindow.py:42:
GtkWarning: gtk_cell_view_set_displayed_row: assertion
`GTK_IS_TREE_MODEL (cell_view->priv->model)' failed
  builder.add_from_file(uiFile)"
</pre>
Johnny Rosenberg.

<pre>
On Oct 26, 11:28 am, Johnny Rosenberg wrote:
>> I just installed the gtk version of Autokey, but how do I start the
>> program? I installed it from the repository and the OS is Ubuntu 8.10.
>> I can't find an icon to start the program anywhere. The KDE version
>> was started with an icon at Programs > Accessories, but there is no
>> such icon there now.
>>
>> Johnny Rosenberg
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

10/26/09.

<pre>
2009/10/27 Johnny Rosenberg:
>
> 2009/10/26 Derek:
>>
>> My installation put it in Applications > Accessories > AutoKey.
>>
>> Otherwise, you can type autokey at the command line.
>
</pre>
If the icon is not appearing under Accessories, there is some misconfiguration with your DE.  You can check that the .desktop file exists in /usr/share/applications (it's called autokey.desktop).  If it's there, use the menu editor to enable it in your Accessories menu.

<pre>
> Yes, I can. Here's the result:
>
> When the configuration window pops up I get the following in the
> terminal. Is this normal?
>
> "/usr/lib/python2.5/site-packages/autokey/ui/configwindow.py:526:
> GtkWarning: gtk_menu_attach_to_widget(): menu already attached to
> GtkImageMenuItem
>  create.set_menu(menu)
> /usr/lib/python2.5/site-packages/autokey/ui/configwindow.py:42:
> GtkWarning: Unknown property: GtkCheckButton.response-id
>  builder.add_from_file(uiFile)
> /usr/lib/python2.5/site-packages/autokey/ui/configwindow.py:42:
> GtkWarning: Unknown property: GtkButton.response-id
>  builder.add_from_file(uiFile)
> /usr/lib/python2.5/site-packages/autokey/ui/configwindow.py:42:
> GtkWarning: gtk_tree_row_reference_new: assertion `GTK_IS_TREE_MODEL
> (model)' failed
>  builder.add_from_file(uiFile)
> /usr/lib/python2.5/site-packages/autokey/ui/configwindow.py:42:
> GtkWarning: gtk_cell_view_set_displayed_row: assertion
> `GTK_IS_TREE_MODEL (cell_view->priv->model)' failed
>  builder.add_from_file(uiFile)"
>
</pre>
This is fine - just some bugs in the gtk-builder code causing warnings when loading the Glade-generated XML files.

<h3><font color="#FF4500">Derek said…</font></h3>

10/26/09.

I get Gtk warnings at the command line too, but they don't seem to cause trouble.

Is it working for you?

Derek.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

10/27/09.

<pre>
2009/10/27 Derek:
> I get Gtk warnings at the command line too, but they don't seem to
> cause trouble.
>
> Is it working for you?
</pre>
Seems to work for me, but not when writing Email (Gmail, web browser=Opera).  For example my name doesn't end up right:

Joohnnny Rrseebg  Should be Johnny Rosenberg.

Actually it doesn't seem to work in Opera at all.

Works perfectly in GEdit, for example.

<h3><font color="#FF4500">Derek said…</font></h3>

10/27/09.

I haven't had any trouble like that.  I have email signatures on abbreviations and they type out perfectly in Thunderbird or Firefox.  I don't have Opera.

Which interface (Configure>Edit>Preferences>Interface) are you using?  I have Ubuntu 8.04, but I started somehow with EvDev, had trouble, and then switched to XRecord which has been working well.  XRecord is recommended for X.org Server 1.5 or older, which, if your running Ubuntu, corresponds to Ubuntu 8.10 or older.

Derek.

<h3><font color="#FF4500">Chris D said…</font></h3>

10/27/09.

<pre>
2009/10/28 Johnny Rosenberg:
>
> 2009/10/27 Derek:
>>
>> I get Gtk warnings at the command line too, but they don't seem to
>> cause trouble.
>>
>> Is it working for you?
>
> Seems to work for me, but not when writing Email (Gmail, web
> browser=Opera). For example my name doesn't end up right:
>
> Joohnnny Rrseebg
>
> Should be Johnny Rosenberg.
>
> Actually it doesn't seem to work in Opera at all.
>
> Works perfectly in GEdit, for example.
</pre>
This is because Opera is based on QT4, which has a bug which results in garbled text input when the key events arrive at very high speed (as it does with AutoKey).  AutoKey has a workaround built in, but it is disabled in the GTK version.  Next release, I'll bring back the setting to enable this so you can have it turned on if you wish.  It does make the 'pasting' of phrases slightly slower, but allows you to use AutoKey in apps that are built with QT4.  Fwiw newer versions of QT no longer have this bug, so some future version of Opera might fix the problem.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

10/28/09.

<pre>
2009/10/27 Derek:
>
> I haven't had any trouble like that.  I have email signatures on
> abbreviations and they type out perfectly in Thunderbird or Firefox.
> I don't have Opera.
</pre>
Works fine in Firefox for me too.  Well, I don't need it very much in Opera anyway, since there are some features in Opera eliminating this need a bit (Paste Note and Paste Personal).

Johnny Rosenberg.

<h3><font color="#FF4500">Alex Bepple said…</font></h3>

10/28/09.

<pre>
> This is because Opera is based on QT4, which has a bug which results
> in garbled text input when the key events arrive at very high speed
> (as it does with AutoKey). AutoKey has a workaround built in, but it
> is disabled in the GTK version.
</pre>
Is this the reason why Autokey-GTK does not work properly in Skype either?

<h3><font color="#FF4500">Derek said…</font></h3>

10/28/09.

Probably.  Skype uses QT4.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: autokey and python-xlib-14.0</font></h1>

9 posts by 3 authors.

<h3><font color="#FF4500">roelof said…</font></h3>

10/25/09.

Hello.

I now trying to make autokey-gtk work with xlib-14,0.  But when I want to run autokey I get this error message:

<pre>
Unable to get session bus: Did not receive a reply. Possible causes include:
The remote application did not send a reply,
The message bus security policy blocked the reply,
The reply timeout expired, or the network connection was broken.
</pre>
Can this be a autokey problem ??

Roelof   <h3><font color="#FF4500">Chris D said…</font></h3>


10/25/09.

This is the same version of python-xlib that has been around for many versions of Ubuntu (at least since Hardy).  The error message relates to the dbus session bus which is used to communicate with the libnotify daemon, and is nothing to do with xlib.  The dbus component is not essential to the functioning of AutoKey, so any problems you are having will not be due to this message.

2009/10/25 roelof:

<h3><font color="#FF4500">roelof said…</font></h3>

10/25/09.

Oke.

Then I must look further.

Since I installed this version the error-message pups up and nothing happens.

Roelof   <h3><font color="#FF4500">roelof said…</font></h3>


10/25/09.

Hello.

When i do autokey—verbose I see this:

<pre>
 autokey —verbose
INFO - root - Initialising application
INFO - config-manager - Loading config from existing file: /
root/.config/autokey/autokey.bin
INFO - root - Initialise global hotkeys
INFO - config-manager - Successfully loaded configuration file
DEBUG - config-manager - Global settings: {'showTrayIcon': True,
'windowDefaultSize': (600, 436), 'undoUsingBackspace': True,
'enableQT4Workaround': False, 'promptToSave': True, 'interfaceType':
'XEvDev', 'showToolbar': True, 'serviceRunning': True, 'isFirstRun':
False, 'sortByUsageCount': True, 'inputSavings': 0, 'hPanePosition':
150, 'menuTakesFocus': False}
INFO - service - Starting service
DEBUG - interface - Keycodes dict: {'<alt_gr>': 92, '<page_up>': 112,
'<f12>': 96, '<f10>': 76, '<ctrl>': 105, '<f9>': 75, '<alt>': 108, '
': 65, '<up>': 111, '<capslock>': 66, '<pause>': 127, '<home>': 110,
'<numlock>': 77, '<f1>': 67, '<f7>': 73, '<f5>': 71, '<f3>': 69,
'<tab>': 23, '<shift>': 62, '<left>': 113, '<backspace>': 22,
'<scroll_lock>': 78, '<escape>': 9, '<down>': 116, '<f8>': 74,
'<delete>': 119, '<f11>': 95, '<super>': 134, '<print_screen>': 107,
'<end>': 115, '<right>': 114, '<menu>': 135, '<f2>': 68, '<insert>':
118, '<page_down>': 117, '<f6>': 72, '<enter>': 36, '<f4>': 70}
DEBUG - interface - Alt-Grid: XK_Alt_R, 65514
DEBUG - interface - [(92, 0), (92, 2), (92, 4)]
DEBUG - interface - X Server Keymap
DEBUG - interface - [\] : [(51, 0), (51, 2), (51, 4)]
DEBUG - interface - [|] : [(51, 1), (51, 3), (94, 4), (51, 5)]
DEBUG - interface - [`] : [(49, 0), (49, 2), (49, 4)]
DEBUG - interface - [1] : [(10, 0), (10, 2), (10, 4)]
DEBUG - interface - [2] : [(11, 0), (11, 2), (11, 4)]
DEBUG - interface - [3] : [(12, 0), (12, 2), (12, 4)]
DEBUG - interface - [4] : [(13, 0), (13, 2), (13, 4)]
DEBUG - interface - [5] : [(14, 0), (14, 2), (14, 4)]
DEBUG - interface - [6] : [(15, 0), (15, 2), (15, 4)]
DEBUG - interface - [7] : [(16, 0), (16, 2), (16, 4)]
DEBUG - interface - [8] : [(17, 0), (17, 2), (17, 4)]
DEBUG - interface - [9] : [(18, 0), (18, 2), (18, 4)]
DEBUG - interface - [0] : [(19, 0), (19, 2), (19, 4)]
DEBUG - interface - [-] : [(20, 0), (20, 2), (20, 4)]
DEBUG - interface - [=] : [(21, 0), (21, 2), (21, 4)]
DEBUG - interface - [~] : [(49, 1), (49, 3), (49, 5)]
DEBUG - interface - [!] : [(10, 1), (10, 3), (10, 5)]
DEBUG - interface - [@] : [(11, 1), (11, 3), (11, 5)]
DEBUG - interface - [#] : [(12, 1), (12, 3), (12, 5)]
DEBUG - interface - [$] : [(13, 1), (13, 3), (13, 5)]
DEBUG - interface - [%] : [(14, 1), (14, 3), (14, 5)]
DEBUG - interface - [^] : [(15, 1), (15, 3), (15, 5)]
DEBUG - interface - [&] : [(16, 1), (16, 3), (16, 5)]
DEBUG - interface - [`*`] : [(17, 1), (17, 3), (17, 5)]
DEBUG - interface - [(] : [(187, 0), (18, 1), (187, 2), (18, 3), (187,
4), (18, 5)]
DEBUG - interface - [)] : [(188, 0), (19, 1), (188, 2), (19, 3), (188,
4), (19, 5)]
DEBUG - interface - [q] : [(24, 0), (24, 2), (24, 4)]
DEBUG - interface - [w] : [(25, 0), (25, 2), (25, 4)]
DEBUG - interface - [e] : [(26, 0), (26, 2), (26, 4)]
DEBUG - interface - [r] : [(27, 0), (27, 2), (27, 4)]
DEBUG - interface - [t] : [(28, 0), (28, 2), (28, 4)]
DEBUG - interface - [y] : [(29, 0), (29, 2), (29, 4)]
DEBUG - interface - [u] : [(30, 0), (30, 2), (30, 4)]
DEBUG - interface - [i] : [(31, 0), (31, 2), (31, 4)]
DEBUG - interface - [o] : [(32, 0), (32, 2), (32, 4)]
DEBUG - interface - [p] : [(33, 0), (33, 2), (33, 4)]
DEBUG - interface - [[] : [(34, 0), (34, 2), (34, 4)]
DEBUG - interface - []] : [(35, 0), (35, 2), (35, 4)]
DEBUG - interface - [a] : [(38, 0), (38, 2), (38, 4)]
DEBUG - interface - [s] : [(39, 0), (39, 2), (39, 4)]
DEBUG - interface - [d] : [(40, 0), (40, 2), (40, 4)]
DEBUG - interface - [f] : [(41, 0), (41, 2), (41, 4)]
DEBUG - interface - [g] : [(42, 0), (42, 2), (42, 4)]
DEBUG - interface - [h] : [(43, 0), (43, 2), (43, 4)]
DEBUG - interface - [j] : [(44, 0), (44, 2), (44, 4)]
DEBUG - interface - [k] : [(45, 0), (45, 2), (45, 4)]
DEBUG - interface - [l] : [(46, 0), (46, 2), (46, 4)]
DEBUG - interface - [;] : [(47, 0), (47, 2), (47, 4)]
DEBUG - interface - ['] : [(48, 0), (48, 2), (48, 4)]
DEBUG - interface - [z] : [(52, 0), (52, 2), (52, 4)]
DEBUG - interface - [x] : [(53, 0), (53, 2), (53, 4)]
DEBUG - interface - [c] : [(54, 0), (54, 2), (54, 4)]
DEBUG - interface - [v] : [(55, 0), (55, 2), (55, 4)]
DEBUG - interface - [b] : [(56, 0), (56, 2), (56, 4)]
DEBUG - interface - [n] : [(57, 0), (57, 2), (57, 4)]
DEBUG - interface - [m] : [(58, 0), (58, 2), (58, 4)]
DEBUG - interface - [,] : [(59, 0), (59, 2), (59, 4)]
DEBUG - interface - [.] : [(60, 0), (60, 2), (60, 4)]
DEBUG - interface - [/] : [(61, 0), (61, 2), (61, 4)]
DEBUG - interface - [Q] : [(24, 1), (24, 3), (24, 5)]
DEBUG - interface - [W] : [(25, 1), (25, 3), (25, 5)]
DEBUG - interface - [E] : [(26, 1), (26, 3), (26, 5)]
DEBUG - interface - [R] : [(27, 1), (27, 3), (27, 5)]
DEBUG - interface - [T] : [(28, 1), (28, 3), (28, 5)]
DEBUG - interface - [Y] : [(29, 1), (29, 3), (29, 5)]
DEBUG - interface - [U] : [(30, 1), (30, 3), (30, 5)]
DEBUG - interface - [I] : [(31, 1), (31, 3), (31, 5)]
DEBUG - interface - [O] : [(32, 1), (32, 3), (32, 5)]
DEBUG - interface - [P] : [(33, 1), (33, 3), (33, 5)]
DEBUG - interface - [{] : [(34, 1), (34, 3), (34, 5)]
DEBUG - interface - [}] : [(35, 1), (35, 3), (35, 5)]
DEBUG - interface - [A] : [(38, 1), (38, 3), (38, 5)]
DEBUG - interface - [S] : [(39, 1), (39, 3), (39, 5)]
DEBUG - interface - [D] : [(40, 1), (40, 3), (40, 5)]
DEBUG - interface - [F] : [(41, 1), (41, 3), (41, 5)]
DEBUG - interface - [G] : [(42, 1), (42, 3), (42, 5)]
DEBUG - interface - [H] : [(43, 1), (43, 3), (43, 5)]
DEBUG - interface - [J] : [(44, 1), (44, 3), (44, 5)]
DEBUG - interface - [K] : [(45, 1), (45, 3), (45, 5)]
DEBUG - interface - [L] : [(46, 1), (46, 3), (46, 5)]
DEBUG - interface - [:] : [(47, 1), (47, 3), (47, 5)]
DEBUG - interface - ["] : [(48, 1), (48, 3), (48, 5)]
DEBUG - interface - [Z] : [(52, 1), (52, 3), (52, 5)]
DEBUG - interface - [X] : [(53, 1), (53, 3), (53, 5)]
DEBUG - interface - [C] : [(54, 1), (54, 3), (54, 5)]
DEBUG - interface - [V] : [(55, 1), (55, 3), (55, 5)]
DEBUG - interface - [B] : [(56, 1), (56, 3), (56, 5)]
DEBUG - interface - [N] : [(57, 1), (57, 3), (57, 5)]
DEBUG - interface - [M] : [(58, 1), (58, 3), (58, 5)]
DEBUG - interface - [<] : [(94, 0), (59, 1), (94, 2), (59, 3), (59,
5)]
DEBUG - interface - [>] : [(60, 1), (94, 1), (60, 3), (94, 3), (60,
5)]
DEBUG - interface - [?] : [(61, 1), (61, 3), (61, 5)]
INFO - interface - Attempting to establish connection to EvDev daemon
INFO - interface - EvDev daemon connected
INFO - interface - EvDev interface thread starting
INFO - service - Service now marked as running
libnotify-Message: Unable to get session bus: Did not receive a reply.
Possible causes include: the remote application did not send a reply,
the message bus security policy blocked the reply, the reply timeout
expired, or the network connection was broken.
INFO - root - Entering main()
</pre>
After that no window is seen ?

Roelof   <h3><font color="#FF4500">roelof said…</font></h3>


10/25/09.

Hello.

When I start autokey verbose I get this message:

INFO - root - Initialising application INFO - config-manager - Loading config from existing file: /home/ roelof/.config/autokey/autokey.bin INFO - root - Initialise global hotkeys INFO - config-manager - Successfully loaded configuration file DEBUG - config-manager - Global settings: {'showTrayIcon': True, 'windowDefaultSize': (600, 462), 'undoUsingBackspace': True,  But no window  :(

Roelof.

<pre>
On Oct 25, 1:03 pm, roelof wrote:
</pre>
<h3><font color="#FF4500">mfseeker said…</font></h3>

10/25/09.

Python debuggers?  Chris and Company's recent work making scripts available in Autokey has lured some of us into the world of Python script writing.  Beyond the simplest of scripts we need a debugger.  What do you guys use and recommend? pdb will only take me so far.  I'd like a GUI editor/debugger.  There's lots of them.  Again, what do you like?

<h3><font color="#FF4500">Chris D said…</font></h3>

10/25/09.

The window is only displayed on startup the first time you run AutoKey.  After that, you can access it by right-clicking the status icon and selecting "Configure".

<h3><font color="#FF4500">Chris D said…</font></h3>

10/25/09.

Re: Python debuggers?  Personally, I don't use debuggers - my preference is to judiciously insert print statements to output whatever values I'm interested in.  Doing it this way (I feel) requires you to think more deeply about what the program is doing and promotes a better understanding of it as a result (ymmv).

2009/10/26 Stan Armstrong:

<h3><font color="#FF4500">roelof said…</font></h3>

10/28/09.

Re: Python debuggers?

My problem is solved by reloading the dbus.

Roelof.

<pre>
> of them. Again, what do you like?- Tekst uit oorspronkelijk bericht niet weergeven -
>
> - Tekst uit oorspronkelijk bericht weergeven
</pre>
<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: hotkey setting lockup in karmic beta ?</font></h1>

9 posts by 2 authors.

<h3><font color="#FF4500">Patrick Starfish said…</font></h3>

10/22/09.

Hi! and thanks for all the effort put into AutoKey!

I have been trying out 0.60.7a with Ubuntu Karmic Koala beta (with Gnome).  It works with phrases, but I cannot set hotkeys.  When I try to set a key, it locks up and I have to kill it off.  I click the "press to set" button, it completely stops responding after that, no matter what key I hit, and clicking the close button or anything else doesn't work.

So I'm just wondering, is it just me or what?

Patrick   <h3><font color="#FF4500">Chris D said…</font></h3>


10/22/09.

Works for me…what interface are you using (Interface tab of Preferences dialog)?

2009/10/23 Patrick Starfish:

<h3><font color="#FF4500">Patrick Starfish said…</font></h3>

10/22/09.

X EvDev, but I think I figured out the problem.

I think there was/is a conflict with Gnome Do.  It has its own hotkey trigger and I guess AutoKey doesn't work with it, as I disabled it and then the AutoKey set key button started working.  Hmm, well I guess Autokey works all right with it except for defining the keys, so I just have to turn off Gnome Do when I want to define a new hotkey and then I can turn it back on, as a workaround.

<h3><font color="#FF4500">Chris D said…</font></h3>

10/22/09.

Very interesting - I use gnome-do as well and don't have this problem.  I'm using the Record interface however.

<h3><font color="#FF4500">Patrick Starfish said…</font></h3>

10/22/09.

Darn, it seems erratic as now gnome-do is not running but the problem came back.

<h3><font color="#FF4500">Patrick Starfish said…</font></h3>

10/24/09.

<pre>
On Oct 22, 11:38 pm, Chris Dekter wrote:
> Very interesting - I use gnome-do as well and don't have this problem.
> I'm using the Record interface however.
</pre>
I thought the Record interface couldn't be used in Jaunty or Karmic because of the X server changes?

I am getting the following on stderr on bringing up the configure panel, is this normal?

<pre>
/usr/lib/python2.6/dist-packages/autokey/ui/configwindow.py:526:
GtkWarning: gtk_menu_attach_to_widget(): menu already attached to
GtkImageMenuItem
  create.set_menu(menu)
/usr/lib/python2.6/dist-packages/autokey/ui/configwindow.py:42:
GtkWarning: Unknown property: GtkCheckButton.response-id
  builder.add_from_file(uiFile)
/usr/lib/python2.6/dist-packages/autokey/ui/configwindow.py:42:
GtkWarning: Unknown property: GtkButton.response-id
  builder.add_from_file(uiFile)
</pre>
<h3><font color="#FF4500">Patrick Starfish said…</font></h3>

10/24/09.

I made a debug log shown below.  I ran "autokey -c -l &> debug.out" then I just chose a phrase to add a hotkey, and hit the button to set a key and then hit the p key three times, but it wouldn't respond so then I killed it.

<pre>
INFO - root - Initialising application
INFO - config-manager - Loading config from existing file: /home/
pat/.config/autokey/autokey.bin
INFO - root - Initialise global hotkeys
INFO - config-manager - Successfully loaded configuration file
DEBUG - config-manager - Global settings: {'showTrayIcon': True,
'windowDefaultSize': (600, 400), 'undoUsingBackspace': True,
'enableQT4Workaround': False, 'promptToSave': True, 'interfaceType':
'XEvDev', 'showToolbar': True, 'serviceRunning': True, 'isFirstRun':
True, 'sortByUsageCount': True, 'inputSavings': 0, 'hPanePosition':
150, 'menuTakesFocus': False}
INFO - service - Starting service
DEBUG - interface - Keycodes dict: {'<alt_gr>': 92, '<page_up>': 112,
'<f12>': 96, '<f10>': 76, '<ctrl>': 105, '<f9>': 75, '<alt>': 108, '
': 65, '<up>': 111, '<capslock>': 66, '<pause>': 127, '<home>': 110,
'<numlock>': 77, '<f1>': 67, '<f7>': 73, '<f5>': 71, '<f3>': 69,
'<tab>': 23, '<shift>': 62, '<left>': 113, '<backspace>': 22,
'<scroll_lock>': 78, '<escape>': 9, '<down>': 116, '<f8>': 74,
'<delete>': 119, '<f11>': 95, '<super>': 134, '<print_screen>': 107,
'<end>': 115, '<right>': 114, '<menu>': 135, '<f2>': 68, '<insert>':
118, '<page_down>': 117, '<f6>': 72, '<enter>': 36, '<f4>': 70}
DEBUG - interface - Alt-Grid: XK_Alt_R, 65514
DEBUG - interface - [(92, 0), (92, 2), (92, 4)]
DEBUG - interface - X Server Keymap
DEBUG - interface - [\] : [(51, 0), (51, 2), (51, 4)]
DEBUG - interface - [|] : [(51, 1), (51, 3), (94, 4), (51, 5)]
DEBUG - interface - [`] : [(49, 0), (49, 2), (49, 4)]
DEBUG - interface - [1] : [(10, 0), (10, 2), (10, 4)]
DEBUG - interface - [2] : [(11, 0), (11, 2), (11, 4)]
DEBUG - interface - [3] : [(12, 0), (12, 2), (12, 4)]
DEBUG - interface - [4] : [(13, 0), (13, 2), (13, 4)]
DEBUG - interface - [5] : [(14, 0), (14, 2), (14, 4)]
DEBUG - interface - [6] : [(15, 0), (15, 2), (15, 4)]
DEBUG - interface - [7] : [(16, 0), (16, 2), (16, 4)]
DEBUG - interface - [8] : [(17, 0), (17, 2), (17, 4)]
DEBUG - interface - [9] : [(18, 0), (18, 2), (18, 4)]
DEBUG - interface - [0] : [(19, 0), (19, 2), (19, 4)]
DEBUG - interface - [-] : [(20, 0), (20, 2), (20, 4)]
DEBUG - interface - [=] : [(21, 0), (21, 2), (21, 4)]
DEBUG - interface - [~] : [(49, 1), (49, 3), (49, 5)]
DEBUG - interface - [!] : [(10, 1), (10, 3), (10, 5)]
DEBUG - interface - [@] : [(11, 1), (11, 3), (11, 5)]
DEBUG - interface - [#] : [(12, 1), (12, 3), (12, 5)]
DEBUG - interface - [$] : [(13, 1), (13, 3), (13, 5)]
DEBUG - interface - [%] : [(14, 1), (14, 3), (14, 5)]
DEBUG - interface - [^] : [(15, 1), (15, 3), (15, 5)]
DEBUG - interface - [&] : [(16, 1), (16, 3), (16, 5)]
DEBUG - interface - [`*`] : [(17, 1), (17, 3), (17, 5)]
DEBUG - interface - [(] : [(187, 0), (18, 1), (187, 2), (18, 3), (187,
4), (18, 5)]
DEBUG - interface - [)] : [(188, 0), (19, 1), (188, 2), (19, 3), (188,
4), (19, 5)]
DEBUG - interface - [q] : [(24, 0), (24, 2), (24, 4)]
DEBUG - interface - [w] : [(25, 0), (25, 2), (25, 4)]
DEBUG - interface - [e] : [(26, 0), (26, 2), (26, 4)]
DEBUG - interface - [r] : [(27, 0), (27, 2), (27, 4)]
DEBUG - interface - [t] : [(28, 0), (28, 2), (28, 4)]
DEBUG - interface - [y] : [(29, 0), (29, 2), (29, 4)]
DEBUG - interface - [u] : [(30, 0), (30, 2), (30, 4)]
DEBUG - interface - [i] : [(31, 0), (31, 2), (31, 4)]
DEBUG - interface - [o] : [(32, 0), (32, 2), (32, 4)]
DEBUG - interface - [p] : [(33, 0), (33, 2), (33, 4)]
DEBUG - interface - [[] : [(34, 0), (34, 2), (34, 4)]
DEBUG - interface - []] : [(35, 0), (35, 2), (35, 4)]
DEBUG - interface - [a] : [(38, 0), (38, 2), (38, 4)]
DEBUG - interface - [s] : [(39, 0), (39, 2), (39, 4)]
DEBUG - interface - [d] : [(40, 0), (40, 2), (40, 4)]
DEBUG - interface - [f] : [(41, 0), (41, 2), (41, 4)]
DEBUG - interface - [g] : [(42, 0), (42, 2), (42, 4)]
DEBUG - interface - [h] : [(43, 0), (43, 2), (43, 4)]
DEBUG - interface - [j] : [(44, 0), (44, 2), (44, 4)]
DEBUG - interface - [k] : [(45, 0), (45, 2), (45, 4)]
DEBUG - interface - [l] : [(46, 0), (46, 2), (46, 4)]
DEBUG - interface - [;] : [(47, 0), (47, 2), (47, 4)]
DEBUG - interface - ['] : [(48, 0), (48, 2), (48, 4)]
DEBUG - interface - [z] : [(52, 0), (52, 2), (52, 4)]
DEBUG - interface - [x] : [(53, 0), (53, 2), (53, 4)]
DEBUG - interface - [c] : [(54, 0), (54, 2), (54, 4)]
DEBUG - interface - [v] : [(55, 0), (55, 2), (55, 4)]
DEBUG - interface - [b] : [(56, 0), (56, 2), (56, 4)]
DEBUG - interface - [n] : [(57, 0), (57, 2), (57, 4)]
DEBUG - interface - [m] : [(58, 0), (58, 2), (58, 4)]
DEBUG - interface - [,] : [(59, 0), (59, 2), (59, 4)]
DEBUG - interface - [.] : [(60, 0), (60, 2), (60, 4)]
DEBUG - interface - [/] : [(61, 0), (61, 2), (61, 4)]
DEBUG - interface - [Q] : [(24, 1), (24, 3), (24, 5)]
DEBUG - interface - [W] : [(25, 1), (25, 3), (25, 5)]
DEBUG - interface - [E] : [(26, 1), (26, 3), (26, 5)]
DEBUG - interface - [R] : [(27, 1), (27, 3), (27, 5)]
DEBUG - interface - [T] : [(28, 1), (28, 3), (28, 5)]
DEBUG - interface - [Y] : [(29, 1), (29, 3), (29, 5)]
DEBUG - interface - [U] : [(30, 1), (30, 3), (30, 5)]
DEBUG - interface - [I] : [(31, 1), (31, 3), (31, 5)]
DEBUG - interface - [O] : [(32, 1), (32, 3), (32, 5)]
DEBUG - interface - [P] : [(33, 1), (33, 3), (33, 5)]
DEBUG - interface - [{] : [(34, 1), (34, 3), (34, 5)]
DEBUG - interface - [}] : [(35, 1), (35, 3), (35, 5)]
DEBUG - interface - [A] : [(38, 1), (38, 3), (38, 5)]
DEBUG - interface - [S] : [(39, 1), (39, 3), (39, 5)]
DEBUG - interface - [D] : [(40, 1), (40, 3), (40, 5)]
DEBUG - interface - [F] : [(41, 1), (41, 3), (41, 5)]
DEBUG - interface - [G] : [(42, 1), (42, 3), (42, 5)]
DEBUG - interface - [H] : [(43, 1), (43, 3), (43, 5)]
DEBUG - interface - [J] : [(44, 1), (44, 3), (44, 5)]
DEBUG - interface - [K] : [(45, 1), (45, 3), (45, 5)]
DEBUG - interface - [L] : [(46, 1), (46, 3), (46, 5)]
DEBUG - interface - [:] : [(47, 1), (47, 3), (47, 5)]
DEBUG - interface - ["] : [(48, 1), (48, 3), (48, 5)]
DEBUG - interface - [Z] : [(52, 1), (52, 3), (52, 5)]
DEBUG - interface - [X] : [(53, 1), (53, 3), (53, 5)]
DEBUG - interface - [C] : [(54, 1), (54, 3), (54, 5)]
DEBUG - interface - [V] : [(55, 1), (55, 3), (55, 5)]
DEBUG - interface - [B] : [(56, 1), (56, 3), (56, 5)]
DEBUG - interface - [N] : [(57, 1), (57, 3), (57, 5)]
DEBUG - interface - [M] : [(58, 1), (58, 3), (58, 5)]
DEBUG - interface - [<] : [(94, 0), (59, 1), (94, 2), (59, 3), (59,
5)]
DEBUG - interface - [>] : [(60, 1), (94, 1), (60, 3), (94, 3), (60,
5)]
DEBUG - interface - [?] : [(61, 1), (61, 3), (61, 5)]
INFO - interface - Attempting to establish connection to EvDev daemon
INFO - interface - EvDev daemon connected
INFO - interface - EvDev interface thread starting
INFO - service - Service now marked as running
INFO - root - Displaying configuration window
/usr/lib/python2.6/dist-packages/autokey/ui/configwindow.py:526:
GtkWarning: gtk_menu_attach_to_widget(): menu already attached to
GtkImageMenuItem
  create.set_menu(menu)
/usr/lib/python2.6/dist-packages/autokey/ui/configwindow.py:42:
GtkWarning: Unknown property: GtkCheckButton.response-id
  builder.add_from_file(uiFile)
/usr/lib/python2.6/dist-packages/autokey/ui/configwindow.py:42:
GtkWarning: Unknown property: GtkButton.response-id
  builder.add_from_file(uiFile)
INFO - root - Entering main()
DEBUG - service - Received mouse click - resetting buffer
DEBUG - service - Received mouse click - resetting buffer
DEBUG - service - Received mouse click - resetting buffer
DEBUG - service - Received mouse click - resetting buffer
DEBUG - service - Received mouse click - resetting buffer
DEBUG - interface - Window name: Set Hotkey
DEBUG - service - Key: p
DEBUG - service - Input stack at end of handle_keypress: [u'p']
DEBUG - interface - Window name: Set Hotkey
DEBUG - service - Key: p
DEBUG - service - Input stack at end of handle_keypress: [u'p', u'p']
DEBUG - interface - Window name: Set Hotkey
DEBUG - service - Key: p
DEBUG - service - Input stack at end of handle_keypress: [u'p', u'p',
u'p']
DEBUG - service - Received mouse click - resetting buffer
DEBUG - service - Received mouse click - resetting buffer
</pre>
<h3><font color="#FF4500">Patrick Starfish said…</font></h3>

10/24/09.

Well, I switched from autokey-gtk to autokey (KDE) and that seems to be working fine, so I guess I should have paid more attention to the fact that autokey-gtk is still alpha.

<h3><font color="#FF4500">Chris D said…</font></h3>

10/26/09.

I just installed the RC on my laptop - will do a bit of testing.

<pre>
2009/10/25 Patrick Starfish:
> Well, I switched from autokey-gtk to autokey (KDE) and that seems to
> be working fine, so I guess I should have paid more attention to the
> fact that autokey-gtk is still alpha.
>
</pre>
<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Adding to clipboard</font></h1>

5 posts by 3 authors.

<h3><font color="#FF4500">jflevi said…</font></h3>

10/25/09.

A long time ago in windoze I was using "Keytext" very much like "Autohotkeys".  Then Autokey came for Ubuntu and my windoze days were over !!!

One feature of "Keytext" I still miss was the "add to clipboard"; pressing a hot key would add the selected text to the clipboard, very useful if you are creating a compilation from a forum, for instance.

Does : "Autokey" has such a feature or is it planned in the future ?

Using 0.60.4 under Ubuntu Jaunty, not had a problem since I installed 0.60.4  using it 3-4 hours/day  And THANKS, Chris for this application, I wouldn't be on Linux without it.

<h3><font color="#FF4500">Chris D said…</font></h3>

10/25/09.

You can do this very easily using a script:

clipboard.fill_clipboard(clipboard.get_selection())

Then assign a hotkey to the script and you're done - although I don't see how this is much different to just highlighting some text and pressing Ctrl+C ;)

2009/10/26 jflevi:

<h3><font color="#FF4500">Derek said…</font></h3>

10/25/09.

I think what jflevi is looking for is this:

clipboard.fill_clipboard(clipboard.get_clipboard() +clipboard.get_selection())

This way, each time you press your hotkey, the selected text gets added onto what's already in the clipboard, not replacing it, so you can build up a string from multiple selections.

Derek.

<h3><font color="#FF4500">jflevi said…</font></h3>

10/26/09.

That's exactly what I want to do; each selection is added to the existing text in clipboard, not replacing it.  Thanks for the suggestion, I am going to try it.  Knowing nothing about Python, I may need more help though :-) Thanks   <h3><font color="#FF4500">jflevi said…</font></h3>


10/26/09.

Thanks Derek !

It works fine, just what I needed !!!

Thanks a lot guys, you are fast !!!

Chris, you might want to put this in the scripts coming with Autokey; people who work a lot with text use such a feature a lt in widoze.  Since it is so easy to implement, you should wrap it in and describe in the documentation.

Thanks again !!!

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: basic functionality</font></h1>

6 posts by 4 authors.

<h3><font color="#FF4500">Jose Quesada said…</font></h3>

10/22/09.

Hi list.

I'm contemplating switching from win to linux.  I rely on autohotkey a lot,: Without installing autokey, I'd love to know whether it can be an equivalent.  I need very basic functionality, nothing like all the GUI interaction, GUI building etc that ahk does.  Particularly:

<pre>
1 - send keystrokes
2 - find windows by id (using something like winSpy) and get them to
foreground
3 - access the clipboard
</pre>
If this is possible, I'm done.

I know there's built-in keyboard shortcut utility on gnome/KDE, but it only works as an app launcher/focus changer, and I need a bit more functionality.

Thanks!

Best.

Jose.

=== I'm learning a new keyboard layout.  I type slowly.  Please excuse typos and slower-that-usual responses.  Thanks for your patience === Jose Quesada, PhD.<h3><font color="#FF4500">Derek said…</font></h3>


10/22/09.

Jose.

1.  Yes: keyboard.send_keys("text")  You can also include special keys: <tt>http://code.google.com/p/autokey/wiki/SpecialKeys</tt>  2.  Close.  You can find and activate windows by title.  With some Python, you could make your own functions for window ID.

3.  Yes, the Clipboard class gives you access to the clipboard.

Check here for the things you can do with AutoKey's scripting API:

<tt>http://autokey.sourceforge.net/apidoc/</tt>

Also, the scripts are Python, so you can do anything that Python allows you to do.

Derek.

<h3><font color="#FF4500">Chris D said…</font></h3>

10/22/09.

Couldn't have said it better myself:

2009/10/23 Derek:

<h3><font color="#FF4500">mfseeker said…</font></h3>

10/22/09.

More than basic functionality For years I was forced to work on a Windows platform.  One of the benefits of that otherwise frustrating experience (I had come from a Mac environment) was that I discovered and spent some time working with Macro Express (<tt>http://www.macroexpress.com/</tt>).  You might want to take a look at it, even if you don't have the capability to test it.  It provides a wealth of ideas for what might be possible in the future.  Yes, I realize some of these features may be next to impossible to implement in Linux, but still there are many potentially useful ideas for further development.

<h3><font color="#FF4500">Chris D said…</font></h3>

10/22/09.

Re: More than basic functionality Can you be more specific as to what features from this application you think are missing from AutoKey?

2009/10/23 Stan Armstrong:

<h3><font color="#FF4500">mfseeker said…</font></h3>

10/23/09.

Re: More than basic functionality  Chris.

Macro Express is a mature program that has been on the market and in continuous use for many years.  I can scarcely begin to list its features, but here are a few:

A built in macro editor with a friendly user interface.  The ability to capture macros from the user's activity.  Complete mouse control, including cursor movement, location, and the identification of what entity the cursor is over, mouse click execution and detection.  Extensive window manipulation Direct access to many system variables Macros defined to run either globally or only within specified progras etc.

Doubtless many of these functions and much more can be scripted in Python by knowledgeable users.  However, given enough familiarity with Python, a user can likely do what he or she wants without Autokey.  But Autokey is a user friendly application relieving many of us of the need to go deeply into Python.

I don't have a present pressing need for a missing feature.  I mentioned Macro Express only as a possible source of inspiration.

Cheers.

Stan.

<pre>
 Chris Dekter wrote:
> Can you be more specific as to what features from this application you
> think are missing from AutoKey?

2009/10/23 Stan Armstrong:
> For years I was forced to work on a Windows platform. One of the benefits of
> that otherwise frustrating experience (I had come from a Mac environment)
> was that I discovered and spent some time working with Macro Express
> ( http://www.macroexpress.com/ ). You might want to take a look at it, even if
> you don't have the capability to test it. It provides a wealth of ideas for
> what might be possible in the future. Yes, I realize some of these features
> may be next to impossible to implement in Linux, but still there are many
> potentially useful ideas for further development.
</pre>
<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: runtime error on a gentoo box</font></h1>

4 posts by 3 authors.

<h3><font color="#FF4500">roelof said…</font></h3>

10/22/09.

Hello.

I installed autokey-gtk on my gentoo box without any problems.  But when i try to get it run, I get this message:

<pre>
Traceback (most recent call last):
  File "/usr/bin/autokey", line 5, in <module>
    from autokey.autokey import Application
  File "/usr/lib/python2.6/site-packages/autokey/autokey.py", line 25,
in <module>
    import service, ui.notifier, ui.popupmenu, ui.configwindow,
ui.abbrselector
  File "/usr/lib/python2.6/site-packages/autokey/service.py", line 21,
in <module>
    from iomediator import Key, IoMediator
  File "/usr/lib/python2.6/site-packages/autokey/iomediator.py", line
90, in <module>
    from interface import `*`
  File "/usr/lib/python2.6/site-packages/autokey/interface.py", line
30, in <module>
    from Xlib.ext import record, xtest
ImportError: cannot import name record
</pre>
What went wrong here ??

Roelof   <h3><font color="#FF4500">Derek said…</font></h3>


10/22/09.

roelof,  At the end of those messages:

<pre>
  File "/usr/lib/python2.6/site-packages/autokey/interface.py", line 30, in <module>
  from Xlib.ext import record, xtest
ImportError: cannot import name record
</pre>
On my Ubuntu Hardy setup I have record.py here:

<pre>
/usr/share/python-support/python-xlib/Xlib/ext/record.py
And a link to it here:
/var/lib/python-support/python2.5/Xlib/ext/record.py
</pre>
Do you have those?  Maybe it's part of a package that needs to be installed.

Derek.

<h3><font color="#FF4500">Chris D said…</font></h3>

10/22/09.

The Gentoo packages for python-xlib seem to be missing this module, why I am not sure.  However, it is not essential to have this as you can simply use the EvDev interface.  In the next release I'll add a check so that if the module is not there, it will be handled gracefully.

2009/10/23 Derek:

<h3><font color="#FF4500">roelof said…</font></h3>

10/23/09.

Oke.

Then I have to wait till the next relaese.  I have put a bug repiort on the gentoo bugs on missing the Xlib.ext module, So I have to wait till one of these options.

<pre>
> >> Roelof- Tekst uit oorspronkelijk bericht niet weergeven -
>
> - Tekst uit oorspronkelijk bericht weergeve
</pre>
<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Autokey still dies</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">mfseeker said…</font></h3>

10/20/09.

Alas, my report of success with the bus fix was premature.  After functioning properly all day yesterday, it failed again last night.  The icon remains in the notification area, but the hot keys stop working.

I have attached the logs.  They show the losses and this morning's restart.

It looks as though we have a great improvement, but the problem still finds a way to defeat the fix.

Attachments (2)

autokey-daemon.log 10 KB   View   Download  autokey.log 639 KB   View   Download   <h3><font color="#FF4500">Chris D said…</font></h3>


10/20/09.

Wow…looking at this log, your system is behaving really erratic.  I'm going to have to redesign the daemon somewhat I think.  In the meantime, when you notice the problem, rather than killing everything you can just restart the init script: sudo /etc/init.d/autokey restart  2009/10/20 Stan Armstrong:

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Version 0.60.7 released</font></h1>

10 posts by 4 authors.

<h3><font color="#FF4500">Chris D said…</font></h3>

10/19/09.

I've just released a new version with a few minor bug fixes for things that have been reported in the last month or so.

More significantly though, this release adds window management capabilities to the scripting API.  Refer to the API documentation for more details.  You can now do things that AutoHotKey can do such as waiting for a window to be active, activating a specific window, closing them, etc.  This should remove the need for sleep() commands in scripts to wait for windows to become active.

<h3><font color="#FF4500">mfseeker said…</font></h3>

10/19/09.

Re: [autokey-users] Version 0.60.7 released  Thanks Chris.

I've been running the new version all morning with no loss of keyboard access.

<h3><font color="#FF4500">Alex Bepple said…</font></h3>

10/19/09.

Hi, Chris.

I get an error when I try to update Autokey via Synaptic.  Please find the log below.  I do not know what went wrong and whether this is a problem at my end or with Autokey.  I would appreciate any help with this.

Sincerely. Alex    <pre>
Selecting previously deselected package autokey.
(Reading database…219802 files and directories currently installed.)
Unpacking autokey (from…/autokey_0.60.7-0~jaunty_all.deb) :
Processing triggers for man-db :
Setting up autokey (0.60.7-0~jaunty) :
Compiling /usr/lib/python2.6/dist-packages/autokey/ui/
configwindow.py :
SyntaxError: ('invalid syntax', ('/usr/lib/python2.6/dist-packages/
autokey/ui/configwindow.py', 686, 12, '        self.save =
self.__createAction("save", i18n("Save"), "document-save",
self.centralWidget.on_save, KStandardShortcut.Save)\n'))

pycentral: pycentral pkginstall: error byte-compiling files (38)
pycentral pkginstall: error byte-compiling files (38)
dpkg: error processing autokey (—configure):
 subprocess post-installation script returned error exit status 1
Errors were encountered while processing:
 autokey E: Sub-process /usr/bin/dpkg returned an error code (1)
A package failed to install.  Trying to recover:
Setting up autokey (0.60.7-0~jaunty) :
Compiling /usr/lib/python2.6/dist-packages/autokey/ui/
configwindow.py :
SyntaxError: ('invalid syntax', ('/usr/lib/python2.6/dist-packages/
autokey/ui/configwindow.py', 686, 12, '        self.save =
self.__createAction("save", i18n("Save"), "document-save",
self.centralWidget.on_save, KStandardShortcut.Save)\n'))

pycentral: pycentral pkginstall: error byte-compiling files (34)
pycentral pkginstall: error byte-compiling files (34)
dpkg: error processing autokey (—configure):
 subprocess post-installation script returned error exit status 1
Errors were encountered while processing:
 autokey </pre>
<h3><font color="#FF4500">Derek said…</font></h3>

10/19/09.

Chris.

That key-up issue, or whatever it was, is fixed.  That was quick Chris!

Now I'm trying to get the new window class working for me.

I'm trying    <pre>
window.wait_for_focus('Find', timeOut=2)
or window.wait_for_exist('Find', timeOut=2)

Using wait_for_focus gave this error:
ERROR - service - Script error </pre>
<pre>
Traceback (most recent call last):
  File "/usr/lib/python2.5/site-packages/autokey/service.py", line
381, in execute
    exec script.code in self.scope
  File "<string>", line 4, in <module>
  File "/usr/lib/python2.5/site-packages/autokey/scripting.py", line
372, in wait_for_focus
    regex = re.compile(title, timeOut=5)
</pre>
I took out the ", timeOut=5" from that line, and there was no more error, but it didn't work and wouldn't catch keys anymore until restarting AutoKeys.

Using wait_for_exist is returning False, even though I see "DEBUG ~interface - Window name: Find" in the log, and "window.resize_move ('Find', 0)" successfully moves the Find window to the left side.

Derek.

<h3><font color="#FF4500">Derek said…</font></h3>

10/19/09.

Alex.

I used the installation method on https://launchpad.net/~cdekter/+archive/ppa.  To upgrade this morning I just typed "sudo apt-get update" and then the notification icon came alive for me to install updates on the Update Manager.  Clicking the "Check" button in the Update Manager would have found the update too, I guess.

Derek.

<h3><font color="#FF4500">Derek said…</font></h3>

10/19/09.

Chris.

I found why wait_for_exist was failing.  The window list from wmctrl includes more than just the window names.  I changed this line so that it only looks at the window name portion:

if regex.match(line[14:].partition(" ")[2]):

Now it's working.

Here's the new version of Marsha's script:

import time keyboard.send_keys("<ctrl>+f") if window.wait_for_exist('Find', timeOut=2) == True: keyboard.send_keys("`**`") keyboard.send_keys("<enter>") keyboard.send_keys("<escape>") time.sleep(0.3) keyboard.send_keys("<delete>")

Derek.

<h3><font color="#FF4500">Chris D said…</font></h3>

10/19/09.

Re: [autokey-users] Re: Version 0.60.7 released Ah rats - it's missing a brace on the previous line.  Patch time!

2009/10/20 Alex:

<h3><font color="#FF4500">Chris D said…</font></h3>

10/19/09.

Re: [autokey-users] Re: Version 0.60.7 released Hmm that really shouldn't make any difference.  Will have to investigate more closely:

2009/10/20 Derek:

<h3><font color="#FF4500">Chris D said…</font></h3>

10/19/09.

New release 0.60.7a is out - it should hopefully fix the above issues.  Your script should now work, as follows:

keyboard.send_keys("`<ctrl>`+f") window.wait_for_focus('Find') keyboard.send_keys("`**<enter><escape>`") window.wait_for_focus('.`*`Abiword') # Or whatever the main window title is keyboard.send_keys("`<delete>`")

<h3><font color="#FF4500">Alex Bepple said…</font></h3>

10/20/09.

<pre>
> New release 0.60.7a is out - it should hopefully fix the above issues.
</pre>
It fixed my installation issue.

Cheers.  Alex.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Autokey script for abiword find and delete</font></h1>

12 posts by 3 authors.

<h3><font color="#FF4500">marshag63 said…</font></h3>

10/17/09.

Hi!  I'm trying to write a script to invoke a search (ctrl +f) in Abiword to search for two asterisks (`**`) and then delete them - this will be used as a way of moving through a template to places to begin typing without using cursor keys/mouse.  I can get the find dialog box to come up, but am having trouble beyond that.  The two asterisks end up in being input into the document instead of the find dialog box and then nothing further happens.

Any advice greatly appreciated! :)

MarshaG.

<h3><font color="#FF4500">Derek said…</font></h3>

10/18/09.

Marsha.

I tried this script on text in gedit:

keyboard.send_keys("<ctrl>+f") keyboard.send_keys("`**`") keyboard.send_keys("<alt>+f") keyboard.send_keys("<escape>") keyboard.send_key("<delete>")

It behaved the same way you described.  So I tried another version:

import time keyboard.send_keys("<ctrl>+f") time.sleep( 1 ) keyboard.send_keys("`**`") time.sleep( 1 ) keyboard.send_keys("<alt>+f") keyboard.send_keys("<escape>") keyboard.send_key("<delete>")

Other than wasting a couple more seconds it was the same.  I was careful to keep the pointer in the right place in case it was somehow not having the focus on the Find dialog, and that made no difference.  Also, at least on my computer, AutoKey typically stops working and needs to be restarted after either of these.

I tried another way that avoids using the Find dialog:

keyboard.send_keys("<ctrl>+a") keyboard.send_keys("<insert><insert>") text = clipboard.get_selection() position = text.find("`**`") keyboard.send_keys("<right><left>") keyboard.send_key("<right>", position) keyboard.send_key("<delete>", 2)

The second line is needed, at least on my setup, to get the first line to work.  This worked well on a few lines of text, but the cursor moves way too slowly if you have a full page to navigate.  And you don't want to move the pointer from that window while it's shooting all those <right>s.  I don't recommend even trying it out on a document larger than a paragraph or two.

Maybe someone else knows better how to get keystrokes to dialog boxes that pop up.

Derek.

<h3><font color="#FF4500">Chris D said…</font></h3>

10/18/09.

Re: [autokey-users] Re: Autokey script for abiword find and delete My guess would be some exception is occurring during the execution of your script.  Informing the user of script exceptions is on my to-do list :P

If you start autokey from the command line with the command 'autokey -l', any exception occurring during the execution of the script will be printed to the terminal.  You can then post it to this group.

2009/10/18 Derek:

<h3><font color="#FF4500">Derek said…</font></h3>

10/18/09.

Chris.

Thanks.  I was trying that, using autokey -l at the command line.  But the logging output just stopped at that point.  E.g. (I added the timestamping):

<pre>
2009-10-18 01:52:17,323 - DEBUG - service - Key: u"'", modifiers:
['<alt>', '<shift>']
2009-10-18 01:52:17,323 - INFO - service - Matched hotkey phrase/
script with prompt=False
2009-10-18 01:52:17,324 - DEBUG - service - Script runner executing:
Script('Findasts2')
2009-10-18 01:52:17,591 - DEBUG - iomediator - <shift> released
2009-10-18 01:52:17,621 - DEBUG - iomediator - <alt> released
2009-10-18 01:52:17,621 - DEBUG - iomediator - Send via event
interface
2009-10-18 01:52:17,621 - DEBUG - interface - Send modified key:
modifiers: [u'<ctrl>'] key: f
2009-10-18 01:52:17,622 - DEBUG - iomediator - Send via event
interface
2009-10-18 01:52:17,622 - DEBUG - interface - Send modified key:
modifiers: [u'<alt>'] key: s
2009-10-18 01:52:17,622 - DEBUG - iomediator - Send via event
interface
2009-10-18 01:52:17,622 - DEBUG - interface - Sending string: u'`**`'
2009-10-18 01:52:17,646 - DEBUG - iomediator - Send via event
interface
2009-10-18 01:52:17,647 - DEBUG - interface - Send modified key:
modifiers: [u'<alt>'] key: f
2009-10-18 01:52:17,647 - DEBUG - iomediator - Send via event
interface
2009-10-18 01:52:17,647 - DEBUG - interface - Send special key:
[u'<escape>']
2009-10-18 01:52:17,650 - DEBUG - interface - Send special key:
[u'<delete>']
2009-10-18 01:52:17,651 - DEBUG - iomediator - <ctrl> pressed
</pre>
After that there are no more interface or iomediator messages, though it still logs from config-manager and root.  The "iomediator - <ctrl> pressed" must be detecting the simulated keystroke at the beginning of the script.

I did get this error at the end on two occasions:

<pre>
X protocol error:
<class 'Xlib.error.BadWindow'>: code = 3, resource_id =
Xlib.xobject.resource.Resource(0x04201cc7), sequence_number = 31,
major_opcode = 25, minor_opcode = 0
</pre>
I am curious if this trouble is particular to X Record / Xorg v1.4 / Ubuntu 8.04.  Maybe someone with newer software can try it.

Derek.

<h3><font color="#FF4500">marshag63 said…</font></h3>

10/18/09.

Under Linux Mint 6 (Intrepid), using Abiword 2.6.4 and this second script (first one did not work and did not attempt third one) Using the X-record user interface:

Script.

<pre>
_______________________
import time
keyboard.send_keys("<ctrl>+f")
time.sleep( 1 )
keyboard.send_keys("`**`")
time.sleep( 1 )
keyboard.send_keys("<alt>+f")
keyboard.send_keys("<escape>")
keyboard.send_key("<delete>")
________________________
DEBUG - service - Script runner executing: Script('jumpto')
DEBUG - iomediator - Send via event interface
DEBUG - interface - Send modified key: modifiers: [u'<ctrl>'] key: f
DEBUG - iomediator - Send via event interface
DEBUG - interface - Sending string: u'`**`'
DEBUG - iomediator - <ctrl> pressed
DEBUG - interface - Window name: Find - `*`Untitled2
DEBUG - iomediator - <ctrl> released
DEBUG - service - Key: f
DEBUG - service - Input stack at end of handle_keypress: [u'f']
DEBUG - iomediator - Send via event interface
DEBUG - interface - Send modified key: modifiers: [u'<alt>'] key: f
DEBUG - iomediator - Send via event interface
DEBUG - interface - Send special key: [u'<escape>']
DEBUG - interface - Send special key: [u'<delete>']
DEBUG - iomediator - <alt> pressed
X protocol error:
<class 'Xlib.error.BadWindow'>: code = 3, resource_id =
Xlib.xobject.resource.Resource(0x04005c23), sequence_number = 36,
major_opcode = 25, minor_opcode = 0
</pre>
My question is also - would this be handled differently under a Jaunty install (I have a laptop I just installed Crunchbang based on Jaunty as well that I would like this to work on too).

Thanks for all the great help.

<h3><font color="#FF4500">Derek said…</font></h3>

10/18/09.

I see you're getting the same BadWindow error.  It seems like the dialog box popping up gets the Send_Key(s) activity messed up.  That would preclude all kinds of useful macros if there's not a way around it.  I'll post here again if I find something, but I'm not hopeful for now.

<h3><font color="#FF4500">Chris D said…</font></h3>

10/18/09.

Re: [autokey-users] Re: Autokey script for abiword find and delete  Hi guys.

I'm looking into this problem - it shouldn't be too hard to fix.  I'll likely release a new version with a fix for this (and a few other minor things) around the end of this week.

Chris.

2009/10/19 Derek:

<h3><font color="#FF4500">Derek said…</font></h3>

10/18/09.

Marsha and Chris.

Success!  It's working for me now with this script:

import time keyboard.send_keys("<ctrl>+f") keyboard.send_keys("<insert>") # This keystroke hits the main window. time.sleep(0.1)                # This gives the dialog time to appear. keyboard.send_keys("`**`")         # This enters the search. keyboard.send_keys("<enter>")  # This hits the OK key. keyboard.send_keys("<escape>")# This dismisses the Find dialog box. keyboard.send_keys("<delete>") # This deletes the asterisks. keyboard.send_keys("<insert>") # This puts the insert mode back.

On my other script I found that the <ctrl>+[key]  needed another key sent after it to get it to work.  The <insert> key seems to work well.  But that keystroke will hit the main window because it has to happen before the Find box will come up.

Without the timer, the first asterisk would still hit the main window before the Find dialog appeared.

By the way, I found that some (not all) of my trouble with AutoKey becoming unresponsive came from me hitting <ctrl>+<shift>+k to clear gedit's found-text highlighting.  I noticed now that that was toggling keystroke monitoring, so I've just cleared that preference for the time being.

Hopefully this script or similar will work in Abiword too.  It seemed to be the same problem there.

Thanks for this great improvement to our Linux environment, Chris.

Derek.

<h3><font color="#FF4500">Derek said…</font></h3>

10/18/09.

For a longer body of text, where it has to scroll to find it, I have to put another sleep before the <delete> line.

import time keyboard.send_keys("<ctrl>+f") keyboard.send_keys("<insert>") time.sleep(0.1) keyboard.send_keys("`**`") keyboard.send_keys("<enter>") keyboard.send_keys("<escape>") time.sleep(0.1) keyboard.send_keys("<delete>") keyboard.send_keys("<insert>")

Depending on other factors, maybe you would need to experiment to get the timing right.

Derek.

<h3><font color="#FF4500">marshag63 said…</font></h3>

10/18/09.

Derek, Awesome!!!!

It works almost flawlessly on both my desktop and my laptop!  Thanks so much for helping me with this.  Happy Dance!!!!

Chris, thanks for the awesome program and your prompt replies.  Autokey ROCKS!

MarshaG.

<h3><font color="#FF4500">Derek said…</font></h3>

10/18/09.

I'm glad to hear that.  I've improved it slightly again, eliminating the kludge <insert> key lines:

import time keyboard.send_keys("<ctrl>+f+<ctrl>") time.sleep(0.1) keyboard.send_keys("`**`") keyboard.send_keys("<enter>") keyboard.send_keys("<escape>") time.sleep(0.2) keyboard.send_keys("<delete>")

I suspect what's happening with the modified key there is that "<ctrl> +f" is giving the key-down (press) but not the key-up (release) after the "f".  Adding the modifier key again after it seems to accomplish the key-up.

Derek.

<h3><font color="#FF4500">Chris D said…</font></h3>

10/18/09.

Re: [autokey-users] Re: Autokey script for abiword find and delete I've gone over the code that does the work of sending a modified key such as ctrl+f, and it is definitely sending the required key release events.  It could be some bug in the xtest extension, or some other quirk somewhere else in the chain of events.  It could be something to do with timing as well (sending the release event too soon - AutoKey attempts to send events as fast as possible).  Or perhaps the display buffer needs to be flushed (currently not being done as it adds latency).  Might see if I can add a flush without breaking anything, and include in the next release.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: AutoKey dies after running for a while</font></h1>

8 posts by 3 authors.

<h3><font color="#FF4500">mfseeker said…</font></h3>

9/16/09.

AutoKey runs just fine—until it doesn't.  So far I have been unable to predict when or under what circumstances it will die.  The notification icon remains and can be used for configuration or quitting, but the program no longer responds to hotkeys.  Quitting and restarting AutoKey restores it.

Here is a recent AutoKey daemon log:

<pre>
AutoKey daemon starting
Created domain socket
Accepted connection
Keyboards: ['/dev/input/by-path/pci-0000:00:06.1-usb-0:2.4:1.0-event-
kbd']
Mice: ['/dev/input/by-path/pci-0000:00:06.0-usb-0:5:1.0-event-mouse']
<Device name='Microsoft Natural\xae Ergonomic Keyboard 4000' axes={}
buttons={}>
<Device name='Logitech USB Receiver' axes={} buttons={}>
Unable to read from device(s). Connection will be closed and restarted
Warning - failed to close on or more device file descriptors
Connection closed
Accepted connection
Keyboards: []
Mice: ['/dev/input/by-path/pci-0000:00:06.0-usb-0:5:1.0-event-mouse']
<Device name='Logitech USB Receiver' axes={} buttons={}>
Connection closed
Accepted connection
Keyboards: ['/dev/input/by-path/pci-0000:00:06.1-usb-0:2.4:1.0-event-
kbd']
Mice: ['/dev/input/by-path/pci-0000:00:06.0-usb-0:5:1.0-event-mouse']
<Device name='Microsoft Natural\xae Ergonomic Keyboard 4000' axes={}
buttons={}>
<Device name='Logitech USB Receiver' axes={} buttons={}>
Unable to read from device(s). Connection will be closed and restarted
Warning - failed to close on or more device file descriptors
Connection closed
Accepted connection
Keyboards: []
Mice: ['/dev/input/by-path/pci-0000:00:06.0-usb-0:5:1.0-event-mouse']
<Device name='Logitech USB Receiver' axes={} buttons={}>
Connection closed
Accepted connection
Keyboards: ['/dev/input/by-path/pci-0000:00:06.1-usb-0:2.4:1.0-event-
kbd']
Mice: ['/dev/input/by-path/pci-0000:00:06.0-usb-0:5:1.0-event-mouse']
<Device name='Microsoft Natural\xae Ergonomic Keyboard 4000' axes={}
buttons={}>
<Device name='Logitech USB Receiver' axes={} buttons={}>
Unable to read from device(s). Connection will be closed and restarted
Warning - failed to close on or more device file descriptors
Connection closed
Accepted connection
Keyboards: []
Mice: ['/dev/input/by-path/pci-0000:00:06.0-usb-0:5:1.0-event-mouse']
<Device name='Logitech USB Receiver' axes={} buttons={}>
Connection closed
Accepted connection
Keyboards: ['/dev/input/by-path/pci-0000:00:06.1-usb-0:2.4:1.0-event-
kbd']
Mice: ['/dev/input/by-path/pci-0000:00:06.0-usb-0:5:1.0-event-mouse']
<Device name='Microsoft Natural\xae Ergonomic Keyboard 4000' axes={}
buttons={}>
<Device name='Logitech USB Receiver' axes={} buttons={}>
Unable to read from device(s). Connection will be closed and restarted
Warning - failed to close on or more device file descriptors
Connection closed
Accepted connection
Keyboards: []
Mice: ['/dev/input/by-path/pci-0000:00:06.0-usb-0:5:1.0-event-mouse']
<Device name='Logitech USB Receiver' axes={} buttons={}>
</pre>
Is there something else that might be more helpful in finding this error?  I tried starting AutoKey from a terminal and leaving it open in hopes of catching some message, but I have caught nothing.  Is there another relevant error log somewhere or a way of piping a possible error message to a file, or is it likely that this failure does not generate an error message?

<h3><font color="#FF4500">mfseeker said…</font></h3>

9/16/09.

And here is the AutoKey config log:

<pre>
INFO - root - Initialising application
INFO - config-manager - No configuration file found - creating new one
INFO - config-manager - Configuration changed - rebuilding in-memory
structures
INFO - config-manager - Persisting configuration
INFO - root - Initialise global hotkeys
INFO - config-manager - Finished persisting configuration - no errors
INFO - service - Starting service
INFO - interface - Attempting to establish connection to EvDev daemon
INFO - interface - EvDev daemon connected
INFO - interface - EvDev interface thread starting
INFO - service - Service now marked as running
INFO - root - Displaying configuration window
INFO - config-manager - Configuration changed - rebuilding in-memory
structures
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - root - Initialise global hotkeys
INFO - config-manager - Finished persisting configuration - no errors
INFO - config-manager - Configuration changed - rebuilding in-memory
structures
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - root - Initialise global hotkeys
INFO - config-manager - Finished persisting configuration - no errors
INFO - service - Matched hotkey phrase/script with prompt=False
INFO - config-manager - Configuration changed - rebuilding in-memory
structures
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - root - Initialise global hotkeys
INFO - config-manager - Finished persisting configuration - no errors
INFO - service - Matched hotkey phrase/script with prompt=False
INFO - config-manager - Configuration changed - rebuilding in-memory
structures
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - root - Initialise global hotkeys
INFO - config-manager - Finished persisting configuration - no errors
INFO - service - Matched hotkey phrase/script with prompt=False
INFO - config-manager - Configuration changed - rebuilding in-memory
structures
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - root - Initialise global hotkeys
INFO - config-manager - Finished persisting configuration - no errors
INFO - service - Matched hotkey phrase/script with prompt=False
INFO - service - Matched hotkey phrase/script with prompt=False
INFO - service - Matched hotkey phrase/script with prompt=False
INFO - service - Matched hotkey phrase/script with prompt=False
INFO - service - Matched hotkey phrase/script with prompt=False
ERROR - interface - Connection to EvDev daemon lost
Traceback (most recent call last):
  File "/usr/lib/python2.6/dist-packages/autokey/interface.py", line
487, in run
    keyCode, button, state = data.split(',')
ValueError: need more than 1 value to unpack
INFO - interface - Attempting to establish connection to EvDev daemon
INFO - interface - EvDev daemon connected
INFO - root - Displaying configuration window
INFO - config-manager - Configuration changed - rebuilding in-memory
structures
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - root - Initialise global hotkeys
INFO - config-manager - Finished persisting configuration - no errors
INFO - config-manager - Configuration changed - rebuilding in-memory
structures
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - root - Initialise global hotkeys
INFO - config-manager - Finished persisting configuration - no errors
INFO - config-manager - Configuration changed - rebuilding in-memory
structures
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - root - Initialise global hotkeys
INFO - config-manager - Finished persisting configuration - no errors
INFO - config-manager - Configuration changed - rebuilding in-memory
structures
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - root - Initialise global hotkeys
INFO - config-manager - Finished persisting configuration - no errors
INFO - root - Displaying configuration window
INFO - config-manager - Configuration changed - rebuilding in-memory
structures
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - root - Initialise global hotkeys
INFO - config-manager - Finished persisting configuration - no errors
INFO - root - Shutting down
INFO - service - Service shutting down
INFO - interface - EvDev interface thread terminated
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - root - Initialise global hotkeys
INFO - config-manager - Finished persisting configuration - no errors
INFO - root - Initialising application
INFO - config-manager - Loading config from existing file: /home/
stan/.config/autokey/autokey.bin
INFO - root - Initialise global hotkeys
INFO - config-manager - Successfully loaded configuration file
INFO - service - Starting service
INFO - interface - Attempting to establish connection to EvDev daemon
INFO - interface - EvDev daemon connected
INFO - interface - EvDev interface thread starting
INFO - service - Service now marked as running
INFO - service - Matched hotkey phrase/script with prompt=False
INFO - root - Displaying configuration window
INFO - service - Matched hotkey phrase/script with prompt=False
INFO - root - Initialising application
INFO - config-manager - Loading config from existing file: /home/
stan/.config/autokey/autokey.bin
INFO - root - Initialise global hotkeys
INFO - config-manager - Successfully loaded configuration file
INFO - service - Starting service
INFO - interface - Attempting to establish connection to EvDev daemon
INFO - interface - EvDev daemon connected
INFO - interface - EvDev interface thread starting
INFO - service - Service now marked as running
INFO - root - Displaying configuration window
INFO - service - Matched hotkey phrase/script with prompt=False
INFO - service - Matched hotkey phrase/script with prompt=False
INFO - root - Displaying configuration window
INFO - service - Matched hotkey phrase/script with prompt=False
INFO - service - Matched hotkey phrase/script with prompt=False
INFO - root - Shutting down
INFO - service - Service shutting down
INFO - interface - EvDev interface thread terminated
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - root - Initialise global hotkeys
INFO - config-manager - Finished persisting configuration - no errors
INFO - root - Initialising application
INFO - config-manager - Loading config from existing file: /home/
stan/.config/autokey/autokey.bin
INFO - root - Initialise global hotkeys
INFO - config-manager - Successfully loaded configuration file
INFO - service - Starting service
INFO - interface - Attempting to establish connection to EvDev daemon
INFO - interface - EvDev daemon connected
INFO - interface - EvDev interface thread starting
INFO - service - Service now marked as running
INFO - root - Initialising application
INFO - config-manager - Loading config from existing file: /home/
stan/.config/autokey/autokey.bin
INFO - root - Initialise global hotkeys
INFO - config-manager - Successfully loaded configuration file
INFO - service - Starting service
INFO - interface - Attempting to establish connection to EvDev daemon
INFO - interface - EvDev daemon connected
INFO - interface - EvDev interface thread starting
INFO - service - Service now marked as running
INFO - service - Matched hotkey phrase/script with prompt=False
INFO - root - Displaying configuration window
INFO - config-manager - Configuration changed - rebuilding in-memory
structures
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - root - Initialise global hotkeys
INFO - config-manager - Finished persisting configuration - no errors
INFO - service - Matched hotkey phrase/script with prompt=False
INFO - service - Matched hotkey phrase/script with prompt=False
INFO - service - Matched hotkey phrase/script with prompt=False
INFO - root - Initialising application
INFO - config-manager - Loading config from existing file: /home/
stan/.config/autokey/autokey.bin
INFO - root - Initialise global hotkeys
INFO - config-manager - Successfully loaded configuration file
INFO - service - Starting service
INFO - interface - Attempting to establish connection to EvDev daemon
INFO - interface - EvDev daemon connected
INFO - interface - EvDev interface thread starting
INFO - service - Service now marked as running
INFO - service - Matched hotkey phrase/script with prompt=False
INFO - service - Matched hotkey phrase/script with prompt=False
ERROR - interface - Connection to EvDev daemon lost
Traceback (most recent call last):
  File "/usr/lib/python2.6/dist-packages/autokey/interface.py", line
487, in run
    keyCode, button, state = data.split(',')
ValueError: need more than 1 value to unpack
INFO - interface - Attempting to establish connection to EvDev daemon
INFO - interface - EvDev daemon connected
INFO - root - Shutting down
INFO - service - Service shutting down
INFO - interface - EvDev interface thread terminated
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - root - Initialise global hotkeys
INFO - config-manager - Finished persisting configuration - no errors
INFO - root - Initialising application
INFO - config-manager - Loading config from existing file: /home/
stan/.config/autokey/autokey.bin
INFO - root - Initialise global hotkeys
INFO - config-manager - Successfully loaded configuration file
INFO - service - Starting service
INFO - interface - Attempting to establish connection to EvDev daemon
INFO - interface - EvDev daemon connected
INFO - interface - EvDev interface thread starting
INFO - service - Service now marked as running
INFO - service - Matched hotkey phrase/script with prompt=False
INFO - interface - Got XMappingNotify - reloading keyboard mapping
INFO - interface - Got XMappingNotify - reloading keyboard mapping
INFO - interface - Got XMappingNotify - reloading keyboard mapping
INFO - interface - Got XMappingNotify - reloading keyboard mapping
INFO - service - Matched hotkey phrase/script with prompt=False
ERROR - interface - Connection to EvDev daemon lost
Traceback (most recent call last):
  File "/usr/lib/python2.6/dist-packages/autokey/interface.py", line
487, in run
    keyCode, button, state = data.split(',')
ValueError: need more than 1 value to unpack
INFO - interface - Attempting to establish connection to EvDev daemon
INFO - interface - EvDev daemon connected
INFO - root - Shutting down
INFO - service - Service shutting down
INFO - interface - EvDev interface thread terminated
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - root - Initialise global hotkeys
INFO - config-manager - Finished persisting configuration - no errors
INFO - root - Initialising application
INFO - config-manager - Loading config from existing file: /home/
stan/.config/autokey/autokey.bin
INFO - root - Initialise global hotkeys
INFO - config-manager - Successfully loaded configuration file
INFO - service - Starting service
INFO - interface - Attempting to establish connection to EvDev daemon
INFO - interface - EvDev daemon connected
INFO - interface - EvDev interface thread starting
INFO - service - Service now marked as running
INFO - service - Matched hotkey phrase/script with prompt=False
ERROR - interface - Connection to EvDev daemon lost
Traceback (most recent call last):
  File "/usr/lib/python2.6/dist-packages/autokey/interface.py", line
487, in run
    keyCode, button, state = data.split(',')
ValueError: need more than 1 value to unpack
INFO - interface - Attempting to establish connection to EvDev daemon
INFO - interface - EvDev daemon connected
INFO - root - Displaying configuration window
INFO - root - Shutting down
INFO - service - Service shutting down
INFO - interface - EvDev interface thread terminated
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - root - Initialise global hotkeys
INFO - config-manager - Finished persisting configuration - no errors
INFO - root - Initialising application
INFO - config-manager - Loading config from existing file: /home/
stan/.config/autokey/autokey.bin
INFO - root - Initialise global hotkeys
INFO - config-manager - Successfully loaded configuration file
INFO - service - Starting service
INFO - interface - Attempting to establish connection to EvDev daemon
INFO - interface - EvDev daemon connected
INFO - interface - EvDev interface thread starting
INFO - service - Service now marked as running
INFO - service - Matched hotkey phrase/script with prompt=False
INFO - interface - Got XMappingNotify - reloading keyboard mapping
INFO - interface - Got XMappingNotify - reloading keyboard mapping
ERROR - interface - Connection to EvDev daemon lost
Traceback (most recent call last):
  File "/usr/lib/python2.6/dist-packages/autokey/interface.py", line
487, in run
    keyCode, button, state = data.split(',')
ValueError: need more than 1 value to unpack
INFO - interface - Attempting to establish connection to EvDev daemon
INFO - interface - EvDev daemon connected
INFO - root - Initialising application
INFO - config-manager - Loading config from existing file: /home/
stan/.config/autokey/autokey.bin
INFO - root - Initialise global hotkeys
INFO - config-manager - Successfully loaded configuration file
INFO - service - Starting service
INFO - interface - Attempting to establish connection to EvDev daemon
INFO - interface - EvDev daemon connected
INFO - interface - EvDev interface thread starting
INFO - service - Service now marked as running
INFO - service - Matched hotkey phrase/script with prompt=False
INFO - service - Matched hotkey phrase/script with prompt=False
ERROR - interface - Connection to EvDev daemon lost
Traceback (most recent call last):
  File "/usr/lib/python2.6/dist-packages/autokey/interface.py", line
487, in run
    keyCode, button, state = data.split(',')
ValueError: need more than 1 value to unpack
INFO - interface - Attempting to establish connection to EvDev daemon
INFO - interface - EvDev daemon connected
INFO - root - Shutting down
INFO - service - Service shutting down
INFO - interface - EvDev interface thread terminated
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - root - Initialise global hotkeys
INFO - config-manager - Finished persisting configuration - no errors
INFO - root - Initialising application
INFO - config-manager - Loading config from existing file: /home/
stan/.config/autokey/autokey.bin
INFO - root - Initialise global hotkeys
INFO - config-manager - Successfully loaded configuration file
INFO - service - Starting service
INFO - interface - Attempting to establish connection to EvDev daemon
INFO - interface - EvDev daemon connected
INFO - interface - EvDev interface thread starting
INFO - service - Service now marked as running
INFO - service - Matched hotkey phrase/script with prompt=False
INFO - root - Initialising application
INFO - config-manager - Loading config from existing file: /home/
stan/.config/autokey/autokey.bin
INFO - root - Initialise global hotkeys
INFO - config-manager - Successfully loaded configuration file
INFO - service - Starting service
INFO - interface - Attempting to establish connection to EvDev daemon
INFO - interface - EvDev daemon connected
INFO - interface - EvDev interface thread starting
INFO - service - Service now marked as running
INFO - service - Matched hotkey phrase/script with prompt=False
INFO - service - Matched hotkey phrase/script with prompt=False
INFO - service - Matched hotkey phrase/script with prompt=False
ERROR - interface - Connection to EvDev daemon lost
Traceback (most recent call last):
  File "/usr/lib/python2.6/dist-packages/autokey/interface.py", line
487, in run
    keyCode, button, state = data.split(',')
ValueError: need more than 1 value to unpack
INFO - interface - Attempting to establish connection to EvDev daemon
INFO - interface - EvDev daemon connected
INFO - root - Shutting down
INFO - service - Service shutting down
INFO - interface - EvDev interface thread terminated
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - root - Initialise global hotkeys
INFO - config-manager - Finished persisting configuration - no errors
INFO - root - Initialising application
INFO - config-manager - Loading config from existing file: /home/
stan/.config/autokey/autokey.bin
INFO - root - Initialise global hotkeys
INFO - config-manager - Successfully loaded configuration file
INFO - service - Starting service
INFO - interface - Attempting to establish connection to EvDev daemon
INFO - interface - EvDev daemon connected
INFO - interface - EvDev interface thread starting
INFO - service - Service now marked as running
INFO - service - Matched hotkey phrase/script with prompt=False
INFO - root - Displaying configuration window
INFO - service - Matched hotkey phrase/script with prompt=False
</pre>
<h3><font color="#FF4500">mfseeker said…</font></h3>

9/16/09.

Looking at the logs myself, I see that the connection to the EvDev Daemon is being lost, which makes sense out of what is happening, but I don't know why this connection is being lost.  I am not a python programmer.

<h3><font color="#FF4500">Chris D said…</font></h3>

9/16/09.

It looks like your keyboard device is disappearing from /dev/input after suspend/resume, and not coming back quickly enough afterwards.It can probably be solved by making the daemon wait a few seconds after resume.  I'll fix it in the next point release.

2009/9/16 mfseeker:

<h3><font color="#FF4500">mfseeker said…</font></h3>

10/17/09.

Chris.

This problem wasn't fixed in 0.60.  It was so annoying that I made a very ugly hack.

I run the script:

<pre>
 #! bash/bin
 killall autokey
 sleep 1
 autokey
</pre>
 using the crontab    <pre>
 `* * * * *` sh /home/stan/Desktop/Autokey_toggle </pre>
Ughhh!

Please remember my problem in the next release.

Warmest Regards.

Stan.

<pre>
 Chris Dekter wrote:
It looks like your keyboard device is disappearing from /dev/input
after suspend/resume, and not coming back quickly enough afterwards.It
can probably be solved by making the daemon wait a few seconds after
resume. I'll fix it in the next point release.

2009/9/16 mfseeker:

Looking at the logs myself, I see that the connection to the EvDev
Daemon is being lost, which makes sense out of what is happening, but
I don't know why this connection is being lost. I am not a python
programmer.
</pre>
<h3><font color="#FF4500">Derek said…</font></h3>

10/17/09.

Stan.

What version of X.org server do you have? dpkg -p xserver-xorg-core | grep Version  Your problem looks different than mine, but I had AutoKey working well for a while, using EvDev.  Then it started getting slow to respond to triggers, and after a while it started failing to run.  I checked and found that I have v1.4 of xserver.  I have Ubuntu 8.04.  Switching to X Record worked for me.

Derek.

<pre>
On Oct 17, 1:35 pm, Stan Armstrong wrote:
> Chris.
>
> This problem wasn't fixed in 0.60. It was so annoying that I made a very
> ugly hack.
>
> I run the script:
>
> #! bash/bin
> killall autokey
> sleep 1
> autokey
>
> using the crontab
>
> `* * * * *` sh /home/stan/Desktop/Autokey_toggle
>
> Ughhh!
>
> Please remember my problem in the next release.
>
> Warmest Regards.
>
> Stan.
>
> Chris Dekter wrote:
> > It looks like your keyboard device is disappearing from /dev/input
> > after suspend/resume, and not coming back quickly enough afterwards.It
> > can probably be solved by making the daemon wait a few seconds after
> > resume. I'll fix it in the next point release.
>
> > 2009/9/16 mfseeker:
</pre>
<pre>
<h3><font color="#FF4500">mfseeker said…</font></h3>



10/17/09.

Re: [autokey-users] Re: AutoKey dies after running for a while

 Derek, et. al…

 My version is 2:1.6.0-0ubuntu14

 I'm running Ubuntu 9.04

 Stan.
</pre>
<pre>
 Derek wrote:
Stan.

What version of X.org server do you have?
dpkg -p xserver-xorg-core | grep Version

Your problem looks different than mine, but I had AutoKey working well
for a while, using EvDev.  Then it started getting slow to respond to
triggers, and after a while it started failing to run.  I checked and
found that I have v1.4 of xserver.  I have Ubuntu 8.04.  Switching to
X Record worked for me.

Derek.
</pre>
<pre>
On Oct 17, 1:35 pm, Stan Armstrong wrote:

Chris.

This problem wasn't fixed in 0.60. It was so annoying that I made a very
ugly hack.

I run the script:

#! bash/bin
killall autokey
sleep 1
autokey


Using the crontab>


`* * * * *` sh /home/stan/Desktop/Autokey_toggle


Ughhh!

Please remember my problem in the next release.

Warmest Regards.

Stan.
</pre>
<pre>
Chris Dekter wrote:

It looks like your keyboard device is disappearing from /dev/input
after suspend/resume, and not coming back quickly enough afterwards.It
can probably be solved by making the daemon wait a few seconds after
resume. I'll fix it in the next point release.
</pre>
<pre>
2009/9/16 mfseeker:

Looking at the logs myself, I see that the connection to the EvDev
Daemon is being lost, which makes sense out of what is happening, but
I don't know why this connection is being lost. I am not a python
programmer.
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

10/18/09.

Re: [autokey-users] Re: AutoKey dies after running for a while On 9.04 you wouldn't be able to use the XRecord interface (it is broken in X.org > 1.5).  You are correct, your bug report missed the last release.  Will endeavour to put it in the next one :).

<pre>
2009/10/18 Stan Armstrong:
> Derek, et. al.,
>
> My version is 2:1.6.0-0ubuntu14
>
> I'm running Ubuntu 9.04
>
> Stan.
>
>
> Derek wrote:
>
> Stan.
>
> What version of X.org server do you have?
> dpkg -p xserver-xorg-core | grep Version
>
> Your problem looks different than mine, but I had AutoKey working well
> for a while, using EvDev.  Then it started getting slow to respond to
> triggers, and after a while it started failing to run.  I checked and
> found that I have v1.4 of xserver.  I have Ubuntu 8.04.  Switching to
> X Record worked for me.
>
> Derek.
>
> On Oct 17, 1:35 pm, Stan Armstrong wrote:
>
>
> Chris.
>
> This problem wasn't fixed in 0.60. It was so annoying that I made a very
> ugly hack.
>
> I run the script:
>
> #! bash/bin
> killall autokey
> sleep 1
> autokey
>
> using the crontab
>
> `* * * * *` sh /home/stan/Desktop/Autokey_toggle
>
> Ughhh!
>
> Please remember my problem in the next release.
>
> Warmest Regards.
>
> Stan.
>
> Chris Dekter wrote:
>
>
> It looks like your keyboard device is disappearing from /dev/input
> after suspend/resume, and not coming back quickly enough afterwards.It
> can probably be solved by making the daemon wait a few seconds after
> resume. I'll fix it in the next point release.
>
>
> 2009/9/16 mfseeker:

>
>
> Looking at the logs myself, I see that the connection to the EvDev
> Daemon is being lost, which makes sense out of what is happening, but
> I don't know why this connection is being lost. I am not a python
> programmer.
</pre>
<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: GTK version released</font></h1>

3 posts by 3 authors.

<h3><font color="#FF4500">Chris D said…</font></h3>

9/30/09.

A new GTK version of AutoKey is finally ready and has just been uploaded to the site and PPA.  This will allow users of Ubuntu  8.04 to upgrade to the new UI, as well as Gnome users who did not want the KDE dependencies of the 0.60 series.

The GTK version is created as a separate package (autokey-gtk instead of autokey).  It cannot be installed at the same time as the KDE version, but the config files from the two versions are compatible with each other.

In terms of the UI, the two versions are as close to the same as possible, and the GTK version features almost all the functionality of the KDE version.

A word of warning: the new GTK version should be considered alpha quality software - back up your configuration before testing it out!  To install it, you will need to remove the autokey package, then install the autokey-gtk package (this includes 8.04 users).

<h3><font color="#FF4500">nhasian said…</font></h3>

10/1/09.

I'm happy to get a new GTK version.  Now I can remove the KDE dependencies from my system.  Thanks Chris!

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

10/1/09.

Re: [autokey-users] Re: GTK version released 2009/10/1 nhasian:

Sounds really nice!  I'll try it out as soon as possible.

J.R.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Failed Installation of Autokey</font></h1>

3 posts by 2 authors.

<h3><font color="#FF4500">clinton bowen said…</font></h3>

9/20/09.

I've been forwarded to this group forum from my original post on ubuntu forums found here:

<tt>http://ubuntuforums.org/showthread.php?p=7979398</tt>

To give some background, I'm using Ubuntu Intrepid.  I downloaded the source files for version .60.5 and I installed python2.6 (located @ / usr/lib/python2.6).  I then proceeded to follow installation instructions and I didn't get very far:

<pre>
$ sudo dpkg-buildpackage -uc -us
dpkg-buildpackage: set CFLAGS to default value: -g -O2
dpkg-buildpackage: set CPPFLAGS to default value:
dpkg-buildpackage: set LDFLAGS to default value: -Wl,-Bsymbolic-
functions
dpkg-buildpackage: set FFLAGS to default value: -g -O2
dpkg-buildpackage: set CXXFLAGS to default value: -g -O2
dpkg-buildpackage: source package autokey
dpkg-buildpackage: source version 0.60.5-0~jaunty
dpkg-buildpackage: source changed by Chris Dekter
dpkg-buildpackage: host architecture i386
dpkg-checkbuilddeps: Unmet build dependencies: python (>= 2.6)
dpkg-buildpackage: warning: Build dependencies/conflicts unsatisfied;
aborting.
dpkg-buildpackage: warning: (Use -d flag to override.)
</pre>
I then realized that it was possible to use the Launchpad PPA repository as possible way to install autokey.  I've posted my troubles with this method on the ubuntu forums link above.

I'm getting this darn program on my computer come hell or high water.  There is no way I'm writing 18 pages of LateX in a weekend's time without some kind of aid.

<h3><font color="#FF4500">Chris D said…</font></h3>

9/20/09.

I would start by removing Python 2.6.  You don't need it to run AutoKey.  It looks to me like your Python installation has become borked somehow.  From your forum posts, I can see the postinstall script failing even after the package was deployed successfully.  I think the multiple versions of Python is causing this problem.  In my experience it's a very bad idea to have more than one Python version installed side by side.

So start by getting rid of Python 2.6, then if you correctly added the PPA (using the intrepid deb line, NOT the jaunty one), the installation should succeed.

2009/9/21 clinton bowen:

<h3><font color="#FF4500">clinton bowen said…</font></h3>

9/20/09.

I tried your suggestion.  I've posted my reply in the Ubuntu forums for better formatting options.

<tt>http://ubuntuforums.org/showthread.php?p=7982308&posted=1#post7982308</tt>

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Two Questions</font></h1>

5 posts by 3 authors.

<h3><font color="#FF4500">B said…</font></h3>

9/12/09.

I was looking for a program that I might be able to use to "remap" keyboard shortcuts for specific programs.  For instance, in Firefox "next tab" is <ctr>+<tab>, but in gedit, it's not, so it would be nice to catch <ctr>+<tab> for gedit and send the "next tab" keybind specifically for gedit, to make things more consistent.

AutoKey seems like the first program i've found that can do this type of functionality (on linux), but I am having some strange behavior while testing:

To test, I set a script's hot key to "<ctr>+<left>", and the script just does: keyboard.sendkeys("<ctr>+<tab>")

First, the <ctr>+<left> does seem to be activating the script, but it is also passed through to the application.  Is there a way to block the hotkey from reaching the application if it successfully activates a script? (as an example, set the 'insert date' script to the hotkey <ctr> +<left>, and when you use it in a text document, the ctr+left jumps your cursor left a word before inserting the date, instead of at the cursor position)

Second, for the '<ctr>+<left>'  ->  '<ctr>+<tab>' script, there seems to be a delay or something holding back activation of the script until I hit an addition key.  What I mean is, if I'm sitting in firefox and hit <ctr>+<left>, nothing happens, but as soon as I hit a key after that (any key), the script is activated and <ctr>+<tab> is sent.  I'm not sure if this has something to do with the hotkey I'm using, but it's odd.  I've tried this in pidgin with tabbed IM chats as well, same behavior.

I'm using ubuntu 9.04.

<h3><font color="#FF4500">Alex Bepple said…</font></h3>

9/13/09.

As to your second question: Have you tried defining a phrase instead of a script?  I used your key mapping ('<ctr>+<left>'  ->  '<ctr> +<tab>') and it worked just fine.  The text for the phrase: "<ctr> +<tab>". ;)

Cheers.  Alex   <h3><font color="#FF4500">Chris D said…</font></h3>


9/13/09.

<pre>
2009/9/13 B:
> First, the <ctr>+<left> does seem to be activating the script, but it
> is also passed through to the application.  Is there a way to block
> the hotkey from reaching the application if it successfully activates
> a script?
</pre>
Unfortunately there is no way to prevent this.  I have done some investigation into 'grabbing' the key combination so X does not send it to other clients, but it led to very strange behaviour.  This might be due to a lack of knowledge on my part of how keyboard grabs work in X, or it might be a bug in the python-xlib.  Either way, it doesn't seem to be possible right now.

<pre>
> Second, for the '<ctr>+<left>'  ->  '<ctr>+<tab>' script, there seems
> to be a delay or something holding back activation of the script until
> I hit an addition key.   What I mean is, if I'm sitting in firefox and
> hit <ctr>+<left>, nothing happens, but as soon as I hit a key after
> that (any key), the script is activated and <ctr>+<tab> is sent.  I'm
> not sure if this has something to do with the hotkey I'm using, but
> it's odd.  I've tried this in pidgin with tabbed IM chats as well,
> same behavior.
</pre>
This might be a bug…will look into it when I have some spare time.

<h3><font color="#FF4500">B said…</font></h3>

9/17/09.

Using phrases seems to work better (I thought I read somewhere on the website that phrases weren't supposed to do that anymore).

Again, though, the phrase isn't 'sent' until i release the control key.  I don't know if this is by design, but it makes it so you can't (in this case) hold down control and keep hitting left to tab multiple times.

Would it be more feasible to bind a script just to the "left" key, and in the script check to see if the ctrl key is down?

<h3><font color="#FF4500">Chris D said…</font></h3>

9/17/09.

<pre>
2009/9/17 B:
> Using phrases seems to work better (I thought I read somewhere on the
> website that phrases weren't supposed to do that anymore).
>
> Again, though, the phrase isn't 'sent' until i release the control
> key.  I don't know if this is by design, but it makes it so you can't
> (in this case) hold down control and keep hitting left to tab multiple
> times.
</pre>
This is by design.  AutoKey won't send any keyboard events until all keys have been released.  This prevents unpredictable results.

<pre>
> Would it be more feasible to bind a script just to the "left" key, and
> in the script check to see if the ctrl key is down?
</pre>
That is not possible with the current implementation.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: HTML Phrases</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">panoptican said…</font></h3>

9/16/09.

How can I make the GUI display full HTML code for HTML phrases I save?

I feel almost certain that I am completely misunderstanding something because it seems silly that I would have this problem.  But after I input a long string of HTML, it converts it into a "rich text" format and I am not able to modify the HTML without deleting everything that is already there.  Is there a setting I can tick so that it always shows code when looking at phrases in the GUI?

For instances, I have a phrase called "pjust" which inserts the code (p style="text-align: justify;").  I can paste it into AutoKey as a phrase and save and it works but if I want to change it at all, it's just a blank input box since it's reading it in "rich text."  I have to redo the whole phrase basically.  The more complex HTML strings I have setup (with images, links and titles) or of a greater concern to me.

Thanks.  Jason   <h3><font color="#FF4500">Chris D said…</font></h3>


9/16/09.

Thanks for reporting this - it's a bug and will be fixed in the next release.

2009/9/17 panoptican:

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: New version with nogui API</font></h1>

10 posts by 5 authors.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/20/09.

The new version just uploaded features a first-draft edition of an API allowing you to use AutoKey without the GUI.  Eventually, this will be available as a separate package without the KDE dependencies.  The API uses an imperative/C-like style to make things as simple as possible.

If you want to try it out, here is a simple example:

First, you need the main Python script that will initialise everything:

<pre>p
#================

from autokey.nogui import `*`

create_abbreviation("brb", "be right back")
load_script_file("test.aks")

s = create_script("doSomething")
set_abbreviation(s, "adf")

s = create_script("somethingElse")
set_abbreviation(s, "st2")

start(True)

#================
</pre>
Save this as e.g. test.py  Next, you need the file containing the script 'blocks' (blocks of Python code delimited by tags to identify them) which is used in load_script_file() and create_script():

<pre>
#================

<doSomething>
keyboard.send_keys("I did something!")

<somethingElse>
keyboard.send_keys("This is another script")

#================
</pre>
Save this as test.aks (referred to in the call to load_script_file())

Note: In this example each script is only a single line, but of course you could have multiple lines of code for each script.  Everything must be properly indented according to normal Python rules.

Now, if you run the test.py script (i.e. 'python test.py'), AutoKey will start in no-gui mode with the scripts and abbreviation defined above.

<h3><font color="#FF4500">naveen said…</font></h3>

8/23/09.

Hey, I am glad to see this.  Will try it out soon.  Thanks.

<h3><font color="#FF4500">fsiefken said…</font></h3>

8/26/09.

Hello Chris.

Does this mean Autokey can now run without X dependency or just KDE dependency?  I would be nice if one could run Autokey from the console, but there is probably no easy way to intercept key events other then via the kernel.

Regards.  Francis   <h3><font color="#FF4500">naveen said…</font></h3>


8/26/09.

The point of autokey like code is to automate the window manager.  X is the lowest common denominator for most linux window managers. without x, what would you use autokey for, that you couldn't do with a shell like bash?

<h3><font color="#FF4500">Chris D said…</font></h3>

8/26/09.

Precisely:

2009/8/27 naveen:

<h3><font color="#FF4500">fsiefken said…</font></h3>

8/27/09.

Thanks for the update.  Like the autokey example I would like to use auto expanding abbreviations in the console to speed up typing mails and texts, I am not aware of ways of doing this with shell (apart from tab autocomplete and aliases for commands).  I don't know of a way to do this for example in VI.  I did find a kernel hack (kbd-mangler) for an older 2.6 patchlevel, but wondered if there was a way to use such in a user space program like autokey.  I suppose it can be done with the 2.6 uinput functionality.

Kind regards.  Francis   <h3><font color="#FF4500">Chris D said…</font></h3>


8/27/09.

Yes theoretically it would be possible to implement this.  You'd have to combine it with AutoKey's existing EvDev interface (which reads events directly from a device rather than from X).  Maybe some day:

2009/8/28 Francis Siefken:

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

8/28/09.

<pre>
2009/8/27 Francis Siefken:
> Thanks for the update. Like the autokey example I would like to use
> auto expanding abbreviations in the console to speed up typing mails
> and texts, I am not aware of ways of doing this with shell (apart from
> tab autocomplete and aliases for commands).
</pre>
If you run your commands from within Emacs, you can define any abbreviations you like.  Well, OT, I know, sorry.

J.R.

<pre>
> I don't know of a way to do this for example in VI. I did find a
> kernel hack (kbd-mangler) for an older 2.6 patchlevel, but wondered if
> there was a way to use such in a user space program like autokey. I
> suppose it can be done with the 2.6 uinput functionality.
>
> Kind regards.
> Francis
>
> On Thu, Aug 27, 2009 at 1:03 AM, naveen wrote:
>>
>> The point of autokey like code is to automate the window manager.  X
>> is the lowest common denominator for most linux window managers.
>> without x, what would you use autokey for, that you couldn't do with a
>> shell like bash?
>>
>>
>> On Aug 26, 4:38 pm, fsiefken wrote:
>>> Hello Chris.
>>>
>>> Does this mean Autokey can now run without X dependency or just KDE
>>> dependency?
>>> I would be nice if one could run Autokey from the console, but there
>>> is probably no easy way to intercept key events other then via the
>>> kernel.
>>>
>>> Regards.
>>> Francis
>
</pre>
<h3><font color="#FF4500">naveen said…</font></h3>

8/28/09.

<pre>
> If you run your commands from within Emacs, you can define any
> abbreviations you like.
</pre>
there is some work in emacs towards DBUS support.  Autokey like functionality within emacs is interesting to me.  I had actually dynamically loaded authotkey into emacs on windows once:

<tt>http://www.ahklisp.com/</tt>

surprisingly a dependency on emacs does not necessitate a dependency on x.

<pre>
>  X is the lowest common denominator for most linux window managers.
</pre>

Actually there is gnu screen: <tt>http://www.gnu.org/software/screen/</tt> you can actually have a nongraphical window manager: not to mention tcl expect:

<h3><font color="#FF4500">marshag63 said…</font></h3>

9/7/09.

VIM has a plug-in for persistent abbreviation expansion:

<tt>http://vim.sourceforge.net/scripts/script.php?script_id=2477</tt>

MarshaG.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Getting Started—First Impressions</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">tkorpos said…</font></h3>

9/4/09.

Hi All.

I have installed autokey through adding the ppa deb package.  I have Ubuntu Jaunty with Gnome.  Here are some questions/notes:

After installation I just guessed I should launch the app. with "autokey" from the command line but wasn't sure.  Any document on this?

The Help/Autokey Handbook comes back with "The file or folder help:/ AutoKey/index.html does not exist."  Is it because I have Gnome and not KDE?

How to playback a script?  I didn't see a menu option in the GUI.  Is it only through Abbreviation/Hotkey?

The project naming is not the most fortunate in terms of Google search: I got tons of unrelated hits, mostly from AutoHotKey.  Adding some Linux flavor to it would be nice.

Thanks.

Tibor.

<h3><font color="#FF4500">Chris D said…</font></h3>

9/5/09.

<pre>
> - After installation I just guessed I should launch the app. with
> "autokey" from the command line but wasn't sure. Any document on this?
</pre>
There should be a menu entry under Accessories or Utilities (depends on your desktop environment).

<pre>
> - The Help/Autokey Handbook comes back with "The file or folder help:/
> AutoKey/index.html does not exist." Is it because I have Gnome and not
> KDE?
</pre>
Not quite…that menu entry is automatically added by the KDE GUI library I'm using - there is no actual docco to back it up yet, that's why you get the error.  There should be another menu entry there called "online manual" which will take you to the wiki.

<pre>
> - How to playback a script? I didn't see a menu option in the GUI. Is
> it only through Abbreviation/Hotkey?
</pre>
You can also check the 'show in tray menu' option for the script, then it will appear in the right-click menu for the tray icon.  You can run it from there.

<pre>
> - The project naming is not the most fortunate in terms of Google
> search: I got tons of unrelated hits, mostly from AutoHotKey. Adding
> some Linux flavor to it would be nice.
</pre>
The package is already in Debian and Ubuntu…bit late for a name change now :P

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Getting Autokey 0.60 to work</font></h1>

19 posts by 4 authors.

<h3><font color="#FF4500">mrdickie said…</font></h3>

8/18/09.

I did have this program working a while ago but since 0.54 it's failing to start and I'm baffled!

With 0.60 I'm getting this error and would appreciate some help and its a great program and I hate typing!

<pre>
File "/usr/bin/autokey", line 5, in <module>
    from autokey.autokey import Application
  File "/usr/lib/python2.6/dist-packages/autokey/autokey.py", line 27,
in <module>
    import service, ui.notifier, ui.popupmenu
  File "/usr/lib/python2.6/dist-packages/autokey/service.py", line 22,
in <module>
    import ui.configwindow, model
  File "/usr/lib/python2.6/dist-packages/autokey/ui/configwindow.py",
line 24, in <module>
    from PyQt4 import Qsci
ImportError: cannot import name Qsci
</pre>
Any ideas?  I've got python-qt4 installed and also python-kde4.

Thanks mrdickie   <h3><font color="#FF4500">Chris D said…</font></h3>


8/18/09.

You need python-qscintilla2 (a quick search of this group would have found the solution ;)

2009/8/18 mrdickie:

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Autokey with backported kde 4.3</font></h1>

5 posts by 3 authors.

<h3><font color="#FF4500">doortokaos said…</font></h3>

9/3/09.

Hi there.

is there any way to run Autokey on an ubuntu jaunty with an backported KDE 4.3?

While trying to start Autokey I get the following error:

<pre>
Traceback (most recent call last):
  File "/usr/bin/autokey", line 5, in <module>
    from autokey.autokey import Application
  File "/usr/lib/python2.6/dist-packages/autokey/autokey.py", line 27,
in <module>
    import service, ui.notifier, ui.popupmenu
  File "/usr/lib/python2.6/dist-packages/autokey/service.py", line 22,
in <module>
    import ui.configwindow, model
  File "/usr/lib/python2.6/dist-packages/autokey/ui/configwindow.py",
line 24, in <module>
    from PyQt4 import Qsci
ImportError: cannot import name Qsci
</pre>
Greetings. doortokaos   <h3><font color="#FF4500">Chris D said…</font></h3>


9/3/09.

Yes, you need to install python-qscintilla and its dependencies from karmic.  For some reason it's missing from the backport.

<h3><font color="#FF4500">doortokaos said…</font></h3>

9/3/09.

Ahh thanks…At first I wasn't able to figure out, how to do that, but now I've managed it.

Now autokey is working as intended.

<h3><font color="#FF4500">mrdickie said…</font></h3>

9/3/09.

How did you do that?  I'm not experienced in these matters and am having the same problem as you had.

MrDickie   <h3><font color="#FF4500">mrdickie said…</font></h3>


9/3/09.

YES!!!!!!  I've finally cracked it, thanks to this thread with its ideas.  I've simply downloaded the qscintiila2 from the ubuntu website with a couple of dependencies and I've FINALLY got Autokey 0.6 to work.  Yippee!

If you are having this problem with a backported 4.3 (no I don't really know what it means either, I'm a noob!) where you get the error mentioned in the first item in this thread (cannot import Qsci module) then goto <tt>http://packages.ubunut.com/en/karmic/python/python-qscintilla2</tt> and download this file.  It will tell you which dependencies you need (mine were python-support 0.9 and libsqcintilla2.5) which are also available on this website.

Thanks to Mr Dekter for this brilliant AutoHotKey for Linux replacement and keep developing it too!

MrDickie   <br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: How to install autokey on non Debian based distributions?</font></h1>


8 posts by 3 authors.

<h3><font color="#FF4500">daniel said…</font></h3>

8/13/09.

Does anyone got it working on Mandriva, Fedora etc?

<h3><font color="#FF4500">Chris D said…</font></h3>

8/13/09.

I am aware of people having gotten it to work on Fedora etc.  Not sure if Fedora has a deb installer available, but if not you can download the source archive, and extract it.  Then:

Install the Python components:

<pre>
sudo python setup.py install
</pre>
Install the init script (this is standardised to LSB so should just work) as root:

<pre>
cp debian/autokey.init /etc/init.d/autokey
chkconfig add autokey
</pre>
Now you should be able to start it by running (again, as root):

<pre>
service autokey start
</pre>
Then start the application itself from the menu installed menu item (hopefully).

<h3><font color="#FF4500">daniel said…</font></h3>

8/13/09.

Thank you for hint  I've got it working on Mandriva 2009.1 :)

Here is how:

As root:

<pre>
urpmi python-xlib python-configobj python-notify python-setuptools

python2.6 setup.py install
cp debian/autokey.init /etc/init.d/autokey
chmod a+x /etc/init.d/autokey
chkconfig —add autokey

service start autokey
</pre>
Then start application from menu (on LXDE launcher is in SystemTools >Autokey)

<h3><font color="#FF4500">Wayne Sallee said…</font></h3>

8/14/09.

`***` Fix`****`

Thanks Daneil, !!!

Your instructions need one correction.

Change    <pre>
"service start autokey"  to  "service autokey start" </pre>
`*************` So the instructions wold be:

`****`

I've got it working on Mandriva 2009.1 :)

Here is how:

As root:

<pre>
urpmi python-xlib python-configobj python-notify python-setuptools

python2.6 setup.py install
cp debian/autokey.init /etc/init.d/autokey
chmod a+x /etc/init.d/autokey
chkconfig —add autokey

service autokey start
</pre>
Then start application from menu (on LXDE launcher is in SystemTools -

`************`

Thanks !!!!

I now finally have it working on Mandriva.

Wayne Sallee.

<h3><font color="#FF4500">Wayne Sallee said…</font></h3>

9/2/09.

I kept getting the dreaded cannot comunicate with the keyboard daemon.

I was having some other problems with my Mandriva so I reinstalled it all over.

And to my joy, I was able to get Autokey to work!

But I noticed that it still had a small unoticable error that it could not acces the oxygen theme in kde because I had not installed a full kde desktop or the oxygen theme.  So I just installed oxygen-icon~theme.

That was a mistake !!!

I got the dreaded keyboard daemon error.

So I installed a kde desktop to see if I could fix it, but could not, so I uninstalled the kde desktop, and also did an urpme—auto-orphans to remove the orphaned kde stuff.

Restarted the computer, and it works !!!  It does not have some of the icons, but so what, it works!

Here is how to install Autokey on Mandriva with GNOME desktop:

Don't install KDE desktop, and don't install oxygen-icon-theme    <pre>
cd to extracted autokey folder </pre>
As root:

<pre>
urpmi python-xlib python-qt4 python-kde4 python-qt4-qscintilla python-
configobj python-notify python-setuptools

python2.6 setup.py install
cp debian/autokey.init /etc/init.d/autokey
chmod a+x /etc/init.d/autokey
chkconfig —add autokey

service autokey start
</pre>
Then start application from menu (on LXDE launcher is in SystemTools   <h3><font color="#FF4500">Wayne Sallee said…</font></h3>


9/2/09.

Well looks like I was mistaken on the oxygen theme.  It's given me some trouble again.  But I restarted the service autokey start.

Might as well urpmi oxygen-icon-theme if you don't have kde.

Why dose it place autokey-daemon.pid in the temporary folder, when it is set to start up at startup?  The files in the temporary folder gets erased after restart.

<h3><font color="#FF4500">Wayne Sallee said…</font></h3>

9/2/09.

Now I put "service autokey restart" in the startup before autokey.  That seems to have fixed the startup.

<h3><font color="#FF4500">Chris D said…</font></h3>

9/2/09.

The process ID would be different each time you run the daemon, so it's fine to put it in /tmp.  A more tradition place would be /var/run, but it really doesn't matter.

From what you've written, I would say that the service is not enabled to automatically run on boot.  I believe you could enable it with the following command (as root):

chkconfig—level 2345 autokey on   <br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: using spacebar as a modifier in a hotkey</font></h1>


2 posts by 2 authors.

<h3><font color="#FF4500">ian said…</font></h3>

9/2/09.

Hi  does anybody know how to use spacebar as a modifier in a hotkey?

E.g.  I want to use <spacebar> + j = backspace.

Thanks.

<h3><font color="#FF4500">Chris D said…</font></h3>

9/2/09.

Space is not really a modifier, and AutoKey isn't designed to treat it as such.  So as it stands, it would be impossible without substantial changes to the code.

2009/9/3 ian:

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Crash at startup after messing with phrases</font></h1>

13 posts by 2 authors.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

8/24/09.

Got a problem when adding a new phrase.  The save button wouldn't work (nothing happened when clicking it) and after struggling with it for a while I just gave up and brutally killed the AutoKey process.

After that I can not start AutoKey anymore.  I figured that the phrase I was working with might be the reason, so I looked for  a file somewhere which might contain all my phrases, but I couldn't find one.  Is there a way to solve this, or is a fresh install and reentering all my 50-100 phrases from scratch the only solution?

Best Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/24/09.

I'd have to see your log file - it's in ~/.config/autokey/autokey.log  2009/8/25 Johnny Rosenberg:

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

8/25/09.

Here are the 100 last lines of the log file:

<pre>
$ tail -n 100 ~/.config/autokey/autokey.log
INFO - config-manager - Configuration changed - rebuilding in-memory structures
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - root - Initialise global hotkeys
INFO - config-manager - Finished persisting configuration - no errors
INFO - config-manager - Configuration changed - rebuilding in-memory structures
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - root - Initialise global hotkeys
INFO - config-manager - Finished persisting configuration - no errors
INFO - config-manager - Configuration changed - rebuilding in-memory structures
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - root - Initialise global hotkeys
INFO - config-manager - Finished persisting configuration - no errors
INFO - config-manager - Configuration changed - rebuilding in-memory structures
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - root - Initialise global hotkeys
INFO - config-manager - Finished persisting configuration - no errors
INFO - config-manager - Configuration changed - rebuilding in-memory structures
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - root - Initialise global hotkeys
INFO - config-manager - Finished persisting configuration - no errors
INFO - config-manager - Configuration changed - rebuilding in-memory structures
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - root - Initialise global hotkeys
INFO - config-manager - Finished persisting configuration - no errors
INFO - config-manager - Configuration changed - rebuilding in-memory structures
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - root - Initialise global hotkeys
INFO - config-manager - Finished persisting configuration - no errors
INFO - root - Shutting down
INFO - config-manager - Configuration changed - rebuilding in-memory structures
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - root - Initialise global hotkeys
INFO - config-manager - Finished persisting configuration - no errors
INFO - service - Service shutting down
INFO - config-manager - Persisting configuration
INFO - config-manager - Backing up existing config file
INFO - root - Initialise global hotkeys
INFO - config-manager - Finished persisting configuration - no errors
ERROR - root - AutoKey is already running - exiting
INFO - root - Initialising application
INFO - config-manager - Loading config from existing file:
/home/guraknugen/.config/autokey/autokey.bin
ERROR - config-manager - Error while loading configuration. Backup has
been restored.
INFO - config-manager - Loading config from existing file:
/home/guraknugen/.config/autokey/autokey.bin
ERROR - config-manager - Error while loading configuration. Cannot recover.
ERROR - root - Fatal error starting AutoKey:
Traceback (most recent call last):
  File "/usr/lib/python2.5/site-packages/autokey/autokey.py", line 97,
in __init__
    self.initialise(args.isSet("configure"))
  File "/usr/lib/python2.5/site-packages/autokey/autokey.py", line
134, in initialise
    self.configManager = get_config_manager(self)
  File "/usr/lib/python2.5/site-packages/autokey/configmanager.py",
line 74, in get_config_manager
    return get_config_manager(autoKeyApp, True)
  File "/usr/lib/python2.5/site-packages/autokey/configmanager.py",
line 65, in get_config_manager
    settings, configManager = pickle.load(pFile)
EOFError
INFO - root - Initialising application
INFO - config-manager - Loading config from existing file:
/home/guraknugen/.config/autokey/autokey.bin
ERROR - config-manager - Error while loading configuration. Backup has
been restored.
INFO - config-manager - Loading config from existing file:
/home/guraknugen/.config/autokey/autokey.bin
ERROR - config-manager - Error while loading configuration. Cannot recover.
ERROR - root - Fatal error starting AutoKey:
Traceback (most recent call last):
  File "/usr/lib/python2.5/site-packages/autokey/autokey.py", line 97,
in __init__
    self.initialise(args.isSet("configure"))
  File "/usr/lib/python2.5/site-packages/autokey/autokey.py", line
134, in initialise
    self.configManager = get_config_manager(self)
  File "/usr/lib/python2.5/site-packages/autokey/configmanager.py",
line 74, in get_config_manager
    return get_config_manager(autoKeyApp, True)
  File "/usr/lib/python2.5/site-packages/autokey/configmanager.py",
line 65, in get_config_manager
    settings, configManager = pickle.load(pFile)
EOFError
INFO - root - Initialising application
INFO - config-manager - Loading config from existing file:
/home/guraknugen/.config/autokey/autokey.bin
ERROR - config-manager - Error while loading configuration. Backup has
been restored.
INFO - config-manager - Loading config from existing file:
/home/guraknugen/.config/autokey/autokey.bin
ERROR - config-manager - Error while loading configuration. Cannot recover.
ERROR - root - Fatal error starting AutoKey:
Traceback (most recent call last):
  File "/usr/lib/python2.5/site-packages/autokey/autokey.py", line 97,
in __init__
    self.initialise(args.isSet("configure"))
  File "/usr/lib/python2.5/site-packages/autokey/autokey.py", line
134, in initialise
    self.configManager = get_config_manager(self)
  File "/usr/lib/python2.5/site-packages/autokey/configmanager.py",
line 74, in get_config_manager
    return get_config_manager(autoKeyApp, True)
  File "/usr/lib/python2.5/site-packages/autokey/configmanager.py",
line 65, in get_config_manager
    settings, configManager = pickle.load(pFile)
EOFError
INFO - root - Initialising application
INFO - config-manager - Loading config from existing file:
/home/guraknugen/.config/autokey/autokey.bin
ERROR - config-manager - Error while loading configuration. Backup has
been restored.
INFO - config-manager - Loading config from existing file:
/home/guraknugen/.config/autokey/autokey.bin
ERROR - config-manager - Error while loading configuration. Cannot recover.
$
</pre>
It would be nice if all configuration stuff was available in a text file somewhere, like XML or just some easy-to-understand-text, making it easy to fix things like this without having to bother developers, who have more important things to do than fixing the result of my stupidity. ;)

Johnny Rosenberg.

2009/8/25 Chris Dekter:

<h3><font color="#FF4500">Chris D said…</font></h3>

8/25/09.

From this, the unfortunate news is that both the config and the backup config are corrupted.  I'm not sure how this has happened, as the app is designed to make this situation impossible - I never overwrite the backup unless I have a good config in memory.  The part of the log file you have sent does not show why you had problems saving, so I can't really tell how this all got started.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

8/25/09.

<pre>
2009/8/25 Chris Dekter:
>
> From this, the unfortunate news is that both the config and the backup
> config are corrupted. I'm not sure how this has happened, as the app
> is designed to make this situation impossible - I never overwrite the
> backup unless I have a good config in memory. The part of the log file
> you have sent does not show why you had problems saving, so I can't
> really tell how this all got started.
</pre>
And there is no config file of any kind to edit?

<h3><font color="#FF4500">Chris D said…</font></h3>

8/26/09.

AutoKey uses Python's built in object serialisation module, called 'pickle'.  The result is stored at ~/.config/autokey/autokey.bin.  I haven't really investigated the format that much myself - generally it 'just works'.

2009/8/26 Johnny Rosenberg:

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

8/28/09.

2009/8/26 Chris Dekter:

<pre>
> AutoKey uses Python's built in object serialisation module, called
> 'pickle'. The result is stored at ~/.config/autokey/autokey.bin. I
> haven't really investigated the format that much myself - generally it
> 'just works'.
</pre>
Ouch.

Time for the Python guys to reinvent XML I guess.  ;P

Anyway, that bin file seems to be a text file, and I can see all my phrases in it and its ibbreviatio=ns, however I don't understand most of the surrounding text in the file yet.  Maybe there is some info about those kinds of files somewhere, but I guess the easiest way for me right now is to start all over again.

Johnny Rosenberg.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/28/09.

<pre>
> Ouch.
>
> Time for the Python guys to reinvent XML I guess.  ;P
</pre>
I doubt that will ever happen.  If you're interested in the reasoning, this article puts it pretty succinctly:

<tt>http://fishbowl.pastiche.org/2005/01/10/xml_is_not_the_answer/</tt>

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

8/29/09.

OK, anyway, to get back to my problem, I uninstalled AutoKey and installed it from scratch, but it still won't start.  However, this time the error message tells me why, which is that it can't find the file autokey.bin~, which I understand, because it's simply not there.

If I then simply ignore the message and try to starta AutoKey again, the error message is different: Suddenly it doesn't say anything about that file, but it complains about that a global name "PickleError" is not defined.

I'm still on Ubuntu 8.11 (which shouldn't be a problem since I installed the Intrepid version of AutoKey from the Intrepid repository, at least so it said during the installation).

Adding an empty autokey.bin~ helped me to get rid of that arror message, but instead I get the old one back, the one that doesn't give me any clues (just saying Fatal error starting AutoKey or something like that).

So here's the output in the terminal:

<pre>
autokey -l

INFO - root - Initialising application
INFO - config-manager - Loading config from existing file:
/home/guraknugen/.config/autokey/autokey.bin
ERROR - config-manager - Error while loading configuration. Backup has
been restored.
INFO - config-manager - Loading config from existing file:
/home/guraknugen/.config/autokey/autokey.bin
ERROR - config-manager - Error while loading configuration. Cannot recover.
ERROR - root - Fatal error starting AutoKey:
Traceback (most recent call last):
  File "/usr/lib/python2.5/site-packages/autokey/autokey.py", line 97,
in __init__
    self.initialise(args.isSet("configure"))
  File "/usr/lib/python2.5/site-packages/autokey/autokey.py", line
134, in initialise
    self.configManager = get_config_manager(self)
  File "/usr/lib/python2.5/site-packages/autokey/configmanager.py",
line 74, in get_config_manager
    return get_config_manager(autoKeyApp, True)
  File "/usr/lib/python2.5/site-packages/autokey/configmanager.py",
line 65, in get_config_manager
    settings, configManager = pickle.load(pFile)
EOFError
</pre>
Is this the same problem that I had before, that I need Python 2.6, which is not in the Intrepid repositories?  Last time I had that problem I installed Python 3.0 and it worked, but I still have 3.0 installed, so I don't know what AutoKey is doing in /usr/lib/python2.5/.

Is this a mess beyond retrieval?

Suggestions?  Install Ubuntu 9.04 from sctratch and go from there?

2009/8/29 Chris Dekter:

<h3><font color="#FF4500">Chris D said…</font></h3>

8/29/09.

Do you realise that when you uninstall, it does not remove the configuration files?  So reinstalling does not help for corrupted configuration files.  You need to simply delete the ~/.config/autokey directory.

2009/8/29 Johnny Rosenberg:

<h3><font color="#FF4500">Chris D said…</font></h3>

8/29/09.

Actually, it looks like I've jumped the gun here…There is a bug in cPickle (the persistence module I'm using).  Fortunately the solution is simple - just change to using pickle.  I'll be releasing an update shortly.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

8/29/09.

2009/8/29 cdekter:

<pre>
> Actually, it looks like I've jumped the gun here…There is a bug in
> cPickle (the persistence module I'm using). Fortunately the solution
> is simple - just change to using pickle. I'll be releasing an update
> shortly.
</pre>
Thanks for a quick response and good support as always!

J.R.

<h3><font color="#FF4500">Chris D said…</font></h3>

9/1/09.

This was fixed in today's release.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Kde deps:</font></h1>

8 posts by 5 authors.

<h3><font color="#FF4500">MrGreen said…</font></h3>

8/23/09.

Hi.

Is there a way to install autokey without using kde deps?

MrG.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/23/09.

At the moment, no.  However I'm planning at some point to release the no-gui API as a separate package (in addition to being included with the main package) without the KDE dependencies.

2009/8/23 MrGreen:

<pre>
> Hi.
>
> Is there a way to install autokey without using kde deps?
>
> MrG.
</pre>
<h3><font color="#FF4500">jschall said…</font></h3>

8/25/09.

<pre>
On Aug 23, 3:42 am, Chris Dekter wrote:
>  I'm planning at some point to release the
> no-gui API as a separate package (in addition to being included with
> the main package) without the KDE dependencies.
</pre>
To ease the SSD squeeze on my eeePC (4GB), I have reverted to version 0.54.

I am looking forward to a non-KDE future version, preferably with a GUI!

By the way, 0.54 screws up the Ã© character, too:

Jeff Schallenberg.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/31/09.

You might be interested to know that I'm working on a GTK version of the new UI.  It won't be quite identical to the KDE version (there are some things you simply can't do with GTK), but will be very close.  The prototype is nearly finished and just needs some testing to get it ready for release.  The main reason is to support Hardy again which in reality will still be around for another 12 months.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

8/31/09.

2009/8/31 cdekter:

<pre>
> You might be interested to know that I'm working on a GTK version of
> the new UI. It won't be quite identical to the KDE version (there are
> some things you simply can't do with GTK), but will be very close.
</pre>
Just of curiosity, what kind of things could that be?

J.R.

<pre>
> The prototype is nearly finished and just needs some testing to get it
> ready for release. The main reason is to support Hardy again which in
> reality will still be around for another 12 months.
>
> On Aug 26, 2:47 am, jschall wrote:
>> On Aug 23, 3:42 am, Chris Dekter wrote:
>>
>> >  I'm planning at some point to release the
>> > no-gui API as a separate package (in addition to being included with
>> > the main package) without the KDE dependencies.
>>
>> To ease the SSD squeeze on my eeePC (4GB), I have reverted to version
>> 0.54.
>>
>> I am looking forward to a non-KDE future version, preferably with a
>> GUI!
>>
>> By the way, 0.54 screws up the Ã© character, too:
>>
>> - Jeff Schallenberg
</pre>
<h3><font color="#FF4500">nhasian said…</font></h3>

8/31/09.

cdekter, thats great.  so autokey will runin in the background as a daemon and then we can have gtk or qt frontends :)

<h3><font color="#FF4500">Chris D said…</font></h3>

8/31/09.

2009/9/1 Johnny Rosenberg:

<pre>
> 2009/8/31 cdekter:
>>
>> You might be interested to know that I'm working on a GTK version of
>> the new UI. It won't be quite identical to the KDE version (there are
>> some things you simply can't do with GTK), but will be very close.
>
> Just of curiosity, what kind of things could that be?
>
> J.R.
</pre>
Actually, they are possible but would require a lot of custom code:

• The config dialog in the KDE version (a KPageDialog).  Nothing like this exists in Gnome/GTK - would have to be built from scratch (my new GTK version just uses a tabbed notebook).

• Undo/redo on a text view control.  GTK version simply doesn't have it (although it has some basic infrastructure to allow you to implement your own).  Whereas the QT text view has undo() and redo() methods and undoAvailable() and redoAvailable() signals to latch onto.

• Treeview internal drag and drop.  Theoretically GTK treeview can do this, but I've never seen a working code example.

Some things in GTK are also frustratingly half-finished, like the UIManager which has no support for the MenuToolButton.  A few holes here and there, which will no doubt be filled in over time, but clearly demonstrate the difference that can exist at times between free and commercial products.  QT/KDE just gives you a lot of stuff for free - code less, create more ;)

<h3><font color="#FF4500">Chris D said…</font></h3>

8/31/09.

Well…you can think of it that way, but at the moment they aren't that modularised.  They do use the common back end modules but will be separate packages that can't be installed at the same time.

2009/9/1 nhasian:

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Help with combining script commands for Gmail</font></h1>

5 posts by 2 authors.

<h3><font color="#FF4500">Harrie said…</font></h3>

8/30/09.

Hi.  Trying to make a script that goes to the Gmail site with Firefox, then uses Send Keys to input name and password.  I can do both with separate scripts, but I can't seem to combine them into one.  For instance, I can go there just fine with: system.exec_command("firefox 'https://mail.google.com/'") and in a separate script I can input username, tab, password and enter with: keyboard.send_keys ("myusername<tab>mypassword<enter>")  But try as I might, I fail at stringing them together.

Is there a way I can do this using one script?  It might be very simple and I'm just missing something.  Thank you.

Also, the latest version of Autokey is really, really nice.  It's just getting better and better.  Thanks to those who've done such great work!

<h3><font color="#FF4500">Chris D said…</font></h3>

8/30/09.

The only reason I can think of that it may not work with the two scripts combined, is that you need to allow some time for Firefox to load before issuing the next call to enter the username and password.  At the moment, the only way to do that would be to add a sleep, like so:

import time  system.exec_command("firefox 'https://mail.google.com/'") time.sleep(5) # seconds, adjust if required  keyboard.send_keys("myusername<tab>mypassword<enter>")

2009/8/31 Harrie:

<h3><font color="#FF4500">Harrie said…</font></h3>

8/31/09.

Thanks.  Chris.  I tried it, and can't get that to work either.  (Goes there, but won't enter any text into the dialog boxes).  I'll try playing with the number of seconds later on (having to leave the house right now).  If that doesn't do it, it must be something to do with the Gmail page itself, possibly?  Perhaps if I fill in the Window filter section, too, I'll try that.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/31/09.

Changing the window filter won't help at all…If you want, paste the exact text you are putting in the script (or take a screenshot and email it to me).  Have you checked that when the Gmail login page loads, the cursor is actually in the username field by default?  There is no technical reason in terms of AutoKey why it should not work, so there must be an external factor at play.

2009/8/31 Harrie:

<h3><font color="#FF4500">Harrie said…</font></h3>

8/31/09.

Yes, I've gotten it to work now on Xubuntu.  I changed the seconds from 5 to 6 and also, changed in the script from Firefox to Opera.  Excellent!  The exact text I'm putting in is copied from your advice above, (import time, etc), although naturally I used my actual password and username.  Oh, the cursor does always land in the username field by default, both in Firefox and Opera.

I'll keep trying with Firefox.  I have Autokey on 2 machines now, one running Xubuntu 9.04 (Xfce) and one running Linux Mint Gloria with Gnome.  It does seem like at times, one has to repeat a command when nothing seems to happen, or is it, one needs to press the combo hot keys "hard"?  I'm not sure why that should be or if it is only me.  At any rate, I've gotten it and I really appreciate your help.  Thanks again!

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: chording and morse code</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">fsiefken said…</font></h3>

8/26/09.

On occasion I use chordhack 2.4 kernel hack to do keyboard chording to type:

<tt>http://www.cs.vassar.edu/~priestdo/chordhack/</tt>

Can autohotkey also support chords of keyspresses generating strings?

In a related question, I occasionally use morseall (x- and gnome dependent) to 'type' in morse code with the mouse buttons.  The program cannot use keyboard key presses as input, would such conceivably be possible with autokey?

Regards.  Francis - The Netherlands   <h3><font color="#FF4500">Chris D said…</font></h3>


8/26/09.

2009/8/27 fsiefken:

<pre>
> On occasion I use chordhack 2.4 kernel hack to do keyboard chording to
> type:
> http://www.cs.vassar.edu/~priestdo/chordhack/
>
> Can autohotkey also support chords of keyspresses generating strings?
</pre>
Well…a hotkey on AutoKey is technically a chord (one key with up to 4 modifiers).  Other than that, no.

<pre>
> In a related question, I occasionally use morseall (x- and gnome
> dependent) to 'type' in morse code with the mouse buttons. The program
> cannot use keyboard key presses as input, would such conceivably be
> possible with autokey?
</pre>
Conceivably yes, but it does not fit in with the core functionality of AutoKey.  I'm a firm believer in the Linux application philosophy of 'doing one thing, and doing it well'.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Importing existing expansions from other programs</font></h1>

8 posts by 3 authors.

<h3><font color="#FF4500">DrT said…</font></h3>

8/23/09.

Can one automatically or manually import abbreviations/expansions produced in other programs?  In the earlier builds, one could do this in a text editor.  What are the options now, i.e., in 0.64.4?  Thanks!

<h3><font color="#FF4500">Chris D said…</font></h3>

8/23/09.

The main option would be the nogui API.  You could use a text editor to format whatever config file you have from the other application into a series of create_abbreviation() calls (see the examples on the wiki).

2009/8/24 DrT:

<h3><font color="#FF4500">DrT said…</font></h3>

8/24/09.

Thanks.  I formatted a tab-delimited file according to your example and it works fine.

Now, two questions and two requests:

(1) Will the nogui â€œsystem" with my abbreviations start with each reboot of my box (ubuntu 9.04), and if not, how can it be made to automatically start? (2) How can I edit the "test.py" file so that Greek letters can be included in expansions? (3) Might you develop a simple script, included in the pkg, to import tab-delimited files into the gui? (4) Mighty you create a manual for the pkg?

Thanks very much!

<h3><font color="#FF4500">Chris D said…</font></h3>

8/24/09.

1 - No it won't.  Most desktop environments have the ability to autostart applications or scripts at login, I suggest you investigate this avenue for whatever DE you are using.  2 - Have you tried to actually do this?  You can simply type them in.  It's just a text file: 3 - Can you please explain what you mean by tab-delimited file?  4 - There is a fair amount of information on the wiki, however there is no manual for the new GUI as yet.  I'd love a volunteer to work on it (I simply don't have time).

Regards.  Chris.

2009/8/25 DrT:

<h3><font color="#FF4500">DrT said…</font></h3>

8/25/09.

1.  I created the following script as the file /etc/init.d/ local.autostart:

#!/bin/sh cd ~/Desktop python AutokeyAbbreviations.py  ~/Desktop is where the AutokeyAbbreviations.py file exists.

It didnâ€™t boot Autokey (Ubuntu 9.04).  However entering the last line directly into a terminal window does successfully start the program.

2.  Yes, I modified a text file and now all the plain text abbreviations whose expansions contain Greek letters work.  However, the expansions with the escape character â€œ\," which precedes all my LaTeX-specific expansions, is giving strange output (missing letters, strange symbols, et al.) .  The expansion renders and then immediately thereafter text rapidly is removed, as if I am holding down the delete key.

For example:

<pre>
abe will expand to "AÎ²" fine.
ab42 expands to "Að»‰‚". It should be "AÎ²42."
\ab should expand to "A$\beta$." Instead, nothing happens after I enter the \ab and press space or return.
</pre>
3.  A â€œtab delimited file" is simply a text file, usually tabular, in which the elements in the file are separated horizontally by tab characters and the line are separated by carriage returns.  Itâ€™s a common file structure for making platform- and program-independent files that can be exchanged, imported, exported.

4.  I understand.  The advances youâ€™ve made since the 0.5 series are impressive, especially with the much simpler and more elegant gui and the nongui capabilities.  Thank you very much.  In the long run, it may actually save you time to expand your faq and wiki pages or create a manual so that you would not have to respond to all these questions.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/25/09.

1.  That would cause it to run as root, and may event cause it to start before the AutoKey daemon (which means it would then fail).  Hint ~have a look at the Sessions settings applet if you are using Gnome.

2.  The reason for that is because backslash (\) is a special character in Python.  You need to escape it with another backslash like so: \\

3.  I'm disinclined to add support for files in arbitrary formats (I've had a lot of requests for different formats).  The no-gui API means it is trivial to implement this sort of thing yourself.  For example, to import a series of abbreviations in tab delimited format (each on a separate line) you could do:

f = open("filename.tsv", 'r') for line in f: abbr, exp = line.split() create_abbreviation(abbr, exp) f.close()

The only thing that is still missing is the ability to then save this configuration to be used with the GUI.  I'll be adding this in the next release.

<h3><font color="#FF4500">naveen said…</font></h3>

8/26/09.

<pre>
On Aug 25, 2:09 am, DrT wrote:
> 1. I created the following script as the file /etc/init.d/
> local.autostart:
</pre>
I am actually not a big fan of the automatic installation of the demon as a service that launches during bootup.  Why not let the demon startup and die with the autokey process:

<h3><font color="#FF4500">Chris D said…</font></h3>

8/26/09.

Because the daemon needs to run as root.  It runs in a single thread with very little memory and does no processing unless autokey is running.  I don't see the problem.

<pre>
On Aug 27, 2009 9:26 AM, "naveen" wrote:
</pre>
<pre>
On Aug 25, 2:09 am, DrT wrote: > 1. I created the following script as the file /:
</pre>
I am actually not a big fan of the automatic installation of the demon as a service that launches during bootup.  Why not let the demon startup and die with the autokey process:

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: AutoKey 0.6.4 won't insert "Ã©"</font></h1>

8 posts by 3 authors.

<h3><font color="#FF4500">jschall said…</font></h3>

8/23/09.

I toggle between French (ca) and English (us) keyboards, using the following command in my autostart.sh:

setxkbmap -option grp:switch,grp:shifts_toggle,grp_led:scroll us,ca &

I created a phrase "accents", which, when copied from the AutoKey  phrase window, reads:

<pre>
Ã©Ã¨Ã  ÃªÃ§Ã¶
/'e'a[e]c}o
</pre>
(the us keyboard strokes are below the ca characters - note the line feed after the Ã¶)

BUT, when inserted  by AutoKey, it becomes:

<pre>
/Ã¨Ã  ÃªÃ§Ã¶/'e'a[e]c}o
</pre>
The Ã© is the only character that isn't toggled, and the line feed is removed.

Weird.

Jeff Schallenberg.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/23/09.

With all the additional options you've specified to xkbmap, I'm not surprised it doesn't work properly.  It's really best if you stick to basic scenarios with a single map without group switching or toggling.  To be honest, the current state of AutoKey has reached the limits of my knowledge of keyboard maps.  I don't believe I can improve it any further without help from someone who is a specialist in how Linux/X handles keyboard maps.  Sigh:

2009/8/23 jschall:

<h3><font color="#FF4500">jschall said…</font></h3>

8/23/09.

<pre>
On Aug 23, 8:53 am, Chris Dekter wrote:
> I don't believe I can improve it any
> further without help from someone who is a specialist in how Linux/X
> handles keyboard maps.
</pre>
OK, thanks, Chris.

Just in case there is such an expert listening, I just confirmed that AutoKey works fine for other "special" keys in the ca map:

<pre>
(us)!#$%^&`*`()_+
(ca)!/$%?&`*`()_+
</pre>
The above 2 lines were inserted perfectly by AutoKey.  It seems the only defective mapping is the / which won't insert as Ã©.

<h3><font color="#FF4500">Chris D said…</font></h3>

2009/8/23 jschall:

8/23/09.

Out of interest, how would the Ã© be typed?

<h3><font color="#FF4500">jschall said…</font></h3>

8/24/09.

<pre>
On Aug 23, 8:44 pm, Chris Dekter wrote:
> Out of interest, how would the Ã© be typed?
</pre>
With the ca map, Ã© is typed with the / key.

Jeff.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

8/24/09.

2009/8/25 jschall:

I don't know if this matters, but in another thread I mention a problem with Japanese (for example) characters.  In my tests I had the same problem with Ã©.  I have a standard Swedish keyboard and I type the Ã© using the '(dead key) and then an e.  I can also use the compose key, then '(dead key twice or non-dead key once) and then e.

Johnny Rosenberg.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/24/09.

jschall:

I'm not sure why you're having this problem - I just tested and it works fine for me.

johnny:

Try to use a keymap without dead keys.  Dead keys are essentially unmapped, so AutoKey 'types' them as unicode chars (just like the Japanese chars).  Regardless, any issues you are having with that will be resolved by the fix I mentioned yesterday.

2009/8/25 Johnny Rosenberg:

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

8/25/09.

2009/8/25 Chris Dekter:

<pre>
>  jschall:
>
> I'm not sure why you're having this problem - I just tested and it
> works fine for me.
>
> johnny:
>
> Try to use a keymap without dead keys. Dead keys are essentially
> unmapped, so AutoKey 'types' them as unicode chars (just like the
> Japanese chars). Regardless, any issues you are having with that will
> be resolved by the fix I mentioned yesterday.
</pre>
Well, I guess that when those Japanese characters work, the Ã© will work as well, I guess that's what you said above.  I like the dead keys even though I don't need them since I can do the same thing with the Compose key (although it takes one more key to obtain the same thing).  The purpose with my post was only to mention it, in case it could be a clue making it easier to solve the problem.  Obviously it didn't, since you seem to have things under control anyway, I just wanted to help the very little way I can.  I hope I wasn't confusing instead.

Johnny Rosenberg.

<pre>
> 2009/8/25 Johnny Rosenberg:
>>
>> 2009/8/25 jschall:
>>>
>>> On Aug 23, 8:44 pm, Chris Dekter wrote:
>>>> Out of interest, how would the Ã© be typed?
>>>
>>> With the ca map, Ã© is typed with the / key.
>>>
>>> Jeff.
>>>
>>
>> I don't know if this matters, but in another thread I mention a
>> problem with Japanese (for example) characters. In my tests I had the
>> same problem with Ã©.
>> I have a standard Swedish keyboard and I type the Ã© using the '(dead
>> key) and then an e. I can also use the compose key, then '(dead key
>> twice or non-dead key once) and then e.
>>
>> Johnny Rosenberg
</pre>
<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Backspace.</font></h1>

4 posts by 2 authors.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

8/23/09.

Installed the new AutoKey 0.60.4.  Here is one first observation (I think this behaviour was the same witn 0.60.3, but I didn't find out how to reproduce it until now.):

Type an abbreviation, doesn't matter which one.  Press Space (or other trigger key).  The corresponding phrase replaces the abbreviation, just as it should.  Now hit Backspace.  The whole phrase is removed!  Now type an abbreviation, the same as before or another one.  Nothing happens.  You now need to quit AutoKey and restart it.

Ã…Ã„Ã–Ã¥Ã¤Ã¶ are still replaced by other characters in the right click menu and in the configure dialogue.  However they seem to come out right.

Kind Regards.

Johnny Rosenberg.

Ubuntu 8.10 (didn't test this with Ubuntu 9.04 yet)

<h3><font color="#FF4500">Chris D said…</font></h3>

8/23/09.

The removal of the abbreviation when you hit backspace is a feature.  In the advanced settings dialog, there is an option to enable/disable it - "Enable undo using backspace".  The fact that everything stops working after doing this is a bug (quite easy to fix fortunately).  If it is bothering you, just disable this feature for now.

Where in the config dialog are these problems?  I must have missed a couple of places:

2009/8/24 Johnny Rosenberg:

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

8/24/09.

2009/8/24 Chris Dekter:

<pre>
> The removal of the abbreviation when you hit backspace is a feature.
> In the advanced settings dialog, there is an option to enable/disable
> it - "Enable undo using backspace". The fact that everything stops
> working after doing this is a bug (quite easy to fix fortunately). If
> it is bothering you, just disable this feature for now.
</pre>
Ok, thanks.  Found it, disabled it.  Seems to work.

<pre>
> Where in the config dialog are these problems? I must have missed a
> couple of places:
</pre>
No, you didn't.  I just missed that you corrected that issue.  When I manually edited those strings and saved them, everything was just fine.  Something went wrong in an earlier version, I guess.

However, here's another problem.

Make an abbreviation for a string like this: [{äº¬éƒ½æ…•æƒ…}] (just copy this string from this message)

Type your abbreviation.  For me, the result is this: [{äº¬éƒ½æ…•æƒ:

So where are the two last characters.?

If I assign it to a hotkey, in my case Ctrl+Shift+Alt+Ã¶, I got: [{äº¬éƒ½æ…•u60c5

When I hit Enter, the u60c5 (which are underlined) are replaced æƒ.:

In fact, it seems to always be these kinds of problems when Japanese characters (and problably some other kinds of characters as well) are involved.

Kind Regards.

Johnny Rosenberg.

<pre>
> 2009/8/24 Johnny Rosenberg:
>>
>> Installed the new AutoKey 0.60.4. Here is one first observation (I
>> think this behaviour was the same witn 0.60.3, but I didn't find out
>> how to reproduce it until now.):
>>
>> Type an abbreviation, doesn't matter which one. Press Space (or other
>> trigger key). The corresponding phrase replaces the abbreviation, just
>> as it should.
>> Now hit Backspace. The whole phrase is removed!
>> Now type an abbreviation, the same as before or another one. Nothing
>> happens. You now need to quit AutoKey and restart it.
>>
>>
>> Ã…Ã„Ã–Ã¥Ã¤Ã¶ are still replaced by other characters in the right click menu
>> and in the configure dialogue. However they seem to come out right.
>>
>>
>>
>> Kind Regards.
>>
>> Johnny Rosenberg
>>
>>
>> Ubuntu 8.10 (didn't test this with Ubuntu 9.04 yet)
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

8/24/09.

<pre>
2009/8/24 Johnny Rosenberg:
>
> Type your abbreviation. For me, the result is this: [{äº¬éƒ½æ…•æƒ:
> So where are the two last characters.?
> If I assign it to a hotkey, in my case Ctrl+Shift+Alt+Ã¶, I got: [{äº¬éƒ½æ…•u60c5
> When I hit Enter, the u60c5 (which are underlined) are replaced æƒ.:
>
> In fact, it seems to always be these kinds of problems when Japanese
> characters (and problably some other kinds of characters as well) are
> involved.
>
> Kind Regards.
>
> Johnny Rosenberg
</pre>
Yup that's a bug - one line fix in place for next release.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: New version with phrase pasting reverted</font></h1>

5 posts by 3 authors.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/23/09.

I've just uploaded v0.60.4.  The only change is to transmit phrases via the keyboard as in v0.5x, instead of the X selection.  This also means that special keys can again be used in phrases (e.g. <ctrl>+f etc).

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

8/23/09.

<pre>
2009/8/23 Chris Dekter:
> I've just uploaded v0.60.4. The only change is to transmit phrases via
> the keyboard as in v0.5x, instead of the X selection. This also means
> that special keys can again be used in phrases (e.g. <ctrl>+f etc).
</pre>
Thanks!  Will try it out as soon as possible.  And thanks for great and fast support and for listening to whining people like me.! :D   ;P

Johnny Rosenberg.

<h3><font color="#FF4500">jflevi said…</font></h3>

8/23/09.

Excellent; just installed it; works good…Thanks for the lightning fast support !!!

One minor glitch:   my multi-line abbreviations now come on one line (in Tbird, gedit, terminal).  No big deal, just letting you know.  Maybe I forgot a setting ???

Thanks again, Autokey was the missing link for my full migration to Ubuntu !!!

<h3><font color="#FF4500">jflevi said…</font></h3>

8/23/09.

FIXED !

I just retyped the abbreviations in the "configure" window; now it works PERFECTLY !!!  The <return>  seemed to have been changed to a <tab> and something else.

Life is good  :-))

<h3><font color="#FF4500">Chris D said…</font></h3>

8/23/09.

I think I may know what the culprit was for breaking those newlines: however it should already be fixed in the version you are using so hopefully you won't see this problem again.

2009/8/24 jflevi:

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: import scripts</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">sisqonrw said…</font></h3>

8/23/09.

Hi i know from autohotkey (windows) that there a ready scripts what you can use.

ho is it by autokey linux?  I am using autkey on kubuntu jaunty and would like use ready german scripts to.

Thanks.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/23/09.

There are no pre-made scripts apart from what appears on the wiki.  The scripting feature is quite new so it will be a while before there is a large collection of scripts available.

2009/8/23 sisqonrw:

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Testing 0.6.2</font></h1>

8 posts by 3 authors.

<h3><font color="#FF4500">jschall said…</font></h3>

8/19/09.

Running 0.6.2 on #!  Lite 9.04.  I have re-named my old autokey.bin file so I can start "fresh".  I created 3 new phrases, with abbreviations.  Autokey is not running now, so I can type the abbreviations without expansion.

tst = "Testing plain text" sgn = "- Jeff Schallenberg/Mont Saint Hilaire, QuÃ©bec" gml = "s…@gmail.com"  OK, I will start autokey from the terminal now:———test Testing plain text Jeff Schallenberg  The first two expansions worked, but the gmail expansion got inserted in the middle of the line above  I will test insertion from the tray menu in the next post:

—Jeff Schallenberg

<h3><font color="#FF4500">jschall said…</font></h3>

8/19/09.

<pre>
On Aug 19, 3:25 pm, jschall wrote:
> I will test insertion from the tray menu in the next post:
</pre>
Some strange stuff happens.  The text seems to get inserted in the address bar of SwiftFox and a new window opens with a "domain not found" error message.  Or, sometimes, the insertion erases 2 lines of text above.

And sgn not working any more.

Conclusion: AutoKey 0.6.2 is not working nearly as well as 0.54.5 was.

Jeff.

<h3><font color="#FF4500">jschall said…</font></h3>

8/19/09.

I started Autokey in verbose mode.  I tried expansions of the 3 phrases in LeafPad.  They worked fine.  Here is the output from Terminal:

<pre>
jeff@jeff-eeepc:~$ autokey -l
INFO - root - Initialising application
INFO - config-manager - Loading config from existing file: /home/
jeff/.config/autokey/autokey.bin
INFO - root - Initialise global hotkeys
INFO - config-manager - Successfully loaded configuration file
DEBUG - config-manager - Global settings: {'showTrayIcon': True,
'sortByUsageCount': True, 'interfaceType': 'XEvDev',
'undoUsingBackspace': True, 'serviceRunning': True,
'enableQT4Workaround': False, 'menuTakesFocus': False, 'inputSavings':
2535, 'promptToSave': True, 'isFirstRun': False}
INFO - service - Starting service
DEBUG - interface - Keycodes dict: {'<alt_gr>': 92, '<page_up>': 112,
'<f12>': 96, '<f10>': 76, '<ctrl>': 105, '<f9>': 75, '<alt>': 0, ' ':
65, '<up>': 111, '<capslock>': 66, '<pause>': 127, '<home>': 110,
'<numlock>': 77, '<f1>': 67, '<f7>': 73, '<f5>': 71, '<f3>': 69,
'<tab>': 23, '<shift>': 62, '<left>': 113, '<backspace>': 22,
'<scroll_lock>': 78, '<escape>': 9, '<down>': 116, '<f8>': 74,
'<delete>': 119, '<f11>': 95, '<super>': 134, '<print_screen>': 107,
'<end>': 115, '<right>': 114, '<menu>': 135, '<f2>': 68, '<insert>':
118, '<page_down>': 117, '<f6>': 72, '<enter>': 36, '<f4>': 70}
DEBUG - interface - Alt-Grid: XK_Mode_switch, 65406
DEBUG - interface - Alt-Grid: XK_script_switch, 65406
DEBUG - interface - Alt-Grid: XK_ISO_Group_Shift, 65406
DEBUG - interface - [(92, 0), (92, 2), (108, 2), (92, 4)]
DEBUG - interface - X Server Keymap
DEBUG - interface - [\] : [(51, 0), (49, 4)]
DEBUG - interface - [|] : [(51, 1), (49, 3), (94, 4)]
DEBUG - interface - [`] : [(49, 0)]
DEBUG - interface - [1] : [(10, 0), (10, 2)]
DEBUG - interface - [2] : [(11, 0), (11, 2)]
DEBUG - interface - [3] : [(12, 0), (12, 2)]
DEBUG - interface - [4] : [(13, 0), (13, 2)]
DEBUG - interface - [5] : [(14, 0), (14, 2)]
DEBUG - interface - [6] : [(15, 0), (15, 2)]
DEBUG - interface - [7] : [(16, 0), (16, 2)]
DEBUG - interface - [8] : [(17, 0), (17, 2)]
DEBUG - interface - [9] : [(18, 0), (18, 2)]
DEBUG - interface - [0] : [(19, 0), (19, 2)]
DEBUG - interface - [-] : [(20, 0), (20, 2)]
DEBUG - interface - [=] : [(21, 0), (21, 2)]
DEBUG - interface - [~] : [(49, 1), (47, 4)]
DEBUG - interface - [!] : [(10, 1), (10, 3)]
DEBUG - interface - [@] : [(11, 1), (11, 4)]
DEBUG - interface - [#] : [(12, 1), (49, 2)]
DEBUG - interface - [$] : [(13, 1), (13, 3)]
DEBUG - interface - [%] : [(14, 1), (14, 3)]
DEBUG - interface - [^] : [(15, 1)]
DEBUG - interface - [&] : [(16, 1), (16, 3)]
DEBUG - interface - [`*`] : [(17, 1), (17, 3)]
DEBUG - interface - [(] : [(187, 0), (18, 1), (187, 2), (18, 3), (187,
4)]
DEBUG - interface - [)] : [(188, 0), (19, 1), (188, 2), (19, 3), (188,
4)]
DEBUG - interface - [q] : [(24, 0), (24, 2), (24, 4)]
DEBUG - interface - [w] : [(25, 0), (25, 2), (25, 4)]
DEBUG - interface - [e] : [(26, 0), (26, 2), (26, 4)]
DEBUG - interface - [r] : [(27, 0), (27, 2), (27, 4)]
DEBUG - interface - [t] : [(28, 0), (28, 2), (28, 4)]
DEBUG - interface - [y] : [(29, 0), (29, 2), (29, 4)]
DEBUG - interface - [u] : [(30, 0), (30, 2), (30, 4)]
DEBUG - interface - [i] : [(31, 0), (31, 2), (31, 4)]
DEBUG - interface - [o] : [(32, 0), (32, 2)]
DEBUG - interface - [p] : [(33, 0), (33, 2)]
DEBUG - interface - [[] : [(34, 0), (34, 4)]
DEBUG - interface - []] : [(35, 0), (35, 4)]
DEBUG - interface - [a] : [(38, 0), (38, 2), (38, 4)]
DEBUG - interface - [s] : [(39, 0), (39, 2), (39, 4)]
DEBUG - interface - [d] : [(40, 0), (40, 2), (40, 4)]
DEBUG - interface - [f] : [(41, 0), (41, 2), (41, 4)]
DEBUG - interface - [g] : [(42, 0), (42, 2), (42, 4)]
DEBUG - interface - [h] : [(43, 0), (43, 2), (43, 4)]
DEBUG - interface - [j] : [(44, 0), (44, 2), (44, 4)]
DEBUG - interface - [k] : [(45, 0), (45, 2), (45, 4)]
DEBUG - interface - [l] : [(46, 0), (46, 2), (46, 4)]
DEBUG - interface - [;] : [(47, 0), (47, 2)]
DEBUG - interface - ['] : [(48, 0), (59, 3)]
DEBUG - interface - [z] : [(52, 0), (52, 2), (52, 4)]
DEBUG - interface - [x] : [(53, 0), (53, 2), (53, 4)]
DEBUG - interface - [c] : [(54, 0), (54, 2), (54, 4)]
DEBUG - interface - [v] : [(55, 0), (55, 2), (55, 4)]
DEBUG - interface - [b] : [(56, 0), (56, 2), (56, 4)]
DEBUG - interface - [n] : [(57, 0), (57, 2), (57, 4)]
DEBUG - interface - [m] : [(58, 0), (58, 2)]
DEBUG - interface - [,] : [(59, 0), (59, 2)]
DEBUG - interface - [.] : [(60, 0), (60, 2), (60, 3)]
DEBUG - interface - [/] : [(61, 0), (12, 3)]
DEBUG - interface - [Q] : [(24, 1), (24, 3), (24, 5)]
DEBUG - interface - [W] : [(25, 1), (25, 3), (25, 5)]
DEBUG - interface - [E] : [(26, 1), (26, 3), (26, 5)]
DEBUG - interface - [R] : [(27, 1), (27, 3), (27, 5)]
DEBUG - interface - [T] : [(28, 1), (28, 3), (28, 5)]
DEBUG - interface - [Y] : [(29, 1), (29, 3), (29, 5)]
DEBUG - interface - [U] : [(30, 1), (30, 3), (30, 5)]
DEBUG - interface - [I] : [(31, 1), (31, 3), (31, 5)]
DEBUG - interface - [O] : [(32, 1), (32, 3)]
DEBUG - interface - [P] : [(33, 1), (33, 3)]
DEBUG - interface - [{] : [(34, 1), (48, 4)]
DEBUG - interface - [}] : [(35, 1), (51, 4)]
DEBUG - interface - [A] : [(38, 1), (38, 3), (38, 5)]
DEBUG - interface - [S] : [(39, 1), (39, 3), (39, 5)]
DEBUG - interface - [D] : [(40, 1), (40, 3), (40, 5)]
DEBUG - interface - [F] : [(41, 1), (41, 3), (41, 5)]
DEBUG - interface - [G] : [(42, 1), (42, 3), (42, 5)]
DEBUG - interface - [H] : [(43, 1), (43, 3), (43, 5)]
DEBUG - interface - [J] : [(44, 1), (44, 3), (44, 5)]
DEBUG - interface - [K] : [(45, 1), (45, 3), (45, 5)]
DEBUG - interface - [L] : [(46, 1), (46, 3), (46, 5)]
DEBUG - interface - [:] : [(47, 1), (47, 3)]
DEBUG - interface - ["] : [(48, 1), (11, 3)]
DEBUG - interface - [Z] : [(52, 1), (52, 3), (52, 5)]
DEBUG - interface - [X] : [(53, 1), (53, 3), (53, 5)]
DEBUG - interface - [C] : [(54, 1), (54, 3), (54, 5)]
DEBUG - interface - [V] : [(55, 1), (55, 3), (55, 5)]
DEBUG - interface - [B] : [(56, 1), (56, 3), (56, 5)]
DEBUG - interface - [N] : [(57, 1), (57, 3), (57, 5)]
DEBUG - interface - [M] : [(58, 1), (58, 3)]
DEBUG - interface - [<] : [(94, 0), (59, 1), (51, 2)]
DEBUG - interface - [>] : [(60, 1), (94, 1), (51, 3)]
DEBUG - interface - [?] : [(61, 1), (15, 3)]
INFO - interface - Attempting to establish connection to EvDev daemon
INFO - interface - EvDev daemon connected
INFO - interface - EvDev interface thread starting
INFO - service - Service now marked as running
DEBUG - phrase-menu - Sorting phrase menu by usage count
DEBUG - interface - Window name: `*`autokeytest
DEBUG - service - Key: t
DEBUG - service - Input stack at end of handle_keypress: [u't']
DEBUG - interface - Window name: `*`autokeytest
DEBUG - service - Key: s
DEBUG - service - Input stack at end of handle_keypress: [u't', u's']
DEBUG - interface - Window name: `*`autokeytest
DEBUG - service - Key: t
DEBUG - service - Input stack at end of handle_keypress: [u't', u's',
u't']
DEBUG - interface - Window name: `*`autokeytest
DEBUG - service - Key:
DEBUG - interface - Send special key: ['<backspace>']
DEBUG - interface - Send special key: ['<backspace>']
DEBUG - interface - Send special key: ['<backspace>']
DEBUG - interface - Send special key: ['<backspace>']
DEBUG - iomediator - Send via clipboard
DEBUG - interface - Sending string: u'Testing plain text'
DEBUG - interface - Send via clipboard done
DEBUG - service - Input stack at end of handle_keypress: []
DEBUG - interface - Window name: `*`autokeytest
DEBUG - service - Key: <enter>
DEBUG - service - Input stack at end of handle_keypress: ['\n']
DEBUG - interface - Window name: `*`autokeytest
DEBUG - service - Key: s
DEBUG - service - Input stack at end of handle_keypress: ['\n', u's']
DEBUG - interface - Window name: `*`autokeytest
DEBUG - service - Key: g
DEBUG - service - Input stack at end of handle_keypress: ['\n', u's',
u'g']
DEBUG - interface - Window name: `*`autokeytest
DEBUG - service - Key: n
DEBUG - service - Input stack at end of handle_keypress: ['\n', u's',
u'g', u'n']
DEBUG - interface - Window name: `*`autokeytest
DEBUG - service - Key:
DEBUG - interface - Send special key: ['<backspace>']
DEBUG - interface - Send special key: ['<backspace>']
DEBUG - interface - Send special key: ['<backspace>']
DEBUG - interface - Send special key: ['<backspace>']
DEBUG - iomediator - Send via clipboard
DEBUG - interface - Sending string: u'- Jeff Schallenberg\nMont Saint-
Hilaire, Qu\xe9bec'
DEBUG - interface - Send via clipboard done
DEBUG - service - Input stack at end of handle_keypress: []
DEBUG - interface - Window name: `*`autokeytest
DEBUG - service - Key: <enter>
DEBUG - service - Input stack at end of handle_keypress: ['\n']
DEBUG - interface - Window name: *autokeytest
DEBUG - service - Key: -
DEBUG - service - Input stack at end of handle_keypress: ['\n', u'-']
DEBUG - interface - Window name: `*`autokeytest
DEBUG - service - Key: -
DEBUG - service - Input stack at end of handle_keypress: ['\n', u'-',
u'-']
DEBUG - interface - Window name: `*`autokeytest
DEBUG - service - Key: -
DEBUG - service - Input stack at end of handle_keypress: ['\n', u'-',
u'-', u'-']
DEBUG - interface - Window name: `*`autokeytest
DEBUG - service - Key: -
DEBUG - service - Input stack at end of handle_keypress: ['\n', u'-',
u'-', u'-', u'-']
DEBUG - interface - Window name: `*`autokeytest
DEBUG - service - Key: -
DEBUG - service - Input stack at end of handle_keypress: ['\n', u'-',
u'-', u'-', u'-', u'-']
DEBUG - interface - Window name: `*`autokeytest
DEBUG - service - Key: -
DEBUG - service - Input stack at end of handle_keypress: ['\n', u'-',
u'-', u'-', u'-', u'-', u'-']
DEBUG - interface - Window name: `*`autokeytest
DEBUG - service - Key: -
DEBUG - service - Input stack at end of handle_keypress: ['\n', u'-',
u'-', u'-', u'-', u'-', u'-', u'-']
DEBUG - interface - Window name: `*`autokeytest
DEBUG - service - Key: <enter>
DEBUG - service - Input stack at end of handle_keypress: ['\n', u'-',
u'-', u'-', u'-', u'-', u'-', u'-', '\n']
DEBUG - interface - Window name: `*`autokeytest
DEBUG - service - Key: -
DEBUG - service - Input stack at end of handle_keypress: ['\n', u'-',
u'-', u'-', u'-', u'-', u'-', u'-', '\n', u'-']
DEBUG - interface - Window name: `*`autokeytest
DEBUG - service - Key: -
DEBUG - service - Input stack at end of handle_keypress: ['\n', u'-',
u'-', u'-', u'-', u'-', u'-', u'-', '\n', u'-', u'-']
DEBUG - interface - Window name: `*`autokeytest
DEBUG - service - Key: -
DEBUG - service - Input stack at end of handle_keypress: ['\n', u'-',
u'-', u'-', u'-', u'-', u'-', u'-', '\n', u'-', u'-', u'-']
DEBUG - interface - Window name: `*`autokeytest
DEBUG - service - Key: -
DEBUG - service - Input stack at end of handle_keypress: ['\n', u'-',
u'-', u'-', u'-', u'-', u'-', u'-', '\n', u'-', u'-', u'-', u'-']
DEBUG - interface - Window name: `*`autokeytest
DEBUG - service - Key: -
DEBUG - service - Input stack at end of handle_keypress: ['\n', u'-',
u'-', u'-', u'-', u'-', u'-', u'-', '\n', u'-', u'-', u'-', u'-',
u'-']
DEBUG - interface - Window name: `*`autokeytest
DEBUG - service - Key: -
DEBUG - service - Input stack at end of handle_keypress: ['\n', u'-',
u'-', u'-', u'-', u'-', u'-', u'-', '\n', u'-', u'-', u'-', u'-',
u'-', u'-']
DEBUG - interface - Window name: `*`autokeytest
DEBUG - service - Key: -
DEBUG - service - Input stack at end of handle_keypress: ['\n', u'-',
u'-', u'-', u'-', u'-', u'-', u'-', '\n', u'-', u'-', u'-', u'-',
u'-', u'-', u'-']
DEBUG - interface - Window name: `*`autokeytest
DEBUG - service - Key: <enter>
DEBUG - service - Input stack at end of handle_keypress: ['\n', u'-',
u'-', u'-', u'-', u'-', u'-', u'-', '\n', u'-', u'-', u'-', u'-',
u'-', u'-', u'-', '\n']
DEBUG - interface - Window name: `*`autokeytest
DEBUG - service - Key: g
DEBUG - service - Input stack at end of handle_keypress: ['\n', u'-',
u'-', u'-', u'-', u'-', u'-', u'-', '\n', u'-', u'-', u'-', u'-',
u'-', u'-', u'-', '\n', u'g']
DEBUG - interface - Window name: `*`autokeytest
DEBUG - service - Key: m
DEBUG - service - Input stack at end of handle_keypress: ['\n', u'-',
u'-', u'-', u'-', u'-', u'-', u'-', '\n', u'-', u'-', u'-', u'-',
u'-', u'-', u'-', '\n', u'g', u'm']
DEBUG - interface - Window name: `*`autokeytest
DEBUG - service - Key: l
DEBUG - service - Input stack at end of handle_keypress: ['\n', u'-',
u'-', u'-', u'-', u'-', u'-', u'-', '\n', u'-', u'-', u'-', u'-',
u'-', u'-', u'-', '\n', u'g', u'm', u'l']
DEBUG - interface - Window name: `*`autokeytest
DEBUG - service - Key:
DEBUG - interface - Send special key: ['<backspace>']
DEBUG - interface - Send special key: ['<backspace>']
DEBUG - interface - Send special key: ['<backspace>']
DEBUG - interface - Send special key: ['<backspace>']
DEBUG - iomediator - Send via clipboard
DEBUG - interface - Sending string: u'schalle…@gmail.com'
DEBUG - interface - Send via clipboard done
DEBUG - service - Input stack at end of handle_keypress: []
INFO - service - Pausing - service now marked as stopped
</pre>
So, that's not very helpful - it was working fine :-)

Jeff.

<h3><font color="#FF4500">jschall said…</font></h3>

8/19/09.

<pre>
On Aug 19, 4:00 pm, jschall wrote:
> I started Autokey in verbose mode. I tried expansions of the 3 phrases
> in LeafPad. They worked fine.
</pre>
Now, I am going to do the same thing, but insert from the tray menu:

<pre>
DEBUG - iomediator - Send via clipboard
DEBUG - interface - Sending string: u'Testing plain text'
DEBUG - interface - Send via clipboard done
DEBUG - interface - Window name: `*`autokeytest
DEBUG - service - Key: <enter>
DEBUG - service - Input stack at end of handle_keypress: ['\n']
DEBUG - interface - Send special key: ['<backspace>']
DEBUG - iomediator - Send via clipboard
DEBUG - interface - Sending string: u'Testing plain text'
DEBUG - interface - Send via clipboard done
DEBUG - iomediator - Send via clipboard
DEBUG - interface - Sending string: '\n'
DEBUG - interface - Send via clipboard done
DEBUG - iomediator - Send via clipboard
DEBUG - interface - Sending string: u'Testing plain text'
DEBUG - interface - Send via clipboard done
DEBUG - interface - Window name: `*`autokeytest
DEBUG - service - Key: <enter>
DEBUG - service - Input stack at end of handle_keypress: ['\n']
DEBUG - interface - Window name: `*`autokeytest
DEBUG - service - Key: <enter>
DEBUG - service - Input stack at end of handle_keypress: ['\n', '\n']
DEBUG - interface - Send special key: ['<backspace>']
DEBUG - interface - Send special key: ['<backspace>']
DEBUG - iomediator - Send via clipboard
DEBUG - interface - Sending string: u'Testing plain text'
DEBUG - interface - Send via clipboard done
DEBUG - iomediator - Send via clipboard
DEBUG - interface - Sending string: '\n'
DEBUG - interface - Send via clipboard done
DEBUG - iomediator - Send via clipboard
DEBUG - interface - Sending string: u'Testing plain text'
DEBUG - interface - Send via clipboard done
DEBUG - interface - Window name: `*`autokeytest
DEBUG - service - Key: <enter>
DEBUG - service - Input stack at end of handle_keypress: ['\n']
DEBUG - interface - Send special key: ['<backspace>']
DEBUG - iomediator - Send via clipboard
DEBUG - interface - Sending string: u'Testing plain text'
DEBUG - interface - Send via clipboard done
DEBUG - iomediator - Send via clipboard
DEBUG - interface - Sending string: '\n'
DEBUG - interface - Send via clipboard done
INFO - service - Pausing - service now marked as stopped
</pre>
I had just inserted the "test" phrase several times from the tray.  Sometimes it worked, other times it erased one or two lines above.

I hope this helps Chris figure out what is wrong!

Jeff.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/19/09.

What you are seeing is a symptom of the changed phrase functionality in v0.60.  Phrases are now transmitted via the X selection.  The only way to trigger a paste from the selection is to send a middle mouse button event, which occurs at the current location of the mouse.  So, if your mouse is over the Firefox titlebar when you trigger the phrase, that is where the text will be pasted.

There are some complicated technical reasons for this change, but also I plan to eventually allow rich (formatted) text to be used in phrases.

For shorter pieces of text, you could convert your phrase to a script (right click phrase, select "convert to script").  This will cause the text to be sent via the keyboard.

2009/8/20 jschall:

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

8/22/09.

<pre>
2009/8/20 Chris Dekter:
> What you are seeing is a symptom of the changed phrase functionality
> in v0.60. Phrases are now transmitted via the X selection. The only
> way to trigger a paste from the selection is to send a middle mouse
> button event, which occurs at the current location of the mouse. So,
> if your mouse is over the Firefox titlebar when you trigger the
> phrase, that is where the text will be pasted.
</pre>
Well, it's really annoying anyway.  Does anybody really want this?  What's it good for?  It's time consuming to move your hands from the keyboard to the mouse whenever an abbreviation is supposed to be replaced by a phrase.  Also, at least on my system, when I have used an abbreviation or two, the abbreviations do no longer work, and I have to restart AutoKey.  Sometimes even that doesn't work.

<pre>
> There are some complicated technical reasons for this change, but also
> I plan to eventually allow rich (formatted) text to be used in
> phrases.
>
> For shorter pieces of text, you could convert your phrase to a script
> (right click phrase, select "convert to script"). This will cause the
> text to be sent via the keyboard.
</pre>
Is there an easy way to do this for, let's say 50-100 phrases in one shot?

Regards.

Johnny Rosenberg.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/22/09.

<pre>
> Is there an easy way to do this for, let's say 50-100 phrases in one shot?
>
> Regards.
>
> Johnny Rosenberg
>
</pre>
Not at the moment, no.  If phrases are reverted to being sent via the keyboard, would you still need this ability?

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

8/23/09.

2009/8/23 Chris Dekter:

No, I guess not.

Johnny Rosenberg.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Insertion at mouse cursor…very inconvenient (for me)</font></h1>

4 posts by 4 authors.

<h3><font color="#FF4500">jflevi said…</font></h3>

8/22/09.

I was thinking something was broken in my Autokey, because my abbreviations were inserted apparently randomly, and sometimes created unexpected window changes, opening,closing.

Reading this forum taught me that now the insertion was at the mouse cursor position.

I really don't understand the functionality, and find it very inconvenient.

I do a lot of typing (that's why I like Autokey so much) and I find it time consuming to go to the mouse and reposition the cursor to insert an abbreviation.

If many users like this feature, could we possibly have a choice during set-up, or in the GUI.

Of course, I could go back to v .5.4  but I don't like to go backwards :-)).

Also, a big THANK YOU to Chris, not only for Autokey but also for the incredible support he provides !!!!!!!!!!!!!

<h3><font color="#FF4500">William McKee said…</font></h3>

8/22/09.

<pre>
On 08/22/2009 jflevi wrote:
>  I do a lot of typing (that's why I like Autokey so much) and I find it
>  time consuming to go to the mouse and reposition the cursor to insert
>  an abbreviation.
</pre>
Ohhh!  So that's why I've stopped using Autokey lately ;) That explains the unexpected behavior I've been seeing lately where the text would get placed in what seemed like random places.

Yes, what would it take to revert behavior to the previous style?

Thanks.  William   <h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>


8/22/09.

I also find it extremely inconvenient, although there is a workaround (which I didn't test yet, since the thing suddenly stops working every now and then anyway, so it feels like wasted time to try any workarounds).

However, I must say that I like the 0.54 version very much.  Great job!  And the support is superb.

Johnny Rosenberg.

2009/8/22 William McKee:

<h3><font color="#FF4500">Chris D said…</font></h3>

8/22/09.

Since so many people are having issues with this change, I'll revert it to sending via keyboard instead - it's only a 3 line change so I'll do that later today.

2009/8/23 Johnny Rosenberg:

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Migrating scripts to v0.60</font></h1>

4 posts by 3 authors.

<h3><font color="#FF4500">William McKee said…</font></h3>

8/21/09.

Hi.

I'm a relatively new user to autokey but am thrilled to have found it.  Thanks!

In the process of my learning to use it, the upgrade came out, and I need some help getting my launchers to work in the latest version.  For example, I used the following script under the previous version to launch firefox:

<tt>$(exec output=false&command=firefox 'http://www.knowmad.com/')</tt>

I've tried the following with no luck:

<tt>system.exec_command("firefox 'http://www.knowmad.com/'")</tt>

Also, there used to be a feature where I could pull up a small dialog and enter my launcher command.  I had set the hotkey to Cmd+space.  I don't recall the name of this box and don't see a way to access it any longer.  Was that feature removed?  Was it replaced by a similar feature?

Thanks.  William   <h3><font color="#FF4500">Chris D said…</font></h3>


8/21/09.

2009/8/22 William McKee:

<pre>
> Hi.
>
> I'm a relatively new user to autokey but am thrilled to have found it.
> Thanks!
>
> In the process of my learning to use it, the upgrade came out, and I
> need some help getting my launchers to work in the latest version. For
> example, I used the following script under the previous version to
> launch firefox:
>
> $(exec output=false&command=firefox 'http://www.knowmad.com/')
>
> I've tried the following with no luck:
>
> system.exec_command("firefox 'http://www.knowmad.com/'")
>
</pre>
That should work.  Are you creating a script and entering that code into it?  It won't work in a phrase:

<pre>
> Also, there used to be a feature where I could pull up a small dialog
> and enter my launcher command. I had set the hotkey to Cmd+space. I
> don't recall the name of this box and don't see a way to access it any
> longer. Was that feature removed? Was it replaced by a similar
> feature?
</pre>
I haven't got round to re-implenting that feature in the new GUI - it wasn't really one of my favourite features to be honest.  However I have had a few people ask about it so I might add it back in soon.

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

8/22/09.

2009/8/22 Chris Dekter:

He he.  I think that the lack of that feature was the only good thing about v 0.60.  But I guess I can live with it, if it comes back.  I don't have to use it if I don't want to. ;)

<h3><font color="#FF4500">William McKee said…</font></h3>

8/22/09.

<pre>
On 08/22/2009 Chris Dekter wrote:
>  That should work. Are you creating a script and entering that code
>  into it? It won't work in a phrase:
</pre>
Thanks Chris.  That did the trick.

William   <br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: And another thing:</font></h1>


2 posts by 2 authors.

<h3><font color="#FF4500">jschall said…</font></h3>

8/20/09.

There is no popup box.  We used to be able to left-click on the tray icon, or enter a hotkey, and a little popup window would allow us to enter the abbreviation - like sgn for my signature.  That was the entry method I used the most.  Why has it been removed?

Jeff Schallenberg.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/20/09.

It hasn't been removed, i just I haven't got round to re-implementing it with the new GUI toolkit.  To be honest, I've always thought it was kind of lame, and not really consistent with the intent of AutoKey.  It also never really worked that well with various window managers preventing it from getting focus.

2009/8/20 jschall:

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: autokey.bin</font></h1>

5 posts by 2 authors.

<h3><font color="#FF4500">naveen said…</font></h3>

8/18/09.

Hey Chris.

What do you think of making the configuration file human readable, preferably python code?  In some ways, the configuration file is really an autokey script.

Could even make it be specified from the command line.

<pre>
<autokey.sh>
cat configmanager > configmanager.py
cat $1 >> configmanager.py
</autokey.sh>

>> autokey.sh startup

example build: For example:  http://github.com/tinku99/autokey.git
</pre>
(I disabled loading autokey.bin, and showPopupHotkey in configmanager.py), and also, moved the demon into a subfolder of pyshared/autokey   <h3><font color="#FF4500">naveen said…</font></h3>


8/18/09.

 oops, left out a line in autokey.sh    <pre>
python demon/autokey </pre>
And also moved the autokey file from usr/bin/autokey to demon/autokey.

Anyway, the point is, why lose the expressivity of python in the autokey domain?

<h3><font color="#FF4500">Chris D said…</font></h3>

8/18/09.

The bin file exists as a straight-forward means of persisting in-memory objects which have been created via the UI.  It wouldn't make sense to convert the objects back to Python code and then re-execute that code each time the program is started.  With the approach you have suggested, any changes made via the UI will be lost next time the application is run.

To be honest, in my view configuring via a script is much more labour intensive than using the UI (although writing a proper API for it would probably alleviate this to an extent). v0.6 includes Python scripting support via the UI - is this not sufficient?

Having said all that, it wouldn't be a huge amount of work to set up something where for example you specify the name of a configuration script on the command line, and this is then loaded instead of using the persistence file.  We would then have to disable large parts of the UI as they would be irrelevant.

2009/8/18 naveen:

<h3><font color="#FF4500">naveen said…</font></h3>

8/18/09.

<pre>
v0.6 includes Python scripting support via the UI - is this not sufficient?
</pre>
How about for modifying and merging scripts between users?

<pre>
> To be honest, in my view configuring via a script is much more labour
> intensive than using the UI (although writing a proper API for it
> would probably alleviate this to an extent).
</pre>
You could target the AutoHotkey API as you mention in the FAQ.  Disclaimer: I am an autohotkey user, and am working on it anyways.

<pre>
> We would then have to disable large parts of the
> UI as they would be irrelevant.
</pre>
I wouldn't say irrelevant.  Lets say optional.

A GUI is more work I would think to develop, but it looks nice and is good marketing, and I agree easier to use sometimes.

How about just decoupling the GUI from the scripting a little more.  Would also reduce the dependencies on kde etc:

<h3><font color="#FF4500">Chris D said…</font></h3>

8/19/09.

Once v0.6 is a bit more stable, I'll look into doing something about this - I think it could be an interesting idea.  However, I will not (at least at this stage) be doing anything with regards to running AHK syntax in AutoKey.  There is another project (IronAHK) for Linux which already does this.

2009/8/19 naveen:

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Autokey 0.6 not saving changes</font></h1>

8 posts by 3 authors.

<h3><font color="#FF4500">jschall said…</font></h3>

8/18/09.

When I try to save a change in a phrase:

<pre>
jeff@jeff-eeepc:~$ autokey &
[3] 10202
jeff@jeff-eeepc:~$ Traceback (most recent call last):
  File "/usr/lib/python2.6/dist-packages/autokey/ui/configwindow.py",
line 592, in on_save
    if self.stack.currentWidget().validate():
  File "/usr/lib/python2.6/dist-packages/autokey/ui/configwindow.py",
line 325, in validate
    phrase = str(self.phraseText.toPlainText()).decode("utf-8")
UnicodeEncodeError: 'ascii' codec can't encode characters in
position 46-47: ordinal not in range(128)
</pre>
Maybe I will re-install 0.54.5 (sniff).

Jeff.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/18/09.

Fixed in v0.60.2 (due out shortly).

2009/8/19 jschall:

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

8/19/09.

I think I got the same problem on my wife's computer (Ubuntu 9.04), but only when a field contains characters like Ã¥Ã¤Ã¶Ã…Ã„Ã– and other characters that is not the most common in the English language.  For example, there is an Ã¤ ann an Ã¶ in out address, which makes it almost impossible to create an abbreviation for it.

If the problems are the same, I'm looking forward to v0.60.2.

Johnny Rosenberg.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/19/09.

The new version has already been released, please test it out.

2009/8/19 Johnny Rosenberg:

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

8/19/09.

<pre>
2009/8/19 Chris Dekter:
> The new version has already been released, please test it out.
</pre>
When I checked I noticed that the version I have installed was actually 0.60.2, which is the latest version, right?

OK, here are my observations:

I have a folder (right click AutoKey icon > Configuration) called "FÃ¶rkortningar".  Since 0.60 it's "converted" to "FÃƒÂ¶rkortningar" and the name can't be changed.  If I click the folder, the name of the last selected folder remains in the Title field.

I have a lot of abbreviations which are supposed to print words with Swedish characters in them, for example my address which contains an Ã¶ and an Ã¤; two common Swedish vowels.  In the text field, Ã¶ is replaced by ÃƒÂ¶ and Ã¤ is replaced by ÃƒÂ¤.  When I use the abbreviation (adr) the Ã¶ and Ã¤ are printed correctly, though.

When I use my abbreviations, they are sometimes printed at the wrong location.  For example "joh" is supposed to be expanded to Johnny.  Rosenberg, and it does, but not where the "joh" were typed.  Sometimes the Johnny Rosenberg is printed somewhere else in the text and sometimes even in the Google search field of my Web browser (Opera 9.64) which creates a new tab with the search results for Johnny.  Rosenberg.

And after that the abbreviations doesn't work at all, and then I have to quit AutoKey and then start it again.

I'm on Ubuntu 8.10 (wow - this time it printed that out at the right place - ubt8 is supposed to print Ubuntu 8.10.) and since there are a lot of issues with AutoKey on that system, maybe the AutoKey Intrepid repository should still contain the latest release that doesn't require Python 2.6?  The Ubuntu Intrepid repository only contains Python 2.5 and a strange Python 3.0 which seems to be recognized as older than 2.6 for some strange reason.

Kind Regards.

Johnny Rosenberg  (wow, it worked again.! - this time the "regj" abbreviation)

<h3><font color="#FF4500">jschall said…</font></h3>

8/19/09.

<pre>
On Aug 18, 3:50 pm, jschall wrote:
> When I try to save a change in a phrase:
</pre>
Saving is working OK, now.  French accents are inserted correctly, but look weird in the configuration window.

The shortcut sgn is supposed to give:

- Jeff Schallenberg Mont Saint-Hilaire, QuÃ©bec  and it does.  The first time I try.  But a second time:

sgn sgn does nothing.  Stop/restart autokey:

Now, it gives the error (in SwiftFox) "The URL is not valid and will not be loaded"  Here is the traceback from the terminal:

<pre>
jeff@jeff-eeepc:~$ autokey &
[2] 8544
[1]   Done                    autokey
jeff@jeff-eeepc:~$ Exception in thread KeypressHandler-thread:
Traceback (most recent call last):
  File "/usr/lib/python2.6/threading.py", line 525, in
__bootstrap_inner
    self.run()
  File "/usr/lib/python2.6/dist-packages/autokey/iomediator.py", line
189, in run
    target.handle_keypress(key, windowName)
  File "/usr/lib/python2.6/dist-packages/autokey/service.py", line
142, in handle_keypress
    if self.__updateStack(key):
  File "/usr/lib/python2.6/dist-packages/autokey/service.py", line
201, in __updateStack
    self.phraseRunner.undo_expansion()
  File "/usr/lib/python2.6/dist-packages/autokey/service.py", line
350, in undo_expansion
    mediator.send_string(replay, False)
TypeError: send_string() takes exactly 2 arguments (3 given)
</pre>
I will keep testing 0.6.2, and report in another thread:

<h3><font color="#FF4500">Johnny Rosenberg said…</font></h3>

8/19/09.

<pre>
2009/8/19 jschall:
>
> On Aug 18, 3:50 pm, jschall wrote:
>> When I try to save a change in a phrase:
> Saving is working OK, now. French accents are inserted correctly, but
> look weird in the configuration window.
>
> The shortcut sgn is supposed to give:
>  - Jeff Schallenberg
> Mont Saint-Hilaire, QuÃ©bec
> and it does. The first time I try. But a second time:
>
> sgn sgn does nothing. Stop/restart autokey:
>
> Now, it gives the error (in SwiftFox) "The URL is not valid and will
> not be loaded"
</pre>
That's probably the same issue as I have with Opera: The text doesn't end up at the right place, in your case it ends up in the address field of SwiftFox.

Johnny Rosenberg.

<pre>
> Here is the traceback from the terminal:
> jeff@jeff-eeepc:~$ autokey &
> [2] 8544
> [1]   Done                    autokey
> jeff@jeff-eeepc:~$ Exception in thread KeypressHandler-thread:
> Traceback (most recent call last):
>  File "/usr/lib/python2.6/threading.py", line 525, in
> __bootstrap_inner
>    self.run()
>  File "/usr/lib/python2.6/dist-packages/autokey/iomediator.py", line
> 189, in run
>    target.handle_keypress(key, windowName)
>  File "/usr/lib/python2.6/dist-packages/autokey/service.py", line
> 142, in handle_keypress
>    if self.__updateStack(key):
>  File "/usr/lib/python2.6/dist-packages/autokey/service.py", line
> 201, in __updateStack
>    self.phraseRunner.undo_expansion()
>  File "/usr/lib/python2.6/dist-packages/autokey/service.py", line
> 350, in undo_expansion
>    mediator.send_string(replay, False)
> TypeError: send_string() takes exactly 2 arguments (3 given)
>
> I will keep testing 0.6.2, and report in another thread:
>
</pre>
<h3><font color="#FF4500">Chris D said…</font></h3>

8/19/09.

Please see the reply to Jeff's thread I just made.

2009/8/20 Johnny Rosenberg:

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: autokey 0.60 depends on kde libraries?</font></h1>

6 posts by 3 authors.

<h3><font color="#FF4500">nhasian said…</font></h3>

8/17/09.

Hello.

I'm running Ubuntu 64bit Karmic Koala alpha 4.  Today when i went to update autokey from version 0.54.5 to 0.60 it wanted to install python~kde4 as it was maked as a dependency.  this is en error right?  we dont need kde to run autokey now do we?

<h3><font color="#FF4500">Chris D said…</font></h3>

8/17/09.

The dependency is correct - AutoKey's UI is now buillt using PyKDE and for that you need the KDE libs.

<h3><font color="#FF4500">jschall said…</font></h3>

8/18/09.

<pre>
On Aug 17, 8:17 pm, Chris Dekter wrote:
> AutoKey's UI is now buillt using PyKDE and
> for that you need the KDE libs.
</pre>
May I respectfully ask - Why, Chris?

Jeff Schallenberg.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/18/09.

A number of reasons:

1.  I wanted to redesign the UI somewhat.  The existence of QT designer makes that a really quick task, whereas in 0.5x all the GUI stuff was hand coded (due to inadequate RAD tools for GTK). v0.5x had 1500 lines of handwritten GUI code, this is now reduced to 800.

2. kdelibs gives you a lot of functionality for free (i.e. no extra code) such as the configure toolbars option, configure shortcuts, automatic saving of window dimensions, etc.

3.  QT API is much nicer to use (this is subjective of course)

4.  Certain things in PyGTK simply do not work (treeview drag and drop is one example).  I've had several people tell me it does work, but nobody can produce a working example.  I spent many hours researching this and never got anywhere.  On the other hand, I got it working with the QT treeview in about 30 minutes.

2009/8/19 jschall:

<h3><font color="#FF4500">jschall said…</font></h3>

8/19/09.

<pre>O
n Aug 18, 10:19 pm, Chris Dekter wrote:
> A number of reasons
</pre>
OK, thanks, Chris.

I think you should realize, though, that for users like me running a netbook with a tiny solid-state drive (eeeC 4GB), and a trimmed-down version of Ubuntu (CrunchBang Lite) the extra kde libraries nearly swamp the remaining drive space.

Jeff.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/19/09.

I'm planning to do a no-GUI version of AutoKey that will require virtually nothing that is not in a standard Python install.  It will require a slightly steeper learning curve (since there is no GUI to show you how to do things) but may be better suited to super-light versions of Linux.  Stay tuned:

2009/8/20 jschall:

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Replacement for $(cursor )?</font></h1>

4 posts by 2 authors.

<h3><font color="#FF4500">doortokaos said…</font></h3>

8/19/09.

Before 0.60 there was a special string $(cursor ), that stopped working after the update.  It was quite useful, because I have some phrases that create sentence-parts that have to be "custom"-filled each time.

Is there anything similar or could you just reimplement that feature?

<h3><font color="#FF4500">Chris D said…</font></h3>

8/19/09.

That is correct - the macros have been removed as you can achieve the same thing with a script.  The script could even collect the custom part to be filled beforehand using an input dialog like so:

<pre>
result, custom = dialog.input_dialog()
if result == 0:
    keyboard.send_keys("You entered the custom value %s" % custom)
</pre>
With the new scripting interface, the possibilities are literally limitless - you have far more freedom than with the previous macros.  I would encourage everyone to explore the wiki and API documentation.  Seriously, it's there for a reason!

2009/8/19 doortokaos:

<h3><font color="#FF4500">doortokaos said…</font></h3>

8/19/09.

Great!  I just had a quick look in the scripting API but didn't realize the whole potential: For my current problem your suggestion fits perfectly, thank you.

A final question: are there more possibilities than mentioned in the API?  I mean, can I use standard script-language (what language is used anyway?) constructs like loops and so on?

Greetings. doortokaos   <h3><font color="#FF4500">Chris D said…</font></h3>


8/19/09.

The language being used is Python, so you have the entire Python language and its standard library at your disposal.  AutoKey is written in Python, so you can see it's a powerful language ;)

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: `<ctrl>` not recognized</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">mfseeker said…</font></h3>

8/19/09.

I have a phrase that sets up a special print sequence.  It begins with <ctrl>+p.  It no longer works under 0.60.  I have tested a simple phrase containing only <ctrl>+p.  It doesn't work.  Phrases containing only normal letters do work.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/19/09.

Phrases can't contain any special characters like that any more, since they are now pasted via the X selection (rather than via the keyboard).  You need to convert the phrase to a script, or create a script to do the work.

For example, if you have an existing phrase with <ctrl>+p in it, you right click the phrase in the tree view, and select "convert to script".

2009/8/19 mfseeker:

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Cannot install autokey !!!</font></h1>

3 posts by 2 authors.

<h3><font color="#FF4500">jflevi said…</font></h3>

8/18/09.

I tried to install autokey v.6 several time:

<pre>
• with synaptic
• uninstalled older version and tried install again
• manually removed all autokey files and tried install again
• uninstalled and tried install from PPA.
</pre>
The previous versions were working :

Running Intrepid 8.10.

Here is the output I get each time:

<pre>
Unpacking autokey (from…/autokey_0.60.1-0~intrepid_all.deb) :
Processing triggers for man-db :
Setting up autokey (0.60.1-0~intrepid) :
Compiling /usr/lib/python2.5/site-packages/autokey/ui/
configwindow.py :
  File "/usr/lib/python2.5/site-packages/autokey/ui/configwindow.py",
line 37
    from .. configmanager import `*`
SyntaxError: 'import `*`' not allowed with 'from .'

Compiling /usr/lib/python2.5/site-packages/autokey/ui/notifier.py :
  File "/usr/lib/python2.5/site-packages/autokey/ui/notifier.py", line
24
    from .. configmanager import `*`
SyntaxError: 'import `*`' not allowed with 'from .'

Compiling /usr/lib/python2.5/site-packages/autokey/ui/popupmenu.py :
  File "/usr/lib/python2.5/site-packages/autokey/ui/popupmenu.py",
line 26
    from .. configmanager import `*`
SyntaxError: 'import `*`' not allowed with 'from .'

Compiling /usr/lib/python2.5/site-packages/autokey/ui/
settingsdialog.py :
  File "/usr/lib/python2.5/site-packages/autokey/ui/
settingsdialog.py", line 24
    from .. configmanager import *
SyntaxError: 'import *' not allowed with 'from .'

pycentral: pycentral pkginstall: error byte-compiling files (33)
pycentral pkginstall: error byte-compiling files (33)
dpkg: error processing autokey (—configure):
 subprocess post-installation script returned error exit status 1
Errors were encountered while processing:
 autokey
E: Sub-process /usr/bin/dpkg returned an error code (1)
</pre>
Help !!!!!!!!!!!!!!!!!!!!!!!!

<h3><font color="#FF4500">Chris D said…</font></h3>

8/18/09.

Fixed in v0.60.2 (due out shortly).

2009/8/19 jflevi:

<h3><font color="#FF4500">jflevi said…</font></h3>

8/18/09.

Hurray !!!!!  It is working now !!!!!!!!!!!!!!!!!!  When you said "shortly", I figured, like, tomorrow.  Amazing !

The new interface is pretty slick; the only minor remark: it would be nice that the place where the abbreviation is in the config window was standing out better.  My old eyes wander around a bit; of course, after a while I guess I'll get used to it.

THANKS for this application !

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Syntax for Autokey</font></h1>

6 posts by 2 authors.

<h3><font color="#FF4500">A_Geek said…</font></h3>

8/15/09.

What is all the syntax for autokey. on one of the examples I saw a (cursor ) thing is there more syntax to auto key? and where can i find it?

<h3><font color="#FF4500">Chris D said…</font></h3>

8/15/09.

The cursor construct is one of the macros which are available under Edit->Insert Macro.  Apart from that, the only 'syntax' is for inserting special keys into the phrase which is available on the wiki (see the Special Keys page).

<h3><font color="#FF4500">A_Geek said…</font></h3>

8/15/09.

Is there cut and paste support?

<h3><font color="#FF4500">Chris D said…</font></h3>

8/15/09.

What do you mean, exactly?

<h3><font color="#FF4500">A_Geek said…</font></h3>

8/18/09.

Like being able to have something paste from the clipboard as part of the shortcut  Andrew   <h3><font color="#FF4500">Chris D said…</font></h3>


8/18/09.

Not in version 0.5x.  Version 0.6 supports it via the scripting engine.  See the API doc (it's linked from the home page and the project page).

2009/8/19 Andrew Dai:

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Autokey stops listening to keystrokes</font></h1>

18 posts by 3 authors.

<h3><font color="#FF4500">mfseeker said…</font></h3>

8/15/09.

My AutoKey (0.54.5) spontaneously stops listening to keystrokes.  When I boot Ubuntu (9.04), everything works fine, but sooner or later my hotkeys and phrase expansions stop working, and I must reboot to fix them.  I have not been able to detect what it is that is causing this.  Until I do, is there a way of fixing the problem when it happens, short of rebooting Ubuntu?

<h3><font color="#FF4500">Chris D said…</font></h3>

8/15/09.

So exiting AutoKey and starting it again doesn't help?

I'll need to see your logs - located at ~/.config/autokey/autokey.log and /var/log/autokey-daemon.log.

<h3><font color="#FF4500">Wayne Sallee said…</font></h3>

8/17/09.

Mine is doing it too.

It errors at boot-up.  Restarting autokey fixes it.

And after a while it stops reading the keys again.  Restarting autokey fixes it.

Wayne Sallee.

<h3><font color="#FF4500">Wayne Sallee said…</font></h3>

8/17/09.

I'll have to try version 6, and see how that does.

<h3><font color="#FF4500">Wayne Sallee said…</font></h3>

8/17/09.

I installed version 6, and now Autokey is dead.

The Install instructions file in the downloaded package needs to tell people how to install, and how to upgrade.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/17/09.

The source archive is targeted at developers and advanced users who want to modify the source before installing, and hence the instructions are written at that level.  Ideally you should be using the pre-built packages available from the PPA, unless you are not on a Debian-based system, in which case you are on your own (I am only one person, after all).

<h3><font color="#FF4500">Wayne Sallee said…</font></h3>

8/17/09.

I'm getting the following error: "ImportError: cannot import name Qsci".

<h3><font color="#FF4500">Chris D said…</font></h3>

8/17/09.

This sort of error almost always indicates a missing package.

You need to install the package python-qscintilla2.

<h3><font color="#FF4500">Wayne Sallee said…</font></h3>

8/17/09.

Thanks !

That got me farther down the road.

Now I'm getting the error: "Fatal error starting AutoKey.  ConfigurationManager instance has no attribute 'allItems' "

Wayne Sallee.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/17/09.

This indicates debris from old versions being present in your file system.  I would use the locate command to find all AutoKey files, remove them, and install from scratch (except for your autokey.bin config file in your home directory - obviously you don't want to remove that).

Chris.

<h3><font color="#FF4500">Wayne Sallee said…</font></h3>

8/17/09.

Ok Thanks.

What command would that be?

Wayne Sallee.

<h3><font color="#FF4500">Wayne Sallee said…</font></h3>

8/17/09.

Ok Thanks.

What command would that be?

Wayne Sallee.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/17/09.

The locate command - as in:

locate autokey  2009/8/18 Wayne Sallee:

<h3><font color="#FF4500">Wayne Sallee said…</font></h3>

8/17/09.

I also get the following errors when I try to run autokey from the command line:

<pre>
QGtkStyle cannot be used together with the GTK_Qt engine.
Qt: Session management error: None of the authentication protocols
specified are supported
kdeinit4: preparing to launch /usr/lib/kde4/libexec/klauncher
klauncher(6079) kdemain: No DBUS session-bus found. Check if you have
started the DBUS server.
kdeinit4: Communication error with launcher. Exiting!
AutoKey(6070): Couldn't start knotify from knotify4.desktop:
"KLauncher could not be reached via D-Bus. Error when calling
start_service_by_desktop_path:
Not connected to D-Bus server
</pre>
<h3><font color="#FF4500">Wayne Sallee said…</font></h3>

8/17/09.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/17/09.

These errors are misconfigurations in your desktop environment.

2009/8/18 Wayne Sallee:

<h3><font color="#FF4500">Wayne Sallee said…</font></h3>

8/17/09.

I also get the following errors when I try to run autokey from the command line:

<pre>
QGtkStyle cannot be used together with the GTK_Qt engine.
Qt: Session management error: None of the authentication protocols
specified are supported
kdeinit4: preparing to launch /usr/lib/kde4/libexec/klauncher
klauncher(6079) kdemain: No DBUS session-bus found. Check if you have
started the DBUS server.
kdeinit4: Communication error with launcher. Exiting!
AutoKey(6070): Couldn't start knotify from knotify4.desktop:
"KLauncher could not be reached via D-Bus. Error when calling
start_service_by_desktop_path:
Not connected to D-Bus server
</pre>
<h3><font color="#FF4500">Wayne Sallee said…</font></h3>

8/17/09.

Sorry about the duplicate posts.

Looks like hitting refresh in the browser has done that.

I'll try to be more careful.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: AutoKey 0.60</font></h1>

4 posts by 2 authors.

<h3><font color="#FF4500">mfseeker said…</font></h3>

8/17/09.

Great!  Thanks Chris.

Now, how do we learn to use the scripting feature?

<h3><font color="#FF4500">Chris D said…</font></h3>

8/17/09.

I plan on putting some example scripts on the wiki soon (maybe tomorrow).  Obviously, the basic syntax is plain old Python so a good Python tutorial is your friend there.  There are some special objects and methods available to AutoKey scripts and these are documented in the Scripting API doc: <tt>http://autokey.sourceforge.net/apidoc</tt>

<h3><font color="#FF4500">mfseeker said…</font></h3>

8/17/09.

Ah yes.  So it's off to learn the basics of Python.  I have worked a very little with Ruby and Pearl and have located some promising stuff on Python.

But my question is even more naive.  How do I call these scripts from within AutoKey?  How do I incorporate them into the AutoKey interface?

I'm guessing I create or obtain a Python script, put it [where?], and use Insert Macro / Run shell command in a new AutoKey phrase.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/17/09.

Scripts are created exactly the same way as phrases.  File -> Create -> New Script.  Then edit the code for the script just as you would edit a phrase.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Old Forums</font></h1>

3 posts by 2 authors.

<h3><font color="#FF4500">Wayne Sallee said…</font></h3>

8/17/09.

Why have the old forums been removed?

They still have useful information.

Wayne Sallee.

<h3><font color="#FF4500">Chris D said…</font></h3>

8/17/09.

And now they're back:

<h3><font color="#FF4500">Wayne Sallee said…</font></h3>

8/17/09.

Thanks!

Wayne Sallee.

<br /><hr /><br /><br /><h1><font color="#225588">Thread Subject: Beta</font></h1>

2 posts by 2 authors.

<h3><font color="#FF4500">mfseeker said…</font></h3>

8/15/09.

OK.  Thanks Chris for helping me find my way to this group.

Is it too late to apply for a beta of your new 0.6?

<h3><font color="#FF4500">Chris D said…</font></h3>

8/15/09.

It's not too late - actually I'm planning to put the beta out as a full release in a few days (I was delayed by the move to Google Code) so you'll be able to install it then.